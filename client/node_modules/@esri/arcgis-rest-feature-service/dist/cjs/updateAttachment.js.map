{"version":3,"file":"updateAttachment.js","sourceRoot":"","sources":["../../src/updateAttachment.ts"],"names":[],"mappings":";AAAA;gBACgB;;;AAEhB,mEAA8D;AAsB9D;;;;;;;;;;;;;;;;GAgBG;AACH,SAAgB,gBAAgB,CAC9B,cAAwC;IAExC,MAAM,OAAO,mBACX,MAAM,EAAE,EAAE,IACP,cAAc,CAClB,CAAC;IAEF,iDAAiD;IACjD,OAAO,CAAC,MAAM,CAAC,UAAU,GAAG,cAAc,CAAC,UAAU,CAAC;IACtD,OAAO,CAAC,MAAM,CAAC,YAAY,GAAG,cAAc,CAAC,YAAY,CAAC;IAE1D,OAAO,IAAA,6BAAO,EACZ,GAAG,IAAA,8BAAQ,EAAC,OAAO,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,SAAS,mBAAmB,EAChE,OAAO,CACR,CAAC;AACJ,CAAC;AAhBD,4CAgBC","sourcesContent":["/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { request, cleanUrl } from \"@esri/arcgis-rest-request\";\nimport { IGetLayerOptions, IEditFeatureResult } from \"./helpers.js\";\n\n/**\n * Request options to for updating a related attachment to a feature by id. See [Update Attachment](https://developers.arcgis.com/rest/services-reference/update-attachment.htm) for more information.\n *\n */\nexport interface IUpdateAttachmentOptions extends IGetLayerOptions {\n  /**\n   * Unique identifier of feature to update related attachment.\n   */\n  featureId: number;\n  /**\n   * File to be updated.\n   */\n  attachment: File;\n  /**\n   * Unique identifier of the attachment.\n   */\n  attachmentId: number;\n}\n\n/**\n * Update a related attachment to a feature by id. See [Update Attachment](https://developers.arcgis.com/rest/services-reference/update-attachment.htm) for more information.\n *\n * ```js\n * import { updateAttachment } from '@esri/arcgis-rest-feature-service';\n * //\n * updateAttachment({\n *   url: \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0\",\n *   featureId: 8484,\n *   attachment: myFileInput.files[0],\n *   attachmentId: 306\n * });\n * ```\n *\n * @param requestOptions - Options for the request.\n * @returns A Promise that will resolve with the `updateAttachment()` response.\n */\nexport function updateAttachment(\n  requestOptions: IUpdateAttachmentOptions\n): Promise<{ updateAttachmentResult: IEditFeatureResult }> {\n  const options: IUpdateAttachmentOptions = {\n    params: {},\n    ...requestOptions\n  };\n\n  // `attachment` and `attachmentId` --> params: {}\n  options.params.attachment = requestOptions.attachment;\n  options.params.attachmentId = requestOptions.attachmentId;\n\n  return request(\n    `${cleanUrl(options.url)}/${options.featureId}/updateAttachment`,\n    options\n  );\n}\n"]}