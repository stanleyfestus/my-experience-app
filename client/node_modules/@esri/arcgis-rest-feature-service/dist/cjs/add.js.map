{"version":3,"file":"add.js","sourceRoot":"","sources":["../../src/add.ts"],"names":[],"mappings":";AAAA;gBACgB;;;AAEhB,mEAKmC;AAenC;;;;;;;;;;;;;;;;;;GAkBG;AACH,SAAgB,WAAW,CACzB,cAAmC;IAEnC,MAAM,GAAG,GAAG,GAAG,IAAA,8BAAQ,EAAC,cAAc,CAAC,GAAG,CAAC,cAAc,CAAC;IAE1D,gCAAgC;IAChC,MAAM,OAAO,GAAG,IAAA,wCAAkB,EAChC,cAAc,EACd,CAAC,UAAU,EAAE,YAAY,EAAE,kBAAkB,EAAE,mBAAmB,CAAC,EACnE,EAAE,MAAM,oBAAO,cAAc,CAAC,MAAM,CAAE,EAAE,CACzC,CAAC;IAEF,OAAO,IAAA,6BAAO,EAAC,GAAG,EAAE,OAAO,CAAC,CAAC;AAC/B,CAAC;AAbD,kCAaC","sourcesContent":["/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport {\n  request,\n  cleanUrl,\n  appendCustomParams,\n  IFeature\n} from \"@esri/arcgis-rest-request\";\n\nimport { ISharedEditOptions, IEditFeatureResult } from \"./helpers.js\";\n\n/**\n * Add features request options. See the [REST Documentation](https://developers.arcgis.com/rest/services-reference/add-features.htm) for more information.\n *\n */\nexport interface IAddFeaturesOptions extends ISharedEditOptions {\n  /**\n   * Array of JSON features to add.\n   */\n  features: IFeature[];\n}\n\n/**\n * Add features request. See the [REST Documentation](https://developers.arcgis.com/rest/services-reference/add-features.htm) for more information.\n *\n * ```js\n * import { addFeatures } from '@esri/arcgis-rest-feature-service';\n * //\n * addFeatures({\n *   url: \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0\",\n *   features: [{\n *     geometry: { x: -120, y: 45, spatialReference: { wkid: 4326 } },\n *     attributes: { status: \"alive\" }\n *   }]\n * })\n *   .then(response)\n * ```\n *\n * @param requestOptions - Options for the request.\n * @returns A Promise that will resolve with the addFeatures response.\n */\nexport function addFeatures(\n  requestOptions: IAddFeaturesOptions\n): Promise<{ addResults: IEditFeatureResult[] }> {\n  const url = `${cleanUrl(requestOptions.url)}/addFeatures`;\n\n  // edit operations are POST only\n  const options = appendCustomParams<IAddFeaturesOptions>(\n    requestOptions,\n    [\"features\", \"gdbVersion\", \"returnEditMoment\", \"rollbackOnFailure\"],\n    { params: { ...requestOptions.params } }\n  );\n\n  return request(url, options);\n}\n"]}