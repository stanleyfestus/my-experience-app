{"version":3,"file":"getAttachments.js","sourceRoot":"","sources":["../../src/getAttachments.ts"],"names":[],"mappings":"AAAA;gBACgB;AAEhB,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,2BAA2B,CAAC;AAwB9D;;;;;;;;;;;;;;GAcG;AACH,MAAM,UAAU,cAAc,CAC5B,cAAsC;IAEtC,MAAM,OAAO,mBACX,UAAU,EAAE,KAAK,IACd,cAAc,CAClB,CAAC;IAEF,eAAe;IACf,OAAO,OAAO,CACZ,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,SAAS,cAAc,EAC3D,OAAO,CACR,CAAC;AACJ,CAAC","sourcesContent":["/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { request, cleanUrl } from \"@esri/arcgis-rest-request\";\nimport { IGetLayerOptions } from \"./helpers.js\";\n\n/**\n * Request options to fetch `attachmentInfos` of a feature by id. See [Attachment Infos](https://developers.arcgis.com/rest/services-reference/attachment-infos-feature-service-.htm) for more information.\n *\n */\nexport interface IGetAttachmentsOptions extends IGetLayerOptions {\n  /**\n   * Unique identifier of feature to request related `attachmentInfos`.\n   */\n  featureId: number;\n}\n\n/**\n * Attachment, a.k.a. `attachmentInfo`. See [Attachment](https://developers.arcgis.com/rest/services-reference/attachment-feature-service-.htm) for more information.\n */\nexport interface IAttachmentInfo {\n  id: number;\n  contentType: string;\n  size: number;\n  name: string;\n}\n\n/**\n * Request `attachmentInfos` of a feature by id. See [Attachment Infos](https://developers.arcgis.com/rest/services-reference/attachment-infos-feature-service-.htm) for more information.\n *\n * ```js\n * import { getAttachments } from '@esri/arcgis-rest-feature-service';\n * //\n * getAttachments({\n *   url: \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0\",\n *   featureId: 8484\n * });\n * ```\n *\n * @param requestOptions - Options for the request.\n * @returns A Promise that will resolve with the `getAttachments()` response.\n */\nexport function getAttachments(\n  requestOptions: IGetAttachmentsOptions\n): Promise<{ attachmentInfos: IAttachmentInfo[] }> {\n  const options: IGetAttachmentsOptions = {\n    httpMethod: \"GET\",\n    ...requestOptions\n  };\n\n  // pass through\n  return request(\n    `${cleanUrl(options.url)}/${options.featureId}/attachments`,\n    options\n  );\n}\n"]}