{"version":3,"file":"delete.js","sourceRoot":"","sources":["../../src/delete.ts"],"names":[],"mappings":"AAAA;gBACgB;AAEhB,OAAO,EACL,OAAO,EACP,QAAQ,EACR,kBAAkB,EACnB,MAAM,2BAA2B,CAAC;AAqBnC;;;;;;;;;;;;;;GAcG;AACH,MAAM,UAAU,cAAc,CAC5B,cAAsC;IAEtC,MAAM,GAAG,GAAG,GAAG,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,iBAAiB,CAAC;IAE7D,4BAA4B;IAC5B,MAAM,OAAO,GAAG,kBAAkB,CAChC,cAAc,EACd;QACE,OAAO;QACP,WAAW;QACX,YAAY;QACZ,kBAAkB;QAClB,mBAAmB;KACpB,EACD,EAAE,MAAM,oBAAO,cAAc,CAAC,MAAM,CAAE,EAAE,CACzC,CAAC;IAEF,OAAO,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;AAC/B,CAAC","sourcesContent":["/* Copyright (c) 2017 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport {\n  request,\n  cleanUrl,\n  appendCustomParams\n} from \"@esri/arcgis-rest-request\";\n\nimport {\n  ISharedEditOptions,\n  IEditFeatureResult,\n  ISharedQueryOptions\n} from \"./helpers.js\";\n\n/**\n * Delete features request options. See the [REST Documentation](https://developers.arcgis.com/rest/services-reference/delete-features.htm) for more information.\n *\n */\nexport interface IDeleteFeaturesOptions\n  extends ISharedEditOptions,\n    ISharedQueryOptions {\n  /**\n   * Array of objectIds to delete.\n   */\n  objectIds: number[];\n}\n\n/**\n * Delete features request. See the [REST Documentation](https://developers.arcgis.com/rest/services-reference/delete-features.htm) for more information.\n *\n * ```js\n * import { deleteFeatures } from '@esri/arcgis-rest-feature-service';\n * //\n * deleteFeatures({\n *   url: \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0\",\n *   objectIds: [1,2,3]\n * });\n * ```\n *\n * @param deleteFeaturesRequestOptions - Options for the request.\n * @returns A Promise that will resolve with the deleteFeatures response.\n */\nexport function deleteFeatures(\n  requestOptions: IDeleteFeaturesOptions\n): Promise<{ deleteResults: IEditFeatureResult[] }> {\n  const url = `${cleanUrl(requestOptions.url)}/deleteFeatures`;\n\n  // edit operations POST only\n  const options = appendCustomParams<IDeleteFeaturesOptions>(\n    requestOptions,\n    [\n      \"where\",\n      \"objectIds\",\n      \"gdbVersion\",\n      \"returnEditMoment\",\n      \"rollbackOnFailure\"\n    ],\n    { params: { ...requestOptions.params } }\n  );\n\n  return request(url, options);\n}\n"]}