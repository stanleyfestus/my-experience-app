{"version":3,"file":"deleteAttachments.js","sourceRoot":"","sources":["../../src/deleteAttachments.ts"],"names":[],"mappings":"AAAA;gBACgB;AAEhB,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,2BAA2B,CAAC;AAkB9D;;;;;;;;;;;;;;;GAeG;AACH,MAAM,UAAU,iBAAiB,CAC/B,cAAyC;IAEzC,MAAM,OAAO,mBACX,MAAM,EAAE,EAAE,IACP,cAAc,CAClB,CAAC;IAEF,iCAAiC;IACjC,OAAO,CAAC,MAAM,CAAC,aAAa,GAAG,cAAc,CAAC,aAAa,CAAC;IAE5D,OAAO,OAAO,CACZ,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,SAAS,oBAAoB,EACjE,OAAO,CACR,CAAC;AACJ,CAAC","sourcesContent":["/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { request, cleanUrl } from \"@esri/arcgis-rest-request\";\nimport { IGetLayerOptions, IEditFeatureResult } from \"./helpers.js\";\n\n/**\n * Request options to for deleting related attachments of a feature by id. See [Delete Attachments](https://developers.arcgis.com/rest/services-reference/delete-attachments.htm) for more information.\n *\n */\nexport interface IDeleteAttachmentsOptions extends IGetLayerOptions {\n  /**\n   * Unique identifier of feature to delete related attachment(s).\n   */\n  featureId: number;\n  /**\n   * Array of unique identifiers of attachments to delete.\n   */\n  attachmentIds: number[];\n}\n\n/**\n * Delete existing attachment files of a feature by id. See [Delete Attachments](https://developers.arcgis.com/rest/services-reference/delete-attachments.htm) for more information.\n *\n * ```js\n * import { deleteAttachments } from '@esri/arcgis-rest-feature-service';\n * //\n * deleteAttachments({\n *   url: \"https://sampleserver6.arcgisonline.com/arcgis/rest/services/ServiceRequest/FeatureServer/0\",\n *   featureId: 8484,\n *   attachmentIds: [306]\n * });\n * ```\n *\n * @param requestOptions - Options for the request.\n * @returns A Promise that will resolve with the `deleteAttachments()` response.\n */\nexport function deleteAttachments(\n  requestOptions: IDeleteAttachmentsOptions\n): Promise<{ deleteAttachmentResults: IEditFeatureResult[] }> {\n  const options: IDeleteAttachmentsOptions = {\n    params: {},\n    ...requestOptions\n  };\n\n  // `attachmentIds` --> params: {}\n  options.params.attachmentIds = requestOptions.attachmentIds;\n\n  return request(\n    `${cleanUrl(options.url)}/${options.featureId}/deleteAttachments`,\n    options\n  );\n}\n"]}