{"version":3,"file":"generate-random-string.js","sourceRoot":"","sources":["../../../src/utils/generate-random-string.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,kBAAkB,CAAC;AAEnD;;;;GAIG;AACH,MAAM,UAAU,oBAAoB,CAAC,GAAS;IAC5C,kGAAkG;IAClG,IAAI,CAAC,GAAG,IAAI,MAAM,EAAE;QAClB,GAAG,GAAG,MAAM,CAAC;KACd;IAED,MAAM,WAAW,GAAG,GAAG,CAAC,MAAM,CAAC,eAAe,CAAC,IAAI,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;IACnE,OAAO,eAAe,CAAC,WAAW,CAAC,CAAC;AACtC,CAAC","sourcesContent":["import { base64UrlEncode } from \"./base-64-url.js\";\n\n/**\n * Utility to generate a random string to use as our `code_verifier`\n *\n * @param win the global `window` object for accepting a mock while testing.\n */\nexport function generateRandomString(win?: any) {\n  /* istanbul ignore next: must pass in a mockwindow for tests so we can't cover the other branch */\n  if (!win && window) {\n    win = window;\n  }\n\n  const randomBytes = win.crypto.getRandomValues(new Uint8Array(32));\n  return base64UrlEncode(randomBytes);\n}\n"]}