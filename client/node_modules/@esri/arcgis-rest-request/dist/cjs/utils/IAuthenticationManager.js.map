{"version":3,"file":"IAuthenticationManager.js","sourceRoot":"","sources":["../../../src/utils/IAuthenticationManager.ts"],"names":[],"mappings":"","sourcesContent":["import { ITokenRequestOptions } from \"./ITokenRequestOptions.js\";\n/**\n * Authentication can be supplied to `request` via {@linkcode ArcGISIdentityManager}, {@linkcode ApplicationCredentialsManager} or {@linkcode APIKeyManager}. These classes implement {@linkCode IAuthenticationManager}.\n *\n * ```js\n * const session = new ArcGISIdentityManager({\n *   username: \"jsmith\",\n *   password: \"123456\",\n *   // optional\n *   portal: \"https://[yourserver]/arcgis/sharing/rest\"\n * })\n *\n * request(url, { authentication: session })\n * ```\n */\nexport interface IAuthenticationManager {\n  /**\n   * Defaults to 'https://www.arcgis.com/sharing/rest'.\n   */\n  portal: string;\n\n  /**\n   * Returns the proper token for a given URL and request options.\n   * @param url The requested URL.\n   * @param requestOptions the requests options.\n   */\n  getToken(url: string, requestOptions?: ITokenRequestOptions): Promise<string>;\n\n  /**\n   * Optional. Returns the proper [`credentials` option for `fetch`](https://developer.mozilla.org/en-US/docs/Web/API/fetch) for a given domain.\n   *\n   * See [trusted server](https://enterprise.arcgis.com/en/portal/latest/administer/windows/configure-security.htm#ESRI_SECTION1_70CC159B3540440AB325BE5D89DBE94A).\n   * Used internally by underlying request methods to add support for specific security considerations.\n   *\n   * @param url The url of the request\n   * @returns \"include\" or \"same-origin\"\n   */\n  getDomainCredentials?(url: string): RequestCredentials;\n\n  /**\n   * Optional. Should return `true` if these credentials can be refreshed and `false` if it cannot.\n   */\n  canRefresh?: boolean;\n\n  /**\n   * Optional. Refresh the stored credentials.\n   */\n  refreshCredentials?(requestOptions?: ITokenRequestOptions): Promise<this>;\n}\n"]}