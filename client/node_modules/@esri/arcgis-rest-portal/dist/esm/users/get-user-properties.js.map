{"version":3,"file":"get-user-properties.js","sourceRoot":"","sources":["../../../src/users/get-user-properties.ts"],"names":[],"mappings":"AAAA;gBACgB;AAEhB,OAAO,EAAuB,OAAO,EAAE,MAAM,2BAA2B,CAAC;AACzE,OAAO,EAAE,YAAY,EAAE,MAAM,2BAA2B,CAAC;AAgBzD;;;;;GAKG;AACH,MAAM,CAAC,KAAK,UAAU,iBAAiB,CACrC,QAAgB,EAChB,cAAmC;IAEnC,MAAM,GAAG,GAAG,GAAG,YAAY,CACzB,cAAc,CACf,oBAAoB,kBAAkB,CAAC,QAAQ,CAAC,aAAa,CAAC;IAC/D,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,GAAG,kBAAI,UAAU,EAAE,KAAK,IAAK,cAAc,EAAG,CAAC;IAC9E,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,SAAS,EAAE;QAClC,QAAQ,CAAC,UAAU,CAAC,SAAS,GAAG,QAAQ,CAAC;KAC1C;IACD,OAAO,QAAQ,CAAC,UAAU,CAAC;AAC7B,CAAC","sourcesContent":["/* Copyright (c) 2023 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { IUserRequestOptions, request } from \"@esri/arcgis-rest-request\";\nimport { getPortalUrl } from \"../util/get-portal-url.js\";\n\nexport interface IUserProperties {\n  /**\n   * user landing page configuration\n   */\n  landingPage: {\n    url: string;\n  };\n  /**\n   * user MapViewer configuration\n   */\n  mapViewer: \"classic\" | \"modern\";\n  [key: string]: unknown;\n}\n\n/**\n * Fetches the properties for a user\n * @param username The user whose properties to fetch\n * @param requestOptions An IUserRequestOptions object\n * @returns a promise that resolves an IUserProperties object\n */\nexport async function getUserProperties(\n  username: string,\n  requestOptions: IUserRequestOptions\n): Promise<IUserProperties> {\n  const url = `${getPortalUrl(\n    requestOptions\n  )}/community/users/${encodeURIComponent(username)}/properties`;\n  const response = await request(url, { httpMethod: \"GET\", ...requestOptions });\n  if (!response.properties.mapViewer) {\n    response.properties.mapViewer = \"modern\";\n  }\n  return response.properties;\n}\n"]}