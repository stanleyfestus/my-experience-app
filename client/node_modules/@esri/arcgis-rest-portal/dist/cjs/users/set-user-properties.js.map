{"version":3,"file":"set-user-properties.js","sourceRoot":"","sources":["../../../src/users/set-user-properties.ts"],"names":[],"mappings":";AAAA;gBACgB;;;AAEhB,mEAAyE;AACzE,iEAAyD;AAGzD;;;;;;GAMG;AACI,KAAK,UAAU,iBAAiB,CACrC,QAAgB,EAChB,UAA2B,EAC3B,cAAmC;IAEnC,MAAM,GAAG,GAAG,GAAG,IAAA,gCAAY,EACzB,cAAc,CACf,oBAAoB,kBAAkB,CAAC,QAAQ,CAAC,gBAAgB,CAAC;IAClE,MAAM,OAAO,mBACX,UAAU,EAAE,MAAM,EAClB,MAAM,EAAE,EAAE,UAAU,EAAE,IACnB,cAAc,CAClB,CAAC;IACF,IAAI;QACF,MAAM,QAAQ,GAAG,MAAM,IAAA,6BAAO,EAAC,GAAG,EAAE,OAAO,CAAC,CAAC;QAC7C,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;YACrB,MAAM,IAAI,KAAK,CAAC,mBAAmB,CAAC,CAAC;SACtC;QACD,OAAO,QAAQ,CAAC;KACjB;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,KAAK,GAAG,CAAU,CAAC;QACzB,MAAM,IAAI,KAAK,CAAC,kCAAkC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;KACpE;AACH,CAAC;AAvBD,8CAuBC","sourcesContent":["/* Copyright (c) 2023 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n\nimport { IUserRequestOptions, request } from \"@esri/arcgis-rest-request\";\nimport { getPortalUrl } from \"../util/get-portal-url.js\";\nimport { IUserProperties } from \"./get-user-properties.js\";\n\n/**\n * Updates the properties for a user\n * @param username The user whose properties to update\n * @param properties IUserProperties object with properties to update\n * @param requestOptions An IUserRequestOptions object\n * @returns a promise that resolves to { success: boolean }\n */\nexport async function setUserProperties(\n  username: string,\n  properties: IUserProperties,\n  requestOptions: IUserRequestOptions\n): Promise<{ success: boolean }> {\n  const url = `${getPortalUrl(\n    requestOptions\n  )}/community/users/${encodeURIComponent(username)}/setProperties`;\n  const options: IUserRequestOptions = {\n    httpMethod: \"POST\",\n    params: { properties },\n    ...requestOptions\n  };\n  try {\n    const response = await request(url, options);\n    if (!response.success) {\n      throw new Error(\"Success was false\");\n    }\n    return response;\n  } catch (e) {\n    const error = e as Error;\n    throw new Error(`Failed to set user properties: ${error.message}`);\n  }\n}\n"]}