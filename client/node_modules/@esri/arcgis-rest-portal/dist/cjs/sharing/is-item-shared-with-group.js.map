{"version":3,"file":"is-item-shared-with-group.js","sourceRoot":"","sources":["../../../src/sharing/is-item-shared-with-group.ts"],"names":[],"mappings":";;;AACA,kDAAiD;AAGjD;;;;;;;;;;;;;;;;;GAiBG;AACH,SAAgB,qBAAqB,CACnC,cAAoC;IAEpC,MAAM,UAAU,GAAG;QACjB,CAAC,EAAE,OAAO,cAAc,CAAC,EAAE,eAAe,cAAc,CAAC,OAAO,EAAE;QAClE,KAAK,EAAE,CAAC;QACR,GAAG,EAAE,EAAE;QACP,SAAS,EAAE,OAAO;QAClB,cAAc,EAAE,cAAc,CAAC,cAAc;QAC7C,UAAU,EAAE,MAAM;KACD,CAAC;IAEpB,OAAO,IAAA,uBAAW,EAAC,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,EAAE;QACrD,IAAI,MAAM,GAAG,KAAK,CAAC;QACnB,IAAI,cAAc,CAAC,KAAK,GAAG,CAAC,EAAE;YAC5B,MAAM,GAAG,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,GAAQ,EAAE,EAAE;gBAChD,OAAO,GAAG,CAAC,EAAE,KAAK,cAAc,CAAC,EAAE,CAAC;YACtC,CAAC,CAAC,CAAC;YACH,OAAO,MAAM,CAAC;SACf;IACH,CAAC,CAAC,CAAC;AACL,CAAC;AArBD,sDAqBC","sourcesContent":["import { IGroupSharingOptions } from \"./helpers.js\";\nimport { searchItems } from \"../items/search.js\";\nimport { ISearchOptions } from \"../util/search.js\";\n\n/**\n * Find out whether or not an item is already shared with a group.\n * \n * ```js\n * import { isItemSharedWithGroup } from \"@esri/arcgis-rest-portal\";\n * \n * isItemSharedWithGroup({\n *   groupId: 'bc3,\n *   itemId: 'f56,\n *   authentication\n * })\n * .then(isShared => {})\n * ```\n \n *\n * @param requestOptions - Options for the request. NOTE: `rawResponse` is not supported by this operation.\n * @returns Promise that will resolve with true/false\n */\nexport function isItemSharedWithGroup(\n  requestOptions: IGroupSharingOptions\n): Promise<boolean> {\n  const searchOpts = {\n    q: `id: ${requestOptions.id} AND group: ${requestOptions.groupId}`,\n    start: 1,\n    num: 10,\n    sortField: \"title\",\n    authentication: requestOptions.authentication,\n    httpMethod: \"POST\"\n  } as ISearchOptions;\n\n  return searchItems(searchOpts).then((searchResponse) => {\n    let result = false;\n    if (searchResponse.total > 0) {\n      result = searchResponse.results.some((itm: any) => {\n        return itm.id === requestOptions.id;\n      });\n      return result;\n    }\n  });\n}\n"]}