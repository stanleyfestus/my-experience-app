/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 */
import{timeZones as t}from"./p-74ed8773.js";import{extractRegion as n,global as e}from"./p-0bad7059.js";import"./p-6455f658.js";const o=new Date;const r=o.toISOString();const s=365;const c=s;const a={groupDateRange:c,startDate:r};const l=(t,n,e)=>{const o=[];let r=e.create(t);for(let t=0;t<=n;t++){r=e.increase(r);o.push(e.formatToIsoDateString(r))}return o};const i=(t,o,r,s)=>{const c=new Map;const a=l(o,r,s);return t.map((t=>{const{label:o}=t;const r=n(o);const l=a.map((t=>{const n=`${t}-${o}`;let e=c.get(n);if(e){return e}e=s.isoToTimeZone(t,o);c.set(n,e);return e}));return{...t,continent:r,isRegularContinent:r!==e,dates:l}}))};const u=(t,n,e)=>t.length===n.length&&t.every(((t,o)=>e.same(t,n[o])));const f=(t,o=5)=>{const r=t.filter((({label:t})=>n(t)!==e));if(r.length===0){return[0]}const s=r.map((n=>t.indexOf(n)));return b(s,o)};function b(t,n=5){const e=t.length;if(e<=n){return t}const o=Math.min(e-2,n-2);const r=(e-1)/(o+1);return[t[0],...Array.from({length:o},((n,e)=>t[Math.round((e+1)*r)])),t[e-1]]}async function d(n){const{groupDateRange:e,startDate:o,dateEngine:r}={...a,...n};const s=[];if(!r){throw new Error("dateEngine is required")}const c=t.map((t=>({label:t})));const l=i(c,o,e,r);for(const t of l){const{label:n,continent:e,dates:o}=t;if(t.visited){continue}t.visited=true;const c={labelIdx:[],tzs:[{label:n}]};for(const t of l.filter((t=>!t.visited))){const{label:n,continent:s,isRegularContinent:a,dates:l}=t;if((e===s||!a)&&u(o,l,r)){const e={label:n};c.tzs.push(e);t.visited=true}}s.push(c)}return s.map((t=>{t.tzs=t.tzs.sort(((t,n)=>t.label.localeCompare(n.label)));return{labelTzIdx:f(t.tzs,7),tzs:t.tzs.map((t=>t.label))}})).sort(((t,n)=>n.tzs.length-t.tzs.length))}export{d as groupByOffset};
//# sourceMappingURL=p-56652f71.js.map