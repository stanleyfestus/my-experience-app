/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v4.31.0-next.103
 */
const e={Blob:"esriFieldTypeBlob",Date:"esriFieldTypeDate",Double:"esriFieldTypeDouble",Geometry:"esriFieldTypeGeometry",GlobalID:"esriFieldTypeGlobalID",GUID:"esriFieldTypeGUID",Integer:"esriFieldTypeInteger",OID:"esriFieldTypeOID",Raster:"esriFieldTypeRaster",Single:"esriFieldTypeSingle",SmallInteger:"esriFieldTypeSmallInteger",String:"esriFieldTypeString",XML:"esriFieldTypeXML"},r={Count:"count",Sum:"sum",Minimum:"min",Maximum:"max",Average:"avg",StandardDeviation:"stddev",Variance:"var",ContinuousPercentile:"percentile_cont",DiscretePercentile:"percentile_disc",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate",NoAggregation:"no_aggregation"},t={Chart:"chart",Text:"chartText",Overlay:"chartOverlay",Overlays:"chartOverlays",Legend:"chartLegend",CursorCrosshair:"cursorCrosshair",Axis:"chartAxis",GaugeAxisTick:"gaugeAxisTick",GaugeNeedle:"gaugeNeedle",CategoryAxisFormat:"category",NumberAxisFormat:"number",DateAxisFormat:"date",Guide:"chartGuide",ScatterSeries:"scatterSeries",PieSeries:"pieSeries",PieTick:"pieTick",GaugeSeries:"gaugeSeries",LineSeries:"lineSeries",BarSeries:"barSeries",HistogramSeries:"histogramSeries",BoxPlotSeries:"boxPlotSeries",RadarSeries:"radarSeries",ProbabilityPlotSeries:"probabilityPlotSeries",ProfileGraphSeries:"profileGraphSeries",ComboLineAndBarSeries:"comboLineAndBarSeries",Buffer:"buffer",SizePolicy:"sizeScale"},a={statisticType:r.Count,sortingOrder:"ASC"},i="same",n="newer",o={Arabic:"ar",ArabicLatin:"ar-u-nu-latn",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",NorwegianBokml:"nb",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},s=[...Object.values(o),"en-AU","en-GB","es-ES","es-MX","de-CH","de-DE","de-AT","it-CH","it-IT"];var u="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=u||l||Function("return this")(),f=c.Symbol,d=Object.prototype,v=d.hasOwnProperty,m=d.toString,h=f?f.toStringTag:void 0,p=Object.prototype.toString,g="[object Null]",y="[object Undefined]",b=f?f.toStringTag:void 0;function w(e){return null==e?void 0===e?y:g:b&&b in Object(e)?function(e){var r=v.call(e,h),t=e[h];try{e[h]=void 0;var a=!0}catch(e){}var i=m.call(e);return a&&(r?e[h]=t:delete e[h]),i}(e):function(e){return p.call(e)}(e)}function x(e){return null!=e&&"object"==typeof e}var E="[object Symbol]";function F(e,r){for(var t=-1,a=null==e?0:e.length,i=Array(a);++t<a;)i[t]=r(e[t],t,e);return i}var j=Array.isArray,k=1/0,S=f?f.prototype:void 0,P=S?S.toString:void 0;function $(e){if("string"==typeof e)return e;if(j(e))return F(e,$)+"";if(function(e){return"symbol"==typeof e||x(e)&&w(e)==E}(e))return P?P.call(e):"";var r=e+"";return"0"==r&&1/e==-k?"-0":r}function O(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)}function C(e){return e}var A="[object AsyncFunction]",D="[object Function]",_="[object GeneratorFunction]",L="[object Proxy]";function I(e){if(!O(e))return!1;var r=w(e);return r==D||r==_||r==A||r==L}var z,T=c["__core-js_shared__"],q=(z=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",N=Function.prototype.toString;function B(e){if(null!=e){try{return N.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var R=/^\[object .+?Constructor\]$/,M=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function V(e,r){var t=function(e,r){return null==e?void 0:e[r]}(e,r);return function(e){return!(!O(e)||(r=e,q&&q in r))&&(I(e)?M:R).test(B(e));var r}(t)?t:void 0}var U=V(c,"WeakMap");function H(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var G,J,K,Q=Date.now,Z=function(){try{var e=V(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),W=Z,X=W?function(e,r){return W(e,"toString",{configurable:!0,enumerable:!1,value:(t=r,function(){return t}),writable:!0});var t}:C,Y=(G=X,J=0,K=0,function(){var e=Q(),r=16-(e-K);if(K=e,r>0){if(++J>=800)return arguments[0]}else J=0;return G.apply(void 0,arguments)}),ee=9007199254740991,re=/^(?:0|[1-9]\d*)$/;function te(e,r){var t=typeof e;return!!(r=r??ee)&&("number"==t||"symbol"!=t&&re.test(e))&&e>-1&&e%1==0&&e<r}function ae(e,r,t){"__proto__"==r&&W?W(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}function ie(e,r){return e===r||e!=e&&r!=r}var ne=Object.prototype.hasOwnProperty;function oe(e,r,t){var a=e[r];ne.call(e,r)&&ie(a,t)&&(void 0!==t||r in e)||ae(e,r,t)}var se=Math.max;function ue(e,r){return Y(function(e,r,t){return r=se(void 0===r?e.length-1:r,0),function(){for(var a=arguments,i=-1,n=se(a.length-r,0),o=Array(n);++i<n;)o[i]=a[r+i];i=-1;for(var s=Array(r+1);++i<r;)s[i]=a[i];return s[r]=t(o),H(e,this,s)}}(e,r,C),e+"")}var le=9007199254740991;function ce(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=le}function fe(e){return null!=e&&ce(e.length)&&!I(e)}function de(e,r,t){if(!O(t))return!1;var a=typeof r;return!!("number"==a?fe(t)&&te(r,t.length):"string"==a&&r in t)&&ie(t[r],e)}var ve=Object.prototype;function me(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||ve)}function he(e){return x(e)&&"[object Arguments]"==w(e)}var pe=Object.prototype,ge=pe.hasOwnProperty,ye=pe.propertyIsEnumerable,be=he(function(){return arguments}())?he:function(e){return x(e)&&ge.call(e,"callee")&&!ye.call(e,"callee")},we="object"==typeof exports&&exports&&!exports.nodeType&&exports,xe=we&&"object"==typeof module&&module&&!module.nodeType&&module,Ee=xe&&xe.exports===we?c.Buffer:void 0,Fe=(Ee?Ee.isBuffer:void 0)||function(){return!1},je={};je["[object Float32Array]"]=je["[object Float64Array]"]=je["[object Int8Array]"]=je["[object Int16Array]"]=je["[object Int32Array]"]=je["[object Uint8Array]"]=je["[object Uint8ClampedArray]"]=je["[object Uint16Array]"]=je["[object Uint32Array]"]=!0,je["[object Arguments]"]=je["[object Array]"]=je["[object ArrayBuffer]"]=je["[object Boolean]"]=je["[object DataView]"]=je["[object Date]"]=je["[object Error]"]=je["[object Function]"]=je["[object Map]"]=je["[object Number]"]=je["[object Object]"]=je["[object RegExp]"]=je["[object Set]"]=je["[object String]"]=je["[object WeakMap]"]=!1;var ke,Se="object"==typeof exports&&exports&&!exports.nodeType&&exports,Pe=Se&&"object"==typeof module&&module&&!module.nodeType&&module,$e=Pe&&Pe.exports===Se&&u.process,Oe=function(){try{return Pe&&Pe.require&&Pe.require("util").types||$e&&$e.binding&&$e.binding("util")}catch(e){}}(),Ce=Oe&&Oe.isTypedArray,Ae=Ce?(ke=Ce,function(e){return ke(e)}):function(e){return x(e)&&ce(e.length)&&!!je[w(e)]},De=Object.prototype.hasOwnProperty;function _e(e,r){var t=j(e),a=!t&&be(e),i=!t&&!a&&Fe(e),n=!t&&!a&&!i&&Ae(e),o=t||a||i||n,s=o?function(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}(e.length,String):[],u=s.length;for(var l in e)!r&&!De.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||n&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||te(l,u))||s.push(l);return s}function Le(e,r){return function(t){return e(r(t))}}var Ie=Le(Object.keys,Object),ze=Object.prototype.hasOwnProperty;var Te=Object.prototype.hasOwnProperty;var qe,Ne=(qe=function(e,r,t,a){!function(e,r,t,a){var i=!t;t||(t={});for(var n=-1,o=r.length;++n<o;){var s=r[n],u=a?a(t[s],e[s],s,t,e):void 0;void 0===u&&(u=e[s]),i?ae(t,s,u):oe(t,s,u)}}(r,function(e){return fe(e)?_e(e,!0):function(e){if(!O(e))return function(e){var r=[];if(null!=e)for(var t in Object(e))r.push(t);return r}(e);var r=me(e),t=[];for(var a in e)("constructor"!=a||!r&&Te.call(e,a))&&t.push(a);return t}(e)}(r),e,a)},ue((function(e,r){var t=-1,a=r.length,i=a>1?r[a-1]:void 0,n=a>2?r[2]:void 0;for(i=qe.length>3&&"function"==typeof i?(a--,i):void 0,n&&de(r[0],r[1],n)&&(i=a<3?void 0:i,a=1),e=Object(e);++t<a;){var o=r[t];o&&qe(e,o,0,i)}return e}))),Be=Ne;V(Object,"create");var Re=V(c,"Map");function Me(e){return null==e?"":$(e)}var Ve=Le(Object.getPrototypeOf,Object),Ue="[object Object]",He=Function.prototype.toString,Ge=Object.prototype.hasOwnProperty,Je=He.call(Object),Ke="[object DOMException]",Qe="[object Error]";function Ze(e){if(!x(e))return!1;var r=w(e);return r==Qe||r==Ke||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!x(e)||w(e)!=Ue)return!1;var r=Ve(e);if(null===r)return!0;var t=Ge.call(r,"constructor")&&r.constructor;return"function"==typeof t&&t instanceof t&&He.call(t)==Je}(e)}var We=ue((function(e,r){try{return H(e,void 0,r)}catch(e){return Ze(e)?e:new Error(e)}})),Xe=We;"object"==typeof exports&&exports&&!exports.nodeType&&exports&&"object"==typeof module&&module&&!module.nodeType&&module;var Ye=V(c,"DataView"),er=V(c,"Promise"),rr=V(c,"Set"),tr="[object Map]",ar="[object Promise]",ir="[object Set]",nr="[object WeakMap]",or="[object DataView]",sr=B(Ye),ur=B(Re),lr=B(er),cr=B(rr),fr=B(U),dr=w;(Ye&&dr(new Ye(new ArrayBuffer(1)))!=or||Re&&dr(new Re)!=tr||er&&dr(er.resolve())!=ar||rr&&dr(new rr)!=ir||U&&dr(new U)!=nr)&&(dr=function(e){var r=w(e),t="[object Object]"==r?e.constructor:void 0,a=t?B(t):"";if(a)switch(a){case sr:return or;case ur:return tr;case lr:return ar;case cr:return ir;case fr:return nr}return r});var vr,mr=(vr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==vr?void 0:vr[e]}),hr=/[&<>"']/g,pr=RegExp(hr.source),gr=Object.prototype,yr=gr.hasOwnProperty;function br(e,r,t,a){return void 0===e||ie(e,gr[t])&&!yr.call(a,t)?r:e}var wr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function xr(e){return"\\"+wr[e]}var Er=/<%=([\s\S]+?)%>/g,Fr={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Er,variable:"",imports:{_:{escape:function(e){return(e=Me(e))&&pr.test(e)?e.replace(hr,mr):e}}}},jr="Invalid `variable` option passed into `_.template`",kr=/\b__p \+= '';/g,Sr=/\b(__p \+=) '' \+/g,Pr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$r=/[()=,{}\[\]\/\s]/,Or=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cr=/($^)/,Ar=/['\n\r\u2028\u2029\\]/g,Dr=Object.prototype.hasOwnProperty;function _r(e,r){return function(e,r){var t=Fr.imports._.templateSettings||Fr;e=Me(e),r=Be({},r,t,br);var a,i,n=Be({},r.imports,t.imports,br),o=function(e){return fe(e)?_e(e):function(e){if(!me(e))return Ie(e);var r=[];for(var t in Object(e))ze.call(e,t)&&"constructor"!=t&&r.push(t);return r}(e)}(n),s=function(e,r){return F(r,(function(r){return e[r]}))}(n,o),u=0,l=r.interpolate||Cr,c="__p += '",f=RegExp((r.escape||Cr).source+"|"+l.source+"|"+(l===Er?Or:Cr).source+"|"+(r.evaluate||Cr).source+"|$","g"),d=Dr.call(r,"sourceURL")?"//# sourceURL="+(r.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(f,(function(r,t,n,o,s,l){return n||(n=o),c+=e.slice(u,l).replace(Ar,xr),t&&(a=!0,c+="' +\n__e("+t+") +\n'"),s&&(i=!0,c+="';\n"+s+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=l+r.length,r})),c+="';\n";var v=Dr.call(r,"variable")&&r.variable;if(v){if($r.test(v))throw new Error(jr)}else c="with (obj) {\n"+c+"\n}\n";c=(i?c.replace(kr,""):c).replace(Sr,"$1").replace(Pr,"$1;"),c="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var m=Xe((function(){return Function(o,d+"return "+c).apply(void 0,s)}));if(m.source=c,Ze(m))throw m;return m}(e)(r)}function Lr(e,r){let t=o.English;const a=function(e){let r=e;if(void 0!==e&&e.includes("-")){const[t,a]=e.split("-");r=`${t}-${a.toUpperCase()}`}return r}(e);if(void 0!==a)if(r.includes(a))t=a;else{const e=function(e){const r=e?.match(/^([a-z]{2})-([A-Z]{2})$/u);let t=o.English;return null!=r&&r?.length>1?t=r[1]:2===e?.length&&e.toLowerCase()===e&&(t=e),t}(a);r.includes(e)&&(t=e)}return t}function Ir(e,r){return function r(t){let a;return a=void 0===t||t===document||t===window?null:t.closest(e)||r(t.getRootNode().host),a}(r)}function zr(e=document.documentElement){const r=Ir("[lang]",e),t=r?.lang??window.navigator.language,a=Object.values(o),i=Object.values(s),n=Lr(t,a);let u=Lr(t,i);return u="ar"===u?"ar-u-nu-latn":u,{locale:n,rtl:"rtl"===Ir("[dir]",e)?.getAttribute("dir"),formatLocale:u}}function Tr(e){let r;return"unknown"===e?r="UTC":void 0!==e&&"system"!==e&&(r=e),r}async function qr(e,r,t){let a=e.tagName.toLowerCase();t&&(a=a.replace("arcgis-",""));const{locale:i,rtl:n}=zr(e),s=await async function(e){const{path:r,locale:t,baseURL:a}=e;let i={};try{const e=await fetch(`${a}assets/${r}/t9n/${r}.t9n.${t}.json`);i=await e.json()}catch(e){const t=await fetch(`${a}assets/${r}/t9n/${r}.t9n.${o.English}.json`);i=await t.json()}return i}({path:a,locale:i,baseURL:r});let u=e.getAttribute("dir");return"ltr"!==u&&"rtl"!==u&&(u=n?"rtl":"ltr"),{strings:s,direction:u}}async function Nr(e){const{element:r,baseURL:t,filePrefix:a}=e,{locale:i}=zr(r);let n;try{const e=await fetch(`${t}/${a}.t9n.${i}.json`);n=await e.json()}catch(e){n="common"===a?{statistics:{mean:"Mean",median:"Median",sum:"Sum",discretePercentile:"Discrete percentile",minimum:"Minimum",maximum:"Maximum",firstQuartile:"First quartile",thirdQuartile:"Third quartile",iqr:"IQR",standardDeviation:"Standard deviation",variance:"Variance",count:"Count",aggregation:"${ statistics } of ${ fieldName }",percent:"Percent",noAggregation:"No aggregation",meanValue:"Mean value"},overlays:{mean:"Mean",median:"Median",stdDev:"Standard Deviation",normal:"Normal Distribution",trendline:"Trendline"},guideTooltipLabel:"From ${ guideStart } to ${ guideEnd }",pieChart:{defaultSliceGroupingLabel:"Other"},notAvailable:"Not Available",field:"Field"}:{errorHeading:"Error",tooManySelectedElements:{title:"Selection limit exceeded",message:"Selections are limited to 500 elements"},incompatibleChartVersion:{title:"Incompatible chart version",message:"Chart version ${ chartVersion } is not compatible with this application. Some features may not be available."},modalHeaders:{invalidData:"Invalid data",invalidChart:"Invalid chart",noDataAvailable:"No data available to display",tooManyFeatures:"Too many features",cannotCombineNegativeAndPositiveSlices:"Pie charts cannot combine slices with positive values to slices with negative values",error:"Error",warning:"Warning",newChart:"New chart"},errors:{divNode:"Creating a chart requires an HTML div node.",errorRequest:"Please fix the following errors: ",warningRequest:"Please address the following warnings: ",newChartRequest:"Configure chart.",invalidValueFormatForLineChart:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the line chart y-axis.",invalidValueFormatForBarChart:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the bar chart y-axis.",invalidValueFormatForComboBarLineChart:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the bar-line chart y-axis, and category and date types on the x-axis.",invalidValueFormatForBoxPlot:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the box plot y-axis, and category and date types on the x-axis.",invalidValueFormatForHistogram:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the histogram axes.",invalidValueFormatForScatterPlot:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the scatter plot axes.",invalidValueFormatForGauge:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the gauge.",mismatchAxisAndValueFormat:"There's a mismatch between the axis type and the axis 'valueFormat'.",queryError:"Failure to read input data.",simpleError:"Something went wrong.",defaultInvalidChart:"There was an error creating the chart.",categoryCountCannotExceedLimit:"There are ${ categoryCount } categories on this chart. Charts are limited to ${ maxCategoryCount } categories. Choose a Category field with fewer unique values or apply a filter to your data.",uniqueSeriesBarCountCannotExceedLimit:"There are a total of ${ elementCount } bars in this chart. Bar charts with one series are limited to ${ totalLimit } bars. Choose a Category field with fewer unique values or apply a filter to your data.",twoSeriesBarCountCannotExceedLimit:"Bar charts with two series are limited to ${ totalLimit } bars, or ${ seriesLimit } bars per series. Choose a Category field with fewer unique values or apply a filter to your data.",threePlusSeriesBarCountCannotExceedLimit:"Bar charts with three or more series are limited to ${ totalLimit } bars, or ${ seriesLimit } bars per series. Choose a Category field with fewer unique values or apply a filter to your data.",barSeriesCountCannotExceedLimit:"Bar charts are limited to ${ seriesLimit } series. Choose a split-by field with fewer unique values",uniqueSeriesLineCountCannotExceedLimit:"There are a total of ${ elementCount } markers in this chart. Line charts with one series are limited to ${ totalLimit } markers. Choose a numeric field with fewer unique values or apply a filter to your data.",twoSeriesLineCountCannotExceedLimit:"Line charts with two series are limited to ${ totalLimit } markers, or ${ seriesLimit } markers per series. Choose a numeric field with fewer unique values or apply a filter to your data.",threePlusSeriesLineCountCannotExceedLimit:"Line charts with three or more series are limited to ${ totalLimit } markers, or ${ seriesLimit } markers per series. Choose a numeric field with fewer unique values or apply a filter to your data.",uniqueTemporalSeriesLineCountCannotExceedLimit:"There are a total of ${ elementCount } markers in this chart. Line charts with one series are limited to ${ totalLimit } markers. Choose a larger temporal bin size or apply a filter to your data.",twoTemporalSeriesLineCountCannotExceedLimit:"Line charts with two series are limited to ${ totalLimit } markers, or ${ seriesLimit } markers per series. Choose a larger temporal bin size or apply a filter to your data.",threePlusTemporalSeriesLineCountCannotExceedLimit:"Line charts with three or more series are limited to ${ totalLimit } markers, or ${ seriesLimit } markers per series. Choose a larger temporal bin size or apply a filter to your data.",lineSeriesCountCannotExceedLimit:"Line charts are limited to ${ seriesLimit } series. Choose a split-by field with fewer unique values",uniqueSeriesBoxCountCannotExceedLimit:"There are a total of ${ elementCount } boxes in this chart. Box plots with one series are limited to ${ totalLimit } boxes. Choose a Category field with fewer unique values or apply a filter to your data.",twoSeriesBoxCountCannotExceedLimit:"Box plots with two series are limited to ${ totalLimit } boxes, or ${ seriesLimit } boxes per series. Choose a Category field with fewer unique values or apply a filter to your data.",threePlusBoxLineCountCannotExceedLimit:"Box plots with three or more series are limited to ${ totalLimit } boxes, or ${ seriesLimit } boxes per series. Choose a Category field with fewer unique values or apply a filter to your data.",boxSeriesCountCannotExceedLimit:"Box plots are limited to ${ seriesLimit } series. Choose a split-by field with fewer unique values",boxSeriesOutlierCannotExceedLimit:"Box plots can only display up to ${ totalLimit } outlier points. Filter you data.",pieChartCannotHaveMixtureOfPositiveAndNegativeSlices:"Ensure the sum total of the chosen numeric field(s) returns all positive values or all negative values.",pieChartSlicesCannotExceedLimit:"There are a total of ${ sliceCount } slices in this chart. Pie charts are limited to ${ totalLimit } slices. Choose a Category field with fewer unique values, add fewer Numeric fields, or apply a filter to your data.",gaugeCannotExceedLimit:"Feature-based gauges are limited to ${ totalLimit } features. Filter your data.",negativeValueInDataForLogTransformation:"Cannot apply a log transformation to negative or zero values.",negativeValueInDataForSqrtTransformation:"Cannot apply a square root transformation to negative values.",logarithmicXAxisNotPossible:"Logarithmic value x-axis cannot have negative or zero values.",logarithmicYAxisNotPossible:"Logarithmic value y-axis cannot have negative or zero values.",histogramEmptyField:"Histograms require at least two numeric values.",noDataMessage:"No data is available to display due to empty data field(s) and/or combination of filters.",noDataFBSMessage:"Filter by selection is enabled. There are no selected features to display.",noDataFBEMessage:"Filter by extent is enabled. There are no features in the map extent to display."}}}return n}const Br={maxRecordCountFactor:5,maxParallelRequests:4,maxRecords:2e3,orderByJSAPIDelimiter:" ",outStatistics:{statisticType:a.statisticType,onStatisticField:"OBJECTID",outStatisticFieldName:"arcgis_charts_outStatisticFieldName_default_key"},uniqueIdsName:"arcgisChartsUniqueIds"},Rr="arcgis_charts_box_plot_category";var Mr="undefined"!=typeof window&&"$arcgis"in window&&"object"==typeof window.$arcgis&&"import"in window.$arcgis&&!("forceESM"in window.$arcgis);function Vr(e){return void 0!==e.default}async function Ur(){if(Mr)return await window.$arcgis.import("esri/core/promiseUtils");const e=await import("@arcgis/core/core/promiseUtils.js");return Vr(e)?e.default:e}async function Hr(){if(Mr)return await window.$arcgis.import("esri/geometry/support/jsonUtils");const e=await import("@arcgis/core/geometry/support/jsonUtils.js");return Vr(e)?e.default:e}function Gr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jr={exports:{}};function Kr(e,r,t,a){var i,n=null==(i=a)||"number"==typeof i||"boolean"==typeof i?a:t(a),o=r.get(n);return void 0===o&&(o=e.call(this,a),r.set(n,o)),o}function Qr(e,r,t){var a=Array.prototype.slice.call(arguments,3),i=t(a),n=r.get(i);return void 0===n&&(n=e.apply(this,a),r.set(i,n)),n}function Zr(e,r,t,a,i){return t.bind(r,e,a,i)}function Wr(e,r){return Zr(e,this,1===e.length?Kr:Qr,r.cache.create(),r.serializer)}function Xr(){return JSON.stringify(arguments)}function Yr(){this.cache=Object.create(null)}Yr.prototype.has=function(e){return e in this.cache},Yr.prototype.get=function(e){return this.cache[e]},Yr.prototype.set=function(e,r){this.cache[e]=r};var et={create:function(){return new Yr}};Jr.exports=function(e,r){return(r&&r.strategy?r.strategy:Wr)(e,{cache:r&&r.cache?r.cache:et,serializer:r&&r.serializer?r.serializer:Xr})},Jr.exports.strategies={variadic:function(e,r){return Zr(e,this,Qr,r.cache.create(),r.serializer)},monadic:function(e,r){return Zr(e,this,Kr,r.cache.create(),r.serializer)}};var rt=Gr(Jr.exports);Function.prototype.toString.call(Object);var tt={exports:{}},at={},it={exports:{}},nt={};var ot=/javascript\s*\:/gim;nt.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},nt.getDefaultWhiteList=function(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}},nt.onAttr=function(){},nt.onIgnoreAttr=function(){},nt.safeAttrValue=function(e,r){return ot.test(r)?"":r};var st=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},ut=nt,lt=function(e,r){";"!==(e=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}(e))[e.length-1]&&(e+=";");var t=e.length,a=!1,i=0,n=0,o="";function s(){if(!a){var t=st(e.slice(i,n)),s=t.indexOf(":");if(-1!==s){var u=st(t.slice(0,s)),l=st(t.slice(s+1));if(u){var c=r(i,o.length,u,l,t);c&&(o+=c+"; ")}}}i=n+1}for(;n<t;n++){var u=e[n];if("/"===u&&"*"===e[n+1]){var l=e.indexOf("*/",n+2);if(-1===l)break;i=(n=l+1)+1,a=!1}else"("===u?a=!0:")"===u?a=!1:";"===u?a||s():"\n"===u&&s()}return st(o)};function ct(e){return null==e}function ft(e){(e=function(e){var r={};for(var t in e)r[t]=e[t];return r}(e||{})).whiteList=e.whiteList||ut.whiteList,e.onAttr=e.onAttr||ut.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||ut.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||ut.safeAttrValue,this.options=e}ft.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var r=this.options,t=r.whiteList,a=r.onAttr,i=r.onIgnoreAttr,n=r.safeAttrValue;return lt(e,(function(e,r,o,s,u){var l=t[o],c=!1;if(!0===l?c=l:"function"==typeof l?c=l(s):l instanceof RegExp&&(c=l.test(s)),!0!==c&&(c=!1),s=n(o,s)){var f,d={position:r,sourcePosition:e,source:u,isWhite:c};return c?ct(f=a(o,s,d))?o+":"+s:f:ct(f=i(o,s,d))?void 0:f}}))};var dt=ft;!function(e,r){var t=nt,a=dt;for(var i in(r=e.exports=function(e,r){return new a(r).process(e)}).FilterCSS=a,t)r[i]=t[i]}(it,it.exports);var vt={indexOf:function(e,r){var t,a;if(Array.prototype.indexOf)return e.indexOf(r);for(t=0,a=e.length;t<a;t++)if(e[t]===r)return t;return-1},forEach:function(e,r,t){var a,i;if(Array.prototype.forEach)return e.forEach(r,t);for(a=0,i=e.length;a<i;a++)r.call(t,e[a],a,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var r=/\s|\n|\t/.exec(e);return r?r.index:-1}},mt=it.exports.getDefaultWhiteList,ht=vt,pt=new(0,it.exports.FilterCSS);function gt(e){return e.replace(yt,"&lt;").replace(bt,"&gt;")}var yt=/</g,bt=/>/g,wt=/"/g,xt=/&quot;/g,Et=/&#([a-zA-Z0-9]*);?/gim,Ft=/&colon;?/gim,jt=/&newline;?/gim,kt=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,St=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Pt=/u\s*r\s*l\s*\(.*/gi;function $t(e){return e.replace(wt,"&quot;")}function Ot(e){return e.replace(xt,'"')}function Ct(e){return e.replace(Et,(function(e,r){return String.fromCharCode("x"===r[0]||"X"===r[0]?parseInt(r.substr(1),16):parseInt(r,10))}))}function At(e){return e.replace(Ft,":").replace(jt," ")}function Dt(e){for(var r="",t=0,a=e.length;t<a;t++)r+=e.charCodeAt(t)<32?" ":e.charAt(t);return ht.trim(r)}function _t(e){return Dt(e=At(e=Ct(e=Ot(e))))}function Lt(e){return gt(e=$t(e))}at.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},at.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},at.onTag=function(){},at.onIgnoreTag=function(){},at.onTagAttr=function(){},at.onIgnoreTagAttr=function(){},at.safeAttrValue=function(e,r,t,a){if(t=_t(t),"href"===r||"src"===r){if("#"===(t=ht.trim(t)))return"#";if("http://"!==t.substr(0,7)&&"https://"!==t.substr(0,8)&&"mailto:"!==t.substr(0,7)&&"tel:"!==t.substr(0,4)&&"data:image/"!==t.substr(0,11)&&"ftp://"!==t.substr(0,6)&&"./"!==t.substr(0,2)&&"../"!==t.substr(0,3)&&"#"!==t[0]&&"/"!==t[0])return""}else if("background"===r){if(kt.lastIndex=0,kt.test(t))return""}else if("style"===r){if(St.lastIndex=0,St.test(t))return"";if(Pt.lastIndex=0,Pt.test(t)&&(kt.lastIndex=0,kt.test(t)))return"";!1!==a&&(t=(a=a||pt).process(t))}return Lt(t)},at.escapeHtml=gt,at.escapeQuote=$t,at.unescapeQuote=Ot,at.escapeHtmlEntities=Ct,at.escapeDangerHtml5Entities=At,at.clearNonPrintableCharacter=Dt,at.friendlyAttrValue=_t,at.escapeAttrValue=Lt,at.onIgnoreTagStripAll=function(){return""},at.StripTagBody=function(e,r){"function"!=typeof r&&(r=function(){});var t=!Array.isArray(e),a=[],i=!1;return{onIgnoreTag:function(n,o,s){return function(r){return!!t||-1!==ht.indexOf(e,r)}(n)?s.isClosing?(a.push([!1!==i?i:s.position,s.position+10]),i=!1,"[/removed]"):(i||(i=s.position),"[removed]"):r(n,o,s)},remove:function(e){var r="",t=0;return ht.forEach(a,(function(a){r+=e.slice(t,a[0]),t=a[1]})),r+=e.slice(t)}}},at.stripCommentTag=function(e){for(var r="",t=0;t<e.length;){var a=e.indexOf("\x3c!--",t);if(-1===a){r+=e.slice(t);break}r+=e.slice(t,a);var i=e.indexOf("--\x3e",a);if(-1===i)break;t=i+3}return r},at.stripBlankChar=function(e){var r=e.split("");return(r=r.filter((function(e){var r=e.charCodeAt(0);return!(127===r||r<=31&&10!==r&&13!==r)}))).join("")},at.cssFilter=pt,at.getDefaultCSSWhiteList=mt;var It={},zt=vt;function Tt(e){var r,t=zt.spaceIndex(e);return r=e.slice(1,-1===t?-1:t+1),"/"===(r=zt.trim(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function qt(e){return"</"===e.slice(0,2)}var Nt=/[^a-zA-Z0-9\\_:.-]/gim;function Bt(e,r){for(;r<e.length;r++){var t=e[r];if(" "!==t)return"="===t?r:-1}}function Rt(e,r){for(;r<e.length;r++){var t=e[r];if(" "!==t)return"'"===t||'"'===t?r:-1}}function Mt(e,r){for(;r>0;r--){var t=e[r];if(" "!==t)return"="===t?r:-1}}function Vt(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}It.parseTag=function(e,r,t){var a="",i=0,n=!1,o=!1,s=0,u=e.length,l="",c="";e:for(s=0;s<u;s++){var f=e.charAt(s);if(!1===n){if("<"===f){n=s;continue}}else if(!1===o){if("<"===f){a+=t(e.slice(i,s)),n=s,i=s;continue}if(">"===f){a+=t(e.slice(i,n)),l=Tt(c=e.slice(n,s+1)),a+=r(n,a.length,l,c,qt(c)),i=s+1,n=!1;continue}if('"'===f||"'"===f)for(var d=1,v=e.charAt(s-d);""===v.trim()||"="===v;){if("="===v){o=f;continue e}v=e.charAt(s-++d)}}else if(f===o){o=!1;continue}}return i<e.length&&(a+=t(e.substr(i))),a},It.parseAttr=function(e,r){var t=0,a=0,i=[],n=!1,o=e.length;function s(e,t){if(!((e=(e=zt.trim(e)).replace(Nt,"").toLowerCase()).length<1)){var a=r(e,t||"");a&&i.push(a)}}for(var u=0;u<o;u++){var l,c=e.charAt(u);if(!1!==n||"="!==c)if(!1===n||u!==a){if(/\s|\n|\t/.test(c)){if(e=e.replace(/\s|\n|\t/g," "),!1===n){if(-1===(l=Bt(e,u))){s(zt.trim(e.slice(t,u))),n=!1,t=u+1;continue}u=l-1;continue}if(-1===(l=Mt(e,u-1))){s(n,Vt(zt.trim(e.slice(t,u)))),n=!1,t=u+1;continue}}}else{if(-1===(l=e.indexOf(c,u+1)))break;s(n,zt.trim(e.slice(a+1,l))),n=!1,t=(u=l)+1}else n=e.slice(t,u),a='"'===e.charAt(t=u+1)||"'"===e.charAt(t)?t:Rt(e,u+1)}return t<e.length&&(!1===n?s(e.slice(t)):s(n,Vt(zt.trim(e.slice(t))))),zt.trim(i.join(" "))};var Ut=it.exports.FilterCSS,Ht=at,Gt=It.parseTag,Jt=It.parseAttr,Kt=vt;function Qt(e){return null==e}function Zt(e){(e=function(e){var r={};for(var t in e)r[t]=e[t];return r}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=Ht.onIgnoreTagStripAll),e.whiteList=e.whiteList||e.allowList?function(e){var r={};for(var t in e)Array.isArray(e[t])?r[t.toLowerCase()]=e[t].map((function(e){return e.toLowerCase()})):r[t.toLowerCase()]=e[t];return r}(e.whiteList||e.allowList):Ht.whiteList,e.onTag=e.onTag||Ht.onTag,e.onTagAttr=e.onTagAttr||Ht.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||Ht.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||Ht.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||Ht.safeAttrValue,e.escapeHtml=e.escapeHtml||Ht.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Ut(e.css))}Zt.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var r=this.options,t=r.whiteList,a=r.onTag,i=r.onIgnoreTag,n=r.onTagAttr,o=r.onIgnoreTagAttr,s=r.safeAttrValue,u=r.escapeHtml,l=this.cssFilter;r.stripBlankChar&&(e=Ht.stripBlankChar(e)),r.allowCommentTag||(e=Ht.stripCommentTag(e));var c=!1;r.stripIgnoreTagBody&&(c=Ht.StripTagBody(r.stripIgnoreTagBody,i),i=c.onIgnoreTag);var f=Gt(e,(function(e,r,c,f,d){var v={sourcePosition:e,position:r,isClosing:d,isWhite:Object.prototype.hasOwnProperty.call(t,c)},m=a(c,f,v);if(!Qt(m))return m;if(v.isWhite){if(v.isClosing)return"</"+c+">";var h=function(e){var r=Kt.spaceIndex(e);if(-1===r)return{html:"",closing:"/"===e[e.length-2]};var t="/"===(e=Kt.trim(e.slice(r+1,-1)))[e.length-1];return t&&(e=Kt.trim(e.slice(0,-1))),{html:e,closing:t}}(f),p=t[c],g=Jt(h.html,(function(e,r){var t=-1!==Kt.indexOf(p,e),a=n(c,e,r,t);return Qt(a)?t?(r=s(c,e,r,l))?e+'="'+r+'"':e:Qt(a=o(c,e,r,t))?void 0:a:a}));return f="<"+c,g&&(f+=" "+g),h.closing&&(f+=" /"),f+">"}return Qt(m=i(c,f,v))?u(f):m}),u);return c&&(f=c.remove(f)),f};var Wt=Zt;!function(e,r){var t=at,a=It,i=Wt;function n(e,r){return new i(r).process(e)}(r=e.exports=n).filterXSS=n,r.FilterXSS=i,function(){for(var e in t)r[e]=t[e];for(var i in a)r[i]=a[i]}(),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(tt,tt.exports);const Xt={NonSpecific:"nonSpecific",BarAndLineNoAggregation:"barAndLineNoAggregation",BarAndLineMonoField:"barAndLineMonoField",BarAndLineMultiFields:"barAndLineMultiFields",BarAndLineFromFields:"barAndLineFromFields",BarAndLineSplitBy:"barAndLineSplitBy",BarAndLineSplitByNoAggregation:"barAndLineSplitByNoAggregation",PieNoAggregation:"pieNoAggregation",PieFromCategory:"pieFromCategory",PieFromFields:"pieFromFields",BoxPlotMonoField:"boxPlotMonoField",BoxPlotMultiFields:"boxPlotMultiFields",BoxPlotMonoFieldAndCategory:"boxPlotMonoFieldAndCategory",BoxPlotMultiFieldsAndCategory:"boxPlotMultiFieldsAndCategory",BoxPlotMonoFieldAndSplitBy:"boxPlotMonoFieldAndSplitBy",BoxPlotMultiFieldsAndSplitBy:"boxPlotMultiFieldsAndSplitBy",BoxPlotMonoFieldAndCategoryAndSplitBy:"boxPlotMonoFieldAndCategoryAndSplitBy"};function Yt(e){return e?.colorMatch??!1}function ea(e,r){let a;if(void 0!==e&&e.length>0)if(void 0!==r&&r>=0&&r<e.length)a=e[r].type;else{const r=new Set(e.map((e=>e.type))),i=function(e){return 2===e.size&&e.has(t.LineSeries)&&e.has(t.BarSeries)}(r),n=function(e){return 2===e.size&&e.has(t.LineSeries)&&e.has(t.BoxPlotSeries)||1===e.size&&e.has(t.BoxPlotSeries)}(r);a=!0===i?t.ComboLineAndBarSeries:n?t.BoxPlotSeries:r.size>=2?void 0:e[0].type}return a}function ra(e){const{value:r,keepSurroundingQuotes:t,escape:a}=e;let i=r?.trim();if(!ta(i)){let e="";i.startsWith("'")&&i.endsWith("'")&&(i=i.slice(1,-1),t&&(e="'")),!1!==a&&(i=function(e){let r=e;return r=r.replace(/'/gu,"''"),r=r.replace(/[/\\"|[\]\\]/gu,"\\$&"),r}(i)),i=`${e}${i}${e}`}return i}function ta(e){return null==e||"string"==typeof e&&""===e.trim()}function aa(e,r){let t;return void 0!==r&&(t={...r,rotated:e}),t}function ia(e){const r=fa(e)?.sourceJSON;let t=r?.maxRecordCount??Br.maxRecords;return r?.advancedQueryCapabilities?.supportsMaxRecordCountFactor&&void 0!==r?.maxRecordCount&&(t=r.maxRecordCount*Br.maxRecordCountFactor),t}function na(e,r){let t;const a=Array.from(new Set(e)).filter((e=>null!=e&&""!==e&&!ha(e)));return a.sort(((e,r)=>r.length-e.length)),1===a.length?[t]=a:a?.forEach((e=>{void 0!==e&&(ta(t)?t=`(${e})`:t?.includes(`(${e})`)||(t=`${t} ${r??"AND"} (${e})`))})),t??"1=1"}async function oa(e){const{queryObject:t,queryConfig:a,maxRecordCountFactor:i}=e,{where:n,groupByFieldsForStatistics:o,orderByFields:s,outStatistics:u,gdbVersion:l,geometry:c,distance:f,units:d,timeExtent:v,start:m,num:h,returnDistinctValues:p,outFields:g}=a??{},y=await async function(){return new(await async function(){if(Mr)return await window.$arcgis.import("esri/rest/support/Query");const e=await import("@arcgis/core/rest/support/Query.js");return Vr(e)?e.default:e}())({})}();y.returnGeometry=!1;const b=la(t),w=fa(b);if(y.where=na([n,w.definitionExpression]),y.outFields=function(e){return void 0===e?["*"]:Array.from(new Set(e))}(g),y.groupByFieldsForStatistics=o??y.groupByFieldsForStatistics,y.orderByFields=s??[],y.returnDistinctValues=p??!1,void 0!==u){const e=function(e){let r=!1;const t=fa(e).sourceJSON?.advancedQueryCapabilities?.supportedSpatialAggregationStatistics??[],a=e.capabilities?.query.supportedSpatialAggregationStatistics??[];return r=t.includes("EnvelopeAggregate")||void 0!==a.envelope&&a.envelope,r}(b),t=await async function(){if(Mr)return await window.$arcgis.import("esri/rest/support/StatisticDefinition");const e=await import("@arcgis/core/rest/support/StatisticDefinition.js");return Vr(e)?e.default:e}();y.outStatistics=u.filter((t=>t.statisticType!==r.EnvelopeAggregate||e)).map((e=>t.fromJSON(e)))}void 0!==i&&(y.maxRecordCountFactor=i),void 0!==l&&""!==l?y.gdbVersion=l:void 0!==w.gdbVersion&&""!==w.gdbVersion&&(y.gdbVersion=w.gdbVersion);const x=await async function(e){let r;return void 0!==e&&(r=(await Hr()).fromJSON(e)),r}(c);void 0!==x&&(y.geometry=x,function(e){return e.capabilities?.query?.supportsDistance||!0===fa(e).sourceJSON?.advancedQueryCapabilities?.supportsQueryWithDistance}(b)&&(void 0!==f&&(y.distance=f),void 0!==d&&(y.units=d)));const E=await async function(e){let r;return void 0!==e&&(r=await async function(e){return new(await async function(){if(Mr)return await window.$arcgis.import("esri/time/TimeExtent");const e=await import("@arcgis/core/time/TimeExtent.js");return Vr(e)?e.default:e}())(e)}({start:new Date(e[0]),end:new Date(e[1])})),r}(v);return void 0!==E?y.timeExtent=E:void 0!==w.timeExtent&&(y.timeExtent=w.timeExtent),void 0!==h&&(y.num=h),void 0!==m&&(y.start=m,y.num=y.num??ia(b)),function(e){const r=!e.geometry,t=(e.where??"").toUpperCase(),a=!t.includes("CURRENT_TIMESTAMP")&&!t.includes("CURRENT_DATE")&&!t.includes("CURRENT_TIME");return r&&a}(y)&&(y.cacheHint=!0),y}const sa=rt((async e=>{const r=e.featureCollection;let t,a;if(void 0!==r?.layers?.[0]){const e=r.layers[0];t=e.featureSet,a=e.layerDefinition}else a=e.layerDefinition;const i={};if(void 0!==t){const e=await async function(){if(Mr)return await window.$arcgis.import("esri/rest/support/FeatureSet");const e=await import("@arcgis/core/rest/support/FeatureSet.js");return Vr(e)?e.default:e}();if(i.source=e.fromJSON(t).features,void 0!==a?.fields){const e=await async function(){if(Mr)return await window.$arcgis.import("esri/layers/support/Field");const e=await import("@arcgis/core/layers/support/Field.js");return Vr(e)?e.default:e}();i.fields=a.fields.map((r=>e.fromJSON(r)))}void 0!==a?.objectIdField&&(i.objectIdField=a.objectIdField);const r=await Hr();if(void 0!==a?.geometryType){const e=r.fromJSON({geometryType:a.geometryType});void 0!==e?.type&&"extent"!==e?.type&&(i.geometryType=e.type)}void 0!==a?.spatialReference&&(i.spatialReference=a.spatialReference)}else i.id=e.id,void 0!==a?.id&&(i.layerId=a.id),void 0!==e.url&&(i.url=e.url),void 0!==e.itemId&&void 0!==a?.id&&(i.portalItem={id:e.itemId});if(void 0!==a){const e=a.drawingInfo;if(void 0!==e?.renderer){const r=await async function(){if(Mr)return await window.$arcgis.import("esri/renderers/support/jsonUtils");const e=await import("@arcgis/core/renderers/support/jsonUtils.js");return Vr(e)?e.default:e}();i.renderer=r.fromJSON(e.renderer)}}return await async function(e){return new(await async function(){if(Mr)return await window.$arcgis.import("esri/layers/FeatureLayer");const e=await import("@arcgis/core/layers/FeatureLayer.js");return Vr(e)?e.default:e}())(e)}(i)}));function ua(e){return void 0!==e&&"layer"in e}function la(e){let r;return r=ua(e)?e.layer:e,r}async function ca(e){const{layer:r,view:t,chartConfig:a}=e;let i;if(void 0!==r){const e=fa(la(r));if(void 0===t||e.isTable)i=r;else{e.outFields=["*"];const r=e=>"highlight"in e,a=await t.whenLayerView(e);r(a)&&(i=a)}}else"iLayer"in a&&a.iLayer&&(i=await sa(a.iLayer));return i}function fa(e){return function(e){return void 0!==e&&"type"in e&&"subtype-sublayer"===e.type}(e)?e.parent:e}function da(r){return[e.Single,e.Double,e.SmallInteger,e.Integer].includes(r.type)}function va(e,r){let t="";return void 0!==e&&e.includes("=")&&(t=!1!==r?ra({value:e.split("=")[0]}):e.split("=")[0].trim()),t}function ma(e){const{where:r,normalize:t,keepSurroundingQuotes:a,escape:i}=e;let n="";return void 0!==r&&r.includes("=")&&(n=r.split("=").slice(1).join("=").trim(),"null"===n?n=null:""===n.trim()||Number.isNaN(Number(n))?!1===t?!0===i&&(n=function(e){let r=e,t="";e.startsWith("'")&&e.endsWith("'")&&(r=e.slice(1,-1),t="'"),r=r.replace(/'/gu,"''");let a="";return function(e){let r=!1;return"number"!=typeof e&&(r=[...e].some((e=>e.charCodeAt(0)>255))),r}(r)&&(a="N"),`${a}${t}${r}${t}`}(n)):n=ra({value:n,keepSurroundingQuotes:a,escape:i}):n=Number(n)),n}function ha(e){let r=!1;return void 0===e||""===e?r=!0:e.includes("=")&&(r=va(e,!1)===`${ma({where:e,normalize:!1})}`),r}function pa(e){let r=Xt.NonSpecific;if(void 0!==e?.[0])switch(ea(e)){case t.PieSeries:r=function(e){let r=Xt.PieFromCategory;return void 0===e[0].query?.outStatistics?r=Xt.PieNoAggregation:void 0===e[0].query?.groupByFieldsForStatistics&&(r=Xt.PieFromFields),r}(e);break;case t.RadarSeries:case t.BarSeries:case t.LineSeries:case t.ComboLineAndBarSeries:r=function(e){let r=Xt.BarAndLineMonoField;const t=e[0].query?.where;return void 0===e[0].query?.groupByFieldsForStatistics&&(e[0].query?.outStatistics??[]).length>0?r=Xt.BarAndLineFromFields:void 0===t&&void 0===e[0].query?.outStatistics?r=Xt.BarAndLineNoAggregation:ha(t)?e.length>1&&(r=Xt.BarAndLineMultiFields):r=void 0===e[0].query?.outStatistics?Xt.BarAndLineSplitByNoAggregation:Xt.BarAndLineSplitBy,r}(e);break;case t.BoxPlotSeries:r=function(e){let r=Xt.BoxPlotMonoField;const a=1===e.length,i=e.find((e=>e.type===t.LineSeries))??e[0],{x:n}=i,o="y"in i?i.y:"",s=i.query?.where;return n===Rr?"object"==typeof o&&o.length>1?ha(s)?a&&(r=Xt.BoxPlotMultiFields):r=Xt.BoxPlotMultiFieldsAndSplitBy:a?r=Xt.BoxPlotMonoField:ha(s)||(r=Xt.BoxPlotMonoFieldAndSplitBy):r=a?Xt.BoxPlotMonoFieldAndCategory:ha(s)?Xt.BoxPlotMultiFieldsAndCategory:Xt.BoxPlotMonoFieldAndCategoryAndSplitBy,r}(e)}return r}function ga(e){const{queryObject:t,chartConfig:a,runtimeDataFilters:i,ignoreViewExtent:n}=e,{series:o,dataFilters:s}=a,{where:u,gdbVersion:l,timeExtent:c,geometry:f,distance:d,units:v}=s??{},{where:m,gdbVersion:h,timeExtent:p,geometry:g,distance:y,units:b}=i??{},w=o[0],{query:x}=w,{where:E}=x??{},F=pa(o),j={...x};return j.where=na([u,m]),F!==Xt.BarAndLineSplitBy&&F!==Xt.BoxPlotMonoFieldAndSplitBy&&F!==Xt.BoxPlotMonoFieldAndCategoryAndSplitBy&&F!==Xt.BoxPlotMultiFieldsAndSplitBy&&F!==Xt.BarAndLineSplitByNoAggregation&&(j.where=na([j.where,E])),void 0!==a.orderOptions?.orderByFields&&(j.orderByFields=a.orderOptions.orderByFields),j.gdbVersion=h??l,j.timeExtent=function(e,r){let t=r;if(void 0!==e){const r=fa(la(e)).timeExtent;null!=r&&(t=[r.start.valueOf(),r.end.valueOf()])}return t}(t,p??c),j.geometry=function(e){const{queryObject:r,defaultGeometry:t,ignoreViewExtent:a}=e;let i=t;if(!a&&ua(r)){const e=r.view.extent,{xmin:t,xmax:a,ymin:n,ymax:o,zmin:s,zmax:u,spatialReference:l}=e;i={xmin:t,ymin:n,zmin:s,xmax:a,ymax:o,zmax:u,spatialReference:l}}return i}({queryObject:t,defaultGeometry:g??f,ignoreViewExtent:n}),j.distance=y??d,j.units=b??v,x?.outStatistics?.[0]?.statisticType===r.Count&&(j.returnDistinctValues=x?.returnDistinctValues??!1),j}const ya=new Map,ba={Default:"defaultError",LayerLoadFailure:"layerLoadFailure",QueryFeaturesError:"queryFeaturesError",ChartDisposed:"ChartDisposeError"};class wa extends Error{constructor(e,r,t){super(r),this.name=e,this.details=t}}async function xa(e=zr().locale){let r=await import("./p-dbd86ccc.js");switch(e){case o.Arabic:r=await import("./p-d1c0ae8b.js");break;case o.Bosnian:r=await import("./p-3fc6c2cb.js");break;case o.Bulgarian:r=await import("./p-16fc3da5.js");break;case o.Catalan:r=await import("./p-6d3aff09.js");break;case o.Czech:r=await import("./p-edcd98a8.js");break;case o.Danish:r=await import("./p-4b3ef517.js");break;case o.German:r=await import("./p-4218cd25.js");break;case o.Greek:r=await import("./p-24ba7b2b.js");break;case o.EnglishUSA:r=await import("./p-be97cc69.js");break;case o.Spanish:r=await import("./p-eab7f643.js");break;case o.Estonian:r=await import("./p-265d5cea.js");break;case o.Finnish:r=await import("./p-d3c3c5d0.js");break;case o.French:r=await import("./p-a90e7dde.js");break;case o.Hebrew:r=await import("./p-34e2fd9a.js");break;case o.Croatian:r=await import("./p-843187db.js");break;case o.Hungarian:r=await import("./p-1b69a06b.js");break;case o.Indonesian:r=await import("./p-32ad9bdb.js");break;case o.Italian:r=await import("./p-139c32ba.js");break;case o.Japanese:r=await import("./p-11dee4f1.js");break;case o.Korean:r=await import("./p-9ad52883.js");break;case o.Lithuanian:r=await import("./p-f3aba16a.js");break;case o.Latvian:r=await import("./p-3db93e9c.js");break;case o.NorwegianBokml:r=await import("./p-79ce17b1.js");break;case o.Dutch:r=await import("./p-d3d15e30.js");break;case o.Polish:r=await import("./p-838d8afe.js");break;case o.PortugueseBrazil:r=await import("./p-ccee30eb.js");break;case o.PortuguesePortugal:r=await import("./p-c0b351d8.js");break;case o.Romanian:r=await import("./p-bcee9a5d.js");break;case o.Russian:r=await import("./p-7222c6d9.js");break;case o.Serbian:r=await import("./p-e9ba4677.js");break;case o.Slovak:r=await import("./p-050f1ba6.js");break;case o.Slovenian:r=await import("./p-20544ed0.js");break;case o.Swedish:r=await import("./p-a61d6bcd.js");break;case o.Thai:r=await import("./p-0b6c1857.js");break;case o.Turkish:r=await import("./p-d97c824e.js");break;case o.Ukrainian:r=await import("./p-9aba4f35.js");break;case o.Vietnamese:r=await import("./p-cc727d02.js");break;case o.ChineseChina:r=await import("./p-e4431921.js");break;case o.ChineseHongKong:r=await import("./p-8323eb43.js");break;case o.ChineseTaiwan:r=await import("./p-6704fd84.js")}return r}async function Ea(e){const{queryObject:r,queryConfig:t,returnUniqueIdsOnly:a,abortKey:i}=e;let n=[];const o=la(r);if(void 0!==r){const s=function(e){return!0===fa(e)?.sourceJSON?.advancedQueryCapabilities?.supportsMaxRecordCountFactor?Br.maxRecordCountFactor:void 0}(o),u=await oa({queryObject:r,queryConfig:t,maxRecordCountFactor:s});try{!0===a?"queryObjectIds"in r?n=await r.queryObjectIds(u):(u.outFields=[o.objectIdField],n=(await r.queryFeatures(u,{signal:void 0!==i?ya.get(i)?.signal:void 0})).features.map((e=>e.attributes[o.objectIdField]))):n=(await r.queryFeatures(u,{signal:void 0!==i?ya.get(i)?.signal:void 0})).features}catch(e){if(!(await Ur()).isAbortError(e)){const r=await xa();throw new wa(ba.QueryFeaturesError,r.queryError,e)}}}return n}async function Fa(e){const r=[],{featureCount:t,maxRecords:a,queryConfig:i}=e;let n=[],o=0,s=i?.start??0;for(;o<Br.maxParallelRequests&&s<t;){const n={...e};n.queryConfig={...i,start:s,num:Math.min(a,t-s)},r.push(Ea(n)),s+=a,o+=1}return n=(await Promise.all(r)).flat(),n}async function ja(e){const{queryObject:t,queryConfig:a,category:i,splitByField:n,chartLimits:o,abortKey:s}=e,u=void 0!==n,l=i!==Rr?[i]:[];u&&l.push(n);const c=la(t),f={...a,groupByFieldsForStatistics:Array.from(new Set(l)),outStatistics:[{statisticType:r.Count,onStatisticField:c.objectIdField,outStatisticFieldName:`${r.Count}_OBJECTID`}],orderByFields:void 0,num:o?.maxBarThreePlusSeriesCountTotal},d=await async function(e){const{queryObject:t,queryConfig:a,returnUniqueIdsOnly:i,featureCount:n,noBatch:o,abortKey:s}=e;let u=[];const l=la(t);if(void 0!==t){const e=l.objectIdField;let c;if(null==n){const i=`${r.Count}_OBJECTID`;c=(await async function(e){const{queryObject:r,queryConfig:t,abortKey:a}=e,{outStatistics:i}=t,n=new Map;if(void 0!==r&&void 0!==i&&i.length>0){const o=i.map((e=>{const{statisticType:r,onStatisticField:t,outStatisticFieldName:a}=e;return{statisticType:r,onStatisticField:t,outStatisticFieldName:a?.toUpperCase()}}));t.outStatistics=o,delete t.num,delete t.orderByFields;const s=await oa({queryObject:r,queryConfig:t});let u;try{u=await r.queryFeatures(s,{signal:void 0!==a?ya.get(a)?.signal:void 0})}catch(e){if(!(await Ur()).isAbortError(e)){const r=await xa();throw new wa(ba.QueryFeaturesError,r.queryError,e)}}const l=u?.features?.[0]?.attributes;void 0!==l&&i.forEach((e=>{const{outStatisticFieldName:r}=e;if(void 0!==r){const e=l[r.toLowerCase()]??l[r.toUpperCase()]??l[r];void 0!==e&&n.set(r,e)}}))}return n}({queryObject:t,queryConfig:{...a,outStatistics:[{statisticType:r.Count,onStatisticField:e,outStatisticFieldName:i}]},abortKey:s})).get(i)??Number.NaN}else c=n;const f=ia(l);if(!0!==o&&c>f&&l.capabilities.query.supportsPagination){let e=0,r=0;const n=Math.ceil(c/f),o=Math.ceil(n/Br.maxParallelRequests),l=[];for(;r<o;){e=r*Br.maxParallelRequests*f;const n=Fa({queryConfig:{...a,start:e},queryObject:t,maxRecords:f,featureCount:c,returnUniqueIdsOnly:i,abortKey:s});l.push(n),r+=1}u=(await Promise.all(l)).flat()}else(Number.isNaN(c)||c>=0)&&(u=await Ea({queryObject:t,queryConfig:a,returnUniqueIdsOnly:i,abortKey:s}))}return u}({queryObject:t,featureCount:1,queryConfig:f,abortKey:s});return Array.from(new Set(d.map((e=>e.attributes[u?n:i])))).sort(((e,r)=>"string"==typeof e&&"string"==typeof r?e.localeCompare(r):Number(e)-Number(r)))}const ka=["1.0.0","1.0.1","2.0.0","3.0.0","3.1.0","3.2.0","3.3.0","3.4.0","3.5.0","3.6.0","3.7.0","3.8.0","3.9.0","3.9.1","3.9.2","3.10.0","3.11.0","4.0.0","4.0.1","5.0.0","6.0.0","6.1.0","6.2.0","6.2.1","6.3.0","6.4.0","7.0.0","7.1.0","7.1.1","7.2.0","7.2.1","7.3.1","7.4.0","7.4.1","7.5.0","7.5.1","7.6.0","8.0.0","8.0.1","9.0.0","9.1.0","9.2.0","9.3.0","9.4.0","9.5.0","9.6.0","9.6.1","9.7.0","10.0.0","11.0.0","12.0.0","13.0.0","14.0.0","14.0.1","15.0.0","16.0.0","16.1.0","16.1.1","17.0.0","17.1.0","17.2.0"];var Sa={};!function(e){function r(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length>1){r[0]=r[0].slice(0,-1);for(var a=r.length-1,i=1;i<a;++i)r[i]=r[i].slice(1,-1);return r[a]=r[a].slice(1),r.join("")}return r[0]}function t(e){return"(?:"+e+")"}function a(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function n(e){var a="[A-Za-z]",i="[0-9]",n=r(i,"[A-Fa-f]"),o=t(t("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+t("%[89A-Fa-f]"+n+"%"+n+n)+"|"+t("%"+n+n)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=r("[\\:\\/\\?\\#\\[\\]\\@]",s),l=e?"[\\uE000-\\uF8FF]":"[]",c=r(a,i,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");t(a+r(a,i,"[\\+\\-\\.]")+"*"),t(t(o+"|"+r(c,s,"[\\:]"))+"*");var f=t(t("25[0-5]")+"|"+t("2[0-4]"+i)+"|"+t("1"+i+i)+"|"+t("0?[1-9]"+i)+"|0?0?"+i),d=t(f+"\\."+f+"\\."+f+"\\."+f),v=t(n+"{1,4}"),m=t(t(v+"\\:"+v)+"|"+d),h=t(t(v+"\\:")+"{6}"+m),p=t("\\:\\:"+t(v+"\\:")+"{5}"+m),g=t(t(v)+"?\\:\\:"+t(v+"\\:")+"{4}"+m),y=t(t(t(v+"\\:")+"{0,1}"+v)+"?\\:\\:"+t(v+"\\:")+"{3}"+m),b=t(t(t(v+"\\:")+"{0,2}"+v)+"?\\:\\:"+t(v+"\\:")+"{2}"+m),w=t(t(t(v+"\\:")+"{0,3}"+v)+"?\\:\\:"+v+"\\:"+m),x=t(t(t(v+"\\:")+"{0,4}"+v)+"?\\:\\:"+m),E=t(t(t(v+"\\:")+"{0,5}"+v)+"?\\:\\:"+v),F=t(t(t(v+"\\:")+"{0,6}"+v)+"?\\:\\:"),j=t([h,p,g,y,b,w,x,E,F].join("|")),k=t(t(c+"|"+o)+"+");t("[vV]"+n+"+\\."+r(c,s,"[\\:]")+"+"),t(t(o+"|"+r(c,s))+"*");var S=t(o+"|"+r(c,s,"[\\:\\@]"));return t(t(o+"|"+r(c,s,"[\\@]"))+"+"),t(t(S+"|"+r("[\\/\\?]",l))+"*"),{NOT_SCHEME:new RegExp(r("[^]",a,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",c,s),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",c,s),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",c,s),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",c,s),"g"),NOT_QUERY:new RegExp(r("[^\\%]",c,s,"[\\:\\@\\/\\?]",l),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",c,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",c,s),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",c,u),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+d+")$"),IPV6ADDRESS:new RegExp("^\\[?("+j+")"+t(t("\\%25|\\%(?!"+n+"{2})")+"("+k+")")+"?\\]?$")}}var o=n(!1),s=n(!0),u=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],a=!0,i=!1,n=void 0;try{for(var o,s=e[Symbol.iterator]();!(a=(o=s.next()).done)&&(t.push(o.value),!r||t.length!==r);a=!0);}catch(e){i=!0,n=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=2147483647,c=36,f=/^xn--/,d=/[^\0-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function g(e){throw new RangeError(m[e])}function y(e,r){var t=e.split("@"),a="";return t.length>1&&(a=t[0]+"@",e=t[1]),a+function(e,r){for(var t=[],a=e.length;a--;)t[a]=r(e[a]);return t}((e=e.replace(v,".")).split("."),r).join(".")}function b(e){for(var r=[],t=0,a=e.length;t<a;){var i=e.charCodeAt(t++);if(i>=55296&&i<=56319&&t<a){var n=e.charCodeAt(t++);56320==(64512&n)?r.push(((1023&i)<<10)+(1023&n)+65536):(r.push(i),t--)}else r.push(i)}return r}var w=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:c},x=function(e,r){return e+22+75*(e<26)-((0!=r)<<5)},E=function(e,r,t){var a=0;for(e=t?h(e/700):e>>1,e+=h(e/r);e>455;a+=c)e=h(e/35);return h(a+36*e/(e+38))},F=function(e){var r=[],t=e.length,a=0,i=128,n=72,o=e.lastIndexOf("-");o<0&&(o=0);for(var s=0;s<o;++s)e.charCodeAt(s)>=128&&g("not-basic"),r.push(e.charCodeAt(s));for(var u=o>0?o+1:0;u<t;){for(var f=a,d=1,v=c;;v+=c){u>=t&&g("invalid-input");var m=w(e.charCodeAt(u++));(m>=c||m>h((l-a)/d))&&g("overflow"),a+=m*d;var p=v<=n?1:v>=n+26?26:v-n;if(m<p)break;var y=c-p;d>h(l/y)&&g("overflow"),d*=y}var b=r.length+1;n=E(a-f,b,0==f),h(a/b)>l-i&&g("overflow"),i+=h(a/b),a%=b,r.splice(a++,0,i)}return String.fromCodePoint.apply(String,r)},j=function(e){var r=[],t=(e=b(e)).length,a=128,i=0,n=72,o=!0,s=!1,u=void 0;try{for(var f,d=e[Symbol.iterator]();!(o=(f=d.next()).done);o=!0){var v=f.value;v<128&&r.push(p(v))}}catch(e){s=!0,u=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw u}}var m=r.length,y=m;for(m&&r.push("-");y<t;){var w=l,F=!0,j=!1,k=void 0;try{for(var S,P=e[Symbol.iterator]();!(F=(S=P.next()).done);F=!0){var $=S.value;$>=a&&$<w&&(w=$)}}catch(e){j=!0,k=e}finally{try{!F&&P.return&&P.return()}finally{if(j)throw k}}var O=y+1;w-a>h((l-i)/O)&&g("overflow"),i+=(w-a)*O,a=w;var C=!0,A=!1,D=void 0;try{for(var _,L=e[Symbol.iterator]();!(C=(_=L.next()).done);C=!0){var I=_.value;if(I<a&&++i>l&&g("overflow"),I==a){for(var z=i,T=c;;T+=c){var q=T<=n?1:T>=n+26?26:T-n;if(z<q)break;var N=z-q,B=c-q;r.push(p(x(q+N%B,0))),z=h(N/B)}r.push(p(x(z,0))),n=E(i,O,y==m),i=0,++y}}}catch(e){A=!0,D=e}finally{try{!C&&L.return&&L.return()}finally{if(A)throw D}}++i,++a}return r.join("")},k={version:"2.1.0",ucs2:{decode:b,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}(e))}},decode:F,encode:j,toASCII:function(e){return y(e,(function(e){return d.test(e)?"xn--"+j(e):e}))},toUnicode:function(e){return y(e,(function(e){return f.test(e)?F(e.slice(4).toLowerCase()):e}))}},S={};function P(e){var r=e.charCodeAt(0);return r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()}function $(e){for(var r="",t=0,a=e.length;t<a;){var i=parseInt(e.substr(t+1,2),16);if(i<128)r+=String.fromCharCode(i),t+=3;else if(i>=194&&i<224){if(a-t>=6){var n=parseInt(e.substr(t+4,2),16);r+=String.fromCharCode((31&i)<<6|63&n)}else r+=e.substr(t,6);t+=6}else if(i>=224){if(a-t>=9){var o=parseInt(e.substr(t+4,2),16),s=parseInt(e.substr(t+7,2),16);r+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}else r+=e.substr(t,9);t+=9}else r+=e.substr(t,3),t+=3}return r}function O(e,r){function t(e){var t=$(e);return t.match(r.UNRESERVED)?t:e}return e.scheme&&(e.scheme=String(e.scheme).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(r.PCT_ENCODED,t).replace(r.NOT_USERINFO,P).replace(r.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_HOST,P).replace(r.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(r.PCT_ENCODED,t).replace(e.scheme?r.NOT_PATH:r.NOT_PATH_NOSCHEME,P).replace(r.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(r.PCT_ENCODED,t).replace(r.NOT_QUERY,P).replace(r.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(r.PCT_ENCODED,t).replace(r.NOT_FRAGMENT,P).replace(r.PCT_ENCODED,i)),e}function C(e){return e.replace(/^0*(.*)/,"$1")||"0"}function A(e,r){var t=e.match(r.IPV4ADDRESS)||[],a=u(t,2)[1];return a?a.split(".").map(C).join("."):e}function D(e,r){var t=e.match(r.IPV6ADDRESS)||[],a=u(t,3),i=a[1],n=a[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),s=u(o,2),l=s[0],c=s[1],f=c?c.split(":").map(C):[],d=l.split(":").map(C),v=r.IPV4ADDRESS.test(d[d.length-1]),m=v?7:8,h=d.length-m,p=Array(m),g=0;g<m;++g)p[g]=f[g]||d[h+g]||"";v&&(p[m-1]=A(p[m-1],r));var y=p.reduce((function(e,r,t){if(!r||"0"===r){var a=e[e.length-1];a&&a.index+a.length===t?a.length++:e.push({index:t,length:1})}return e}),[]).sort((function(e,r){return r.length-e.length}))[0],b=void 0;if(y&&y.length>1){var w=p.slice(0,y.index),x=p.slice(y.index+y.length);b=w.join(":")+"::"+x.join(":")}else b=p.join(":");return n&&(b+="%"+n),b}return e}var _=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,L=void 0==="".match(/(){0}/)[1];function I(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={},a=!1!==r.iri?s:o;"suffix"===r.reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e);var i=e.match(_);if(i){L?(t.scheme=i[1],t.userinfo=i[3],t.host=i[4],t.port=parseInt(i[5],10),t.path=i[6]||"",t.query=i[7],t.fragment=i[8],isNaN(t.port)&&(t.port=i[5])):(t.scheme=i[1]||void 0,t.userinfo=-1!==e.indexOf("@")?i[3]:void 0,t.host=-1!==e.indexOf("//")?i[4]:void 0,t.port=parseInt(i[5],10),t.path=i[6]||"",t.query=-1!==e.indexOf("?")?i[7]:void 0,t.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(t.port)&&(t.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),t.host&&(t.host=D(A(t.host,a),a)),t.reference=void 0!==t.scheme||void 0!==t.userinfo||void 0!==t.host||void 0!==t.port||t.path||void 0!==t.query?void 0===t.scheme?"relative":void 0===t.fragment?"absolute":"uri":"same-document",r.reference&&"suffix"!==r.reference&&r.reference!==t.reference&&(t.error=t.error||"URI is not a "+r.reference+" reference.");var n=S[(r.scheme||t.scheme||"").toLowerCase()];if(r.unicodeSupport||n&&n.unicodeSupport)O(t,a);else{if(t.host&&(r.domainHost||n&&n.domainHost))try{t.host=k.toASCII(t.host.replace(a.PCT_ENCODED,$).toLowerCase())}catch(e){t.error=t.error||"Host's domain name can not be converted to ASCII via punycode: "+e}O(t,o)}n&&n.parse&&n.parse(t,r)}else t.error=t.error||"URI can not be parsed.";return t}var z=/^\.\.?\//,T=/^\/\.(\/|$)/,q=/^\/\.\.(\/|$)/,N=/^\/?(?:.|\n)*?(?=\/|$)/;function B(e){for(var r=[];e.length;)if(e.match(z))e=e.replace(z,"");else if(e.match(T))e=e.replace(T,"/");else if(e.match(q))e=e.replace(q,"/"),r.pop();else if("."===e||".."===e)e="";else{var t=e.match(N);if(!t)throw new Error("Unexpected dot segment condition");var a=t[0];e=e.slice(a.length),r.push(a)}return r.join("")}function R(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.iri?s:o,a=[],i=S[(r.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,r),e.host)if(t.IPV6ADDRESS.test(e.host));else if(r.domainHost||i&&i.domainHost)try{e.host=r.iri?k.toUnicode(e.host):k.toASCII(e.host.replace(t.PCT_ENCODED,$).toLowerCase())}catch(t){e.error=e.error||"Host's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+t}O(e,t),"suffix"!==r.reference&&e.scheme&&(a.push(e.scheme),a.push(":"));var n=function(e,r){var t=!1!==r.iri?s:o,a=[];return void 0!==e.userinfo&&(a.push(e.userinfo),a.push("@")),void 0!==e.host&&a.push(D(A(String(e.host),t),t).replace(t.IPV6ADDRESS,(function(e,r,t){return"["+r+(t?"%25"+t:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(a.push(":"),a.push(String(e.port))),a.length?a.join(""):void 0}(e,r);if(void 0!==n&&("suffix"!==r.reference&&a.push("//"),a.push(n),e.path&&"/"!==e.path.charAt(0)&&a.push("/")),void 0!==e.path){var u=e.path;r.absolutePath||i&&i.absolutePath||(u=B(u)),void 0===n&&(u=u.replace(/^\/\//,"/%2F")),a.push(u)}return void 0!==e.query&&(a.push("?"),a.push(e.query)),void 0!==e.fragment&&(a.push("#"),a.push(e.fragment)),a.join("")}function M(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={};return arguments[3]||(e=I(R(e,t),t),r=I(R(r,t),t)),!(t=t||{}).tolerant&&r.scheme?(a.scheme=r.scheme,a.userinfo=r.userinfo,a.host=r.host,a.port=r.port,a.path=B(r.path||""),a.query=r.query):(void 0!==r.userinfo||void 0!==r.host||void 0!==r.port?(a.userinfo=r.userinfo,a.host=r.host,a.port=r.port,a.path=B(r.path||""),a.query=r.query):(r.path?("/"===r.path.charAt(0)?a.path=B(r.path):(a.path=void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:r.path:"/"+r.path,a.path=B(a.path)),a.query=r.query):(a.path=e.path,a.query=void 0!==r.query?r.query:e.query),a.userinfo=e.userinfo,a.host=e.host,a.port=e.port),a.scheme=e.scheme),a.fragment=r.fragment,a}function V(e,r){return e&&e.toString().replace(r&&r.iri?s.PCT_ENCODED:o.PCT_ENCODED,$)}var U={scheme:"http",domainHost:!0,parse:function(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},H={scheme:"https",domainHost:U.domainHost,parse:U.parse,serialize:U.serialize};function G(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var J={scheme:"ws",domainHost:!0,parse:function(e){var r=e;return r.secure=G(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e){if(e.port!==(G(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),t=u(r,2),a=t[0],i=t[1];e.path=a&&"/"!==a?a:void 0,e.query=i,e.resourceName=void 0}return e.fragment=void 0,e}},K={scheme:"wss",domainHost:J.domainHost,parse:J.parse,serialize:J.serialize},Q={},Z="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",W="[0-9A-Fa-f]",X=t(t("%[EFef]"+W+"%"+W+W+"%"+W+W)+"|"+t("%[89A-Fa-f]"+W+"%"+W+W)+"|"+t("%"+W+W)),Y=r("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ee=new RegExp(Z,"g"),re=new RegExp(X,"g"),te=new RegExp(r("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Y),"g"),ae=new RegExp(r("[^]",Z,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ie=ae;function ne(e){var r=$(e);return r.match(ee)?r:e}var oe={scheme:"mailto",parse:function(e,r){var t=e,a=t.to=t.path?t.path.split(","):[];if(t.path=void 0,t.query){for(var i=!1,n={},o=t.query.split("&"),s=0,u=o.length;s<u;++s){var l=o[s].split("=");switch(l[0]){case"to":for(var c=l[1].split(","),f=0,d=c.length;f<d;++f)a.push(c[f]);break;case"subject":t.subject=V(l[1],r);break;case"body":t.body=V(l[1],r);break;default:i=!0,n[V(l[0],r)]=V(l[1],r)}}i&&(t.headers=n)}t.query=void 0;for(var v=0,m=a.length;v<m;++v){var h=a[v].split("@");if(h[0]=V(h[0]),r.unicodeSupport)h[1]=V(h[1],r).toLowerCase();else try{h[1]=k.toASCII(V(h[1],r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}a[v]=h.join("@")}return t},serialize:function(e,r){var t=e,a=function(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}(e.to);if(a){for(var n=0,o=a.length;n<o;++n){var s=String(a[n]),u=s.lastIndexOf("@"),l=s.slice(0,u).replace(re,ne).replace(re,i).replace(te,P),c=s.slice(u+1);try{c=r.iri?k.toUnicode(c):k.toASCII(V(c,r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+e}a[n]=l+"@"+c}t.path=a.join(",")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var d=[];for(var v in f)f[v]!==Q[v]&&d.push(v.replace(re,ne).replace(re,i).replace(ae,P)+"="+f[v].replace(re,ne).replace(re,i).replace(ie,P));return d.length&&(t.query=d.join("&")),t}},se=/^([^\:]+)\:(.*)/,ue={scheme:"urn",parse:function(e,r){var t=e.path&&e.path.match(se),a=e;if(t){var i=r.scheme||a.scheme||"urn",n=t[1].toLowerCase(),o=t[2],s=S[i+":"+(r.nid||n)];a.nid=n,a.nss=o,a.path=void 0,s&&(a=s.parse(a,r))}else a.error=a.error||"URN can not be parsed.";return a},serialize:function(e,r){var t=e.nid,a=S[(r.scheme||e.scheme||"urn")+":"+(r.nid||t)];a&&(e=a.serialize(e,r));var i=e;return i.path=(t||r.nid)+":"+e.nss,i}},le=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ce={scheme:"urn:uuid",parse:function(e,r){var t=e;return t.uuid=t.nss,t.nss=void 0,r.tolerant||t.uuid&&t.uuid.match(le)||(t.error=t.error||"UUID is not valid."),t},serialize:function(e){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};S[U.scheme]=U,S[H.scheme]=H,S[J.scheme]=J,S[K.scheme]=K,S[oe.scheme]=oe,S[ue.scheme]=ue,S[ce.scheme]=ce,e.SCHEMES=S,e.pctEncChar=P,e.pctDecChars=$,e.parse=I,e.removeDotSegments=B,e.serialize=R,e.resolveComponents=M,e.resolve=function(e,r,t){var a=function(e,r){var t={scheme:"null"};if(r)for(var a in r)t[a]=r[a];return t}(0,t);return R(M(I(e,a),I(r,a),a,!0),a)},e.normalize=function(e,r){return"string"==typeof e?e=R(I(e,r),r):"object"===a(e)&&(e=I(R(e,r),r)),e},e.equal=function(e,r,t){return"string"==typeof e?e=R(I(e,t),t):"object"===a(e)&&(e=R(e,t)),"string"==typeof r?r=R(I(r,t),t):"object"===a(r)&&(r=R(r,t)),e===r},e.escapeComponent=function(e,r){return e&&e.toString().replace(r&&r.iri?s.ESCAPE:o.ESCAPE,P)},e.unescapeComponent=V,Object.defineProperty(e,"__esModule",{value:!0})}(Sa);var Pa=Sa,$a=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var a,i,n;if(Array.isArray(r)){if((a=r.length)!=t.length)return!1;for(i=a;0!=i--;)if(!e(r[i],t[i]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((a=(n=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(i=a;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,n[i]))return!1;for(i=a;0!=i--;){var o=n[i];if(!e(r[o],t[o]))return!1}return!0}return r!=r&&t!=t},Oa={copy:function(e,r){for(var t in r=r||{},e)r[t]=e[t];return r},checkDataType:Ca,checkDataTypes:function(e,r,t){if(1===e.length)return Ca(e[0],r,t,!0);var a="",i=Da(e);for(var n in i.array&&i.object&&(a=i.null?"(":"(!"+r+" || ",a+="typeof "+r+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)a+=(a?" && ":"")+Ca(n,r,t,!0);return a},coerceToTypes:function(e,r){if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++){var i=r[a];(Aa[i]||"array"===e&&"array"===i)&&(t[t.length]=i)}if(t.length)return t}else{if(Aa[r])return[r];if("array"===e&&"array"===r)return["array"]}},toHash:Da,getProperty:Ia,escapeQuotes:za,equal:$a,ucs2length:function(e){for(var r,t=0,a=e.length,i=0;i<a;)t++,(r=e.charCodeAt(i++))>=55296&&r<=56319&&i<a&&56320==(64512&(r=e.charCodeAt(i)))&&i++;return t},varOccurences:function(e,r){var t=e.match(new RegExp(r+="[^0-9]","g"));return t?t.length:0},varReplace:function(e,r,t){return r+="([^0-9])",t=t.replace(/\$/g,"$$$$"),e.replace(new RegExp(r,"g"),t+"$1")},schemaHasRules:function(e,r){if("boolean"==typeof e)return!e;for(var t in e)if(r[t])return!0},schemaHasRulesExcept:function(e,r,t){if("boolean"==typeof e)return!e&&"not"!=t;for(var a in e)if(a!=t&&r[a])return!0},schemaUnknownRules:function(e,r){if("boolean"!=typeof e)for(var t in e)if(!r[t])return t},toQuotedString:Ta,getPathExpr:function(e,r,t,a){return Ba(e,t?"'/' + "+r+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+r+" + ']'":"'[\\'' + "+r+" + '\\']'")},getPath:function(e,r,t){return Ba(e,Ta(t?"/"+Ra(r):Ia(r)))},getData:function(e,r,t){var a,i,n,o;if(""===e)return"rootData";if("/"==e[0]){if(!qa.test(e))throw new Error("Invalid JSON-pointer: "+e);i=e,n="rootData"}else{if(!(o=e.match(Na)))throw new Error("Invalid JSON-pointer: "+e);if(a=+o[1],"#"==(i=o[2])){if(a>=r)throw new Error("Cannot access property/index "+a+" levels up, current level is "+r);return t[r-a]}if(a>r)throw new Error("Cannot access data "+a+" levels up, current level is "+r);if(n="data"+(r-a||""),!i)return n}for(var s=n,u=i.split("/"),l=0;l<u.length;l++){var c=u[l];c&&(s+=" && "+(n+=Ia(Ma(c))))}return s},unescapeFragment:function(e){return Ma(decodeURIComponent(e))},unescapeJsonPointer:Ma,escapeFragment:function(e){return encodeURIComponent(Ra(e))},escapeJsonPointer:Ra};function Ca(e,r,t,a){var i=a?" !== ":" === ",n=a?" || ":" && ",o=a?"!":"",s=a?"":"!";switch(e){case"null":return r+i+"null";case"array":return o+"Array.isArray("+r+")";case"object":return"("+o+r+n+"typeof "+r+i+'"object"'+n+s+"Array.isArray("+r+"))";case"integer":return"(typeof "+r+i+'"number"'+n+s+"("+r+" % 1)"+n+r+i+r+(t?n+o+"isFinite("+r+")":"")+")";case"number":return"(typeof "+r+i+'"'+e+'"'+(t?n+o+"isFinite("+r+")":"")+")";default:return"typeof "+r+i+'"'+e+'"'}}var Aa=Da(["string","number","integer","boolean","null"]);function Da(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!0;return r}var _a=/^[a-z$_][a-z$_0-9]*$/i,La=/'|\\/g;function Ia(e){return"number"==typeof e?"["+e+"]":_a.test(e)?"."+e:"['"+za(e)+"']"}function za(e){return e.replace(La,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Ta(e){return"'"+za(e)+"'"}var qa=/^\/(?:[^~]|~0|~1)*$/,Na=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ba(e,r){return'""'==e?r:(e+" + "+r).replace(/([^\\])' \+ '/g,"$1")}function Ra(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function Ma(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var Va=Oa,Ua=function(e){Va.copy(e,this)},Ha={exports:{}},Ga=Ha.exports=function(e,r,t){"function"==typeof r&&(t=r,r={}),Ja(r,"function"==typeof(t=r.cb||t)?t:t.pre||function(){},t.post||function(){},e,"",e)};function Ja(e,r,t,a,i,n,o,s,u,l){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var c in r(a,i,n,o,s,u,l),a){var f=a[c];if(Array.isArray(f)){if(c in Ga.arrayKeywords)for(var d=0;d<f.length;d++)Ja(e,r,t,f[d],i+"/"+c+"/"+d,n,i,c,a,d)}else if(c in Ga.propsKeywords){if(f&&"object"==typeof f)for(var v in f)Ja(e,r,t,f[v],i+"/"+c+"/"+v.replace(/~/g,"~0").replace(/\//g,"~1"),n,i,c,a,v)}else(c in Ga.keywords||e.allKeys&&!(c in Ga.skipKeywords))&&Ja(e,r,t,f,i+"/"+c,n,i,c,a)}t(a,i,n,o,s,u,l)}}Ga.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},Ga.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Ga.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Ga.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};var Ka=Pa,Qa=$a,Za=Oa,Wa=Ua,Xa=Ha.exports,Ya=ei;function ei(e,r,t){var a=this._refs[t];if("string"==typeof a){if(!this._refs[a])return ei.call(this,e,r,a);a=this._refs[a]}if((a=a||this._schemas[t])instanceof Wa)return oi(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var i,n,o,s=ri.call(this,r,t);return s&&(i=s.schema,r=s.root,o=s.baseId),i instanceof Wa?n=i.validate||e.call(this,i.schema,r,void 0,o):void 0!==i&&(n=oi(i,this._opts.inlineRefs)?i:e.call(this,i,r,void 0,o)),n}function ri(e,r){var t=Ka.parse(r),a=ci(t),i=li(this._getId(e.schema));if(0===Object.keys(e.schema).length||a!==i){var n=di(a),o=this._refs[n];if("string"==typeof o)return ti.call(this,e,o,t);if(o instanceof Wa)o.validate||this._compile(o),e=o;else{if(!((o=this._schemas[n])instanceof Wa))return;if(o.validate||this._compile(o),n==di(r))return{schema:o,root:e,baseId:i};e=o}if(!e.schema)return;i=li(this._getId(e.schema))}return ii.call(this,t,i,e.schema,e)}function ti(e,r,t){var a=ri.call(this,e,r);if(a){var i=a.schema,n=a.baseId;e=a.root;var o=this._getId(i);return o&&(n=vi(n,o)),ii.call(this,t,n,i,e)}}ei.normalizeId=di,ei.fullPath=li,ei.url=vi,ei.ids=function(e){var r=di(this._getId(e)),t={"":r},a={"":li(r,!1)},i={},n=this;return Xa(e,{allKeys:!0},(function(e,r,o,s,u,l,c){if(""!==r){var f=n._getId(e),d=t[s],v=a[s]+"/"+u;if(void 0!==c&&(v+="/"+("number"==typeof c?c:Za.escapeFragment(c))),"string"==typeof f){f=d=di(d?Ka.resolve(d,f):f);var m=n._refs[f];if("string"==typeof m&&(m=n._refs[m]),m&&m.schema){if(!Qa(e,m.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=di(v))if("#"==f[0]){if(i[f]&&!Qa(e,i[f]))throw new Error('id "'+f+'" resolves to more than one schema');i[f]=e}else n._refs[f]=v}t[r]=d,a[r]=v}})),i},ei.inlineRef=oi,ei.schema=ri;var ai=Za.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function ii(e,r,t,a){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var i=e.fragment.split("/"),n=1;n<i.length;n++){var o=i[n];if(o){if(void 0===(t=t[o=Za.unescapeFragment(o)]))break;var s;if(!ai[o]&&((s=this._getId(t))&&(r=vi(r,s)),t.$ref)){var u=vi(r,t.$ref),l=ri.call(this,a,u);l&&(t=l.schema,a=l.root,r=l.baseId)}}}return void 0!==t&&t!==a.schema?{schema:t,root:a,baseId:r}:void 0}}var ni=Za.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function oi(e,r){return!1!==r&&(void 0===r||!0===r?si(e):r?ui(e)<=r:void 0)}function si(e){var r;if(Array.isArray(e)){for(var t=0;t<e.length;t++)if("object"==typeof(r=e[t])&&!si(r))return!1}else for(var a in e){if("$ref"==a)return!1;if("object"==typeof(r=e[a])&&!si(r))return!1}return!0}function ui(e){var r,t=0;if(Array.isArray(e)){for(var a=0;a<e.length;a++)if("object"==typeof(r=e[a])&&(t+=ui(r)),t==1/0)return 1/0}else for(var i in e){if("$ref"==i)return 1/0;if(ni[i])t++;else if("object"==typeof(r=e[i])&&(t+=ui(r)+1),t==1/0)return 1/0}return t}function li(e,r){return!1!==r&&(e=di(e)),ci(Ka.parse(e))}function ci(e){return Ka.serialize(e).split("#")[0]+"#"}var fi=/#\/?$/;function di(e){return e?e.replace(fi,""):""}function vi(e,r){return r=di(r),Ka.resolve(e,r)}var mi=Ya,hi={Validation:gi((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:gi(pi)};function pi(e,r,t){this.message=t||pi.message(e,r),this.missingRef=mi.url(e,r),this.missingSchema=mi.normalizeId(mi.fullPath(this.missingRef))}function gi(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}pi.message=function(e,r){return"can't resolve reference "+r+" from id "+e};var yi=function(e,r){r||(r={}),"function"==typeof r&&(r={cmp:r});var t,a="boolean"==typeof r.cycles&&r.cycles,i=r.cmp&&(t=r.cmp,function(e){return function(r,a){return t({key:r,value:e[r]},{key:a,value:e[a]})}}),n=[];return function e(r){if(r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),void 0!==r){if("number"==typeof r)return isFinite(r)?""+r:"null";if("object"!=typeof r)return JSON.stringify(r);var t,o;if(Array.isArray(r)){for(o="[",t=0;t<r.length;t++)t&&(o+=","),o+=e(r[t])||"null";return o+"]"}if(null===r)return"null";if(-1!==n.indexOf(r)){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=n.push(r)-1,u=Object.keys(r).sort(i&&i(r));for(o="",t=0;t<u.length;t++){var l=u[t],c=e(r[l]);c&&(o&&(o+=","),o+=JSON.stringify(l)+":"+c)}return n.splice(s,1),"{"+o+"}"}}(e)},bi=function(e,r){var t="",a=!0===e.schema.$async,i=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),n=e.self._getId(e.schema);if(e.opts.strictKeywords){var o=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(o){var s="unknown keyword: "+o;if("log"!==e.opts.strictKeywords)throw new Error(s);e.logger.warn(s)}}if(e.isTop&&(t+=" var validate = ",a&&(e.async=!0,t+="async "),t+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",n&&(e.opts.sourceCode||e.opts.processCode)&&(t+=" /*# sourceURL="+n+" */ ")),"boolean"==typeof e.schema||!i&&!e.schema.$ref){var u=e.level,l=e.dataLevel,c=e.schema[r="false schema"],f=e.schemaPath+e.util.getProperty(r),d=e.errSchemaPath+"/"+r,v=!e.opts.allErrors,m="data"+(l||""),h="valid"+u;if(!1===e.schema){e.isTop?v=!0:t+=" var "+h+" = false; ",(V=V||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'boolean schema is false' "),e.opts.verbose&&(t+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ";var p=t;t=V.pop(),t+=!e.compositeRule&&v?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t+=e.isTop?a?" return data; ":" validate.errors = null; return true; ":" var "+h+" = true; ";return e.isTop&&(t+=" }; return validate; "),t}if(e.isTop){var g=e.isTop;if(u=e.level=0,l=e.dataLevel=0,m="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var y="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(y);e.logger.warn(y)}t+=" var vErrors = null; ",t+=" var errors = 0;     ",t+=" if (rootData === undefined) rootData = data; "}else{if(u=e.level,m="data"+((l=e.dataLevel)||""),n&&(e.baseId=e.resolve.url(e.baseId,n)),a&&!e.async)throw new Error("async schema in sync schema");t+=" var errs_"+u+" = errors;"}h="valid"+u,v=!e.opts.allErrors;var b="",w="",x=e.schema.type,E=Array.isArray(x);if(x&&e.opts.nullable&&!0===e.schema.nullable&&(E?-1==x.indexOf("null")&&(x=x.concat("null")):"null"!=x&&(x=[x,"null"],E=!0)),E&&1==x.length&&(x=x[0],E=!1),e.schema.$ref&&i){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(i=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(t+=" "+e.RULES.all.$comment.code(e,"$comment")),x){if(e.opts.coerceTypes)var F=e.util.coerceToTypes(e.opts.coerceTypes,x);var j=e.RULES.types[x];if(F||E||!0===j||j&&!Q(j)){if(f=e.schemaPath+".type",d=e.errSchemaPath+"/type",f=e.schemaPath+".type",d=e.errSchemaPath+"/type",t+=" if ("+e.util[E?"checkDataTypes":"checkDataType"](x,m,e.opts.strictNumbers,!0)+") { ",F){var k="dataType"+u,S="coerced"+u;t+=" var "+k+" = typeof "+m+"; var "+S+" = undefined; ","array"==e.opts.coerceTypes&&(t+=" if ("+k+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+k+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+S+" = "+m+"; } "),t+=" if ("+S+" !== undefined) ; ";var P=F;if(P)for(var $,O=-1,C=P.length-1;O<C;)"string"==($=P[O+=1])?t+=" else if ("+k+" == 'number' || "+k+" == 'boolean') "+S+" = '' + "+m+"; else if ("+m+" === null) "+S+" = ''; ":"number"==$||"integer"==$?(t+=" else if ("+k+" == 'boolean' || "+m+" === null || ("+k+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==$&&(t+=" && !("+m+" % 1)"),t+=")) "+S+" = +"+m+"; "):"boolean"==$?t+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+S+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+S+" = true; ":"null"==$?t+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+S+" = null; ":"array"==e.opts.coerceTypes&&"array"==$&&(t+=" else if ("+k+" == 'string' || "+k+" == 'number' || "+k+" == 'boolean' || "+m+" == null) "+S+" = ["+m+"]; ");(V=V||[]).push(t+=" else {   "),t="",!1!==e.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",t+=E?""+x.join(","):""+x,t+="' } ",!1!==e.opts.messages&&(t+=" , message: 'should be ",t+=E?""+x.join(","):""+x,t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ",p=t,t=V.pop(),t+=!e.compositeRule&&v?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } if ("+S+" !== undefined) {  ";var A=l?"data"+(l-1||""):"parentData";t+=" "+m+" = "+S+"; ",l||(t+="if ("+A+" !== undefined)"),t+=" "+A+"["+(l?e.dataPathArr[l]:"parentDataProperty")+"] = "+S+"; } "}else(V=V||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",t+=E?""+x.join(","):""+x,t+="' } ",!1!==e.opts.messages&&(t+=" , message: 'should be ",t+=E?""+x.join(","):""+x,t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ",p=t,t=V.pop(),t+=!e.compositeRule&&v?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";t+=" } "}}if(e.schema.$ref&&!i)t+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",v&&(t+=" } if (errors === ",t+=g?"0":"errs_"+u,t+=") { ",w+="}");else{var D=e.RULES;if(D)for(var _=-1,L=D.length-1;_<L;)if(Q(j=D[_+=1])){if(j.type&&(t+=" if ("+e.util.checkDataType(j.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==j.type&&e.schema.properties){c=e.schema.properties;var I=Object.keys(c);if(I)for(var z,T=-1,q=I.length-1;T<q;)if(void 0!==(R=c[z=I[T+=1]]).default){var N=m+e.util.getProperty(z);if(e.compositeRule){if(e.opts.strictDefaults){if(y="default is ignored for: "+N,"log"!==e.opts.strictDefaults)throw new Error(y);e.logger.warn(y)}}else t+=" if ("+N+" === undefined ","empty"==e.opts.useDefaults&&(t+=" || "+N+" === null || "+N+" === '' "),t+=" ) "+N+" = ",t+="shared"==e.opts.useDefaults?" "+e.useDefault(R.default)+" ":" "+JSON.stringify(R.default)+" ",t+="; "}}else if("array"==j.type&&Array.isArray(e.schema.items)){var B=e.schema.items;if(B){O=-1;for(var R,M=B.length-1;O<M;)if(void 0!==(R=B[O+=1]).default)if(N=m+"["+O+"]",e.compositeRule){if(e.opts.strictDefaults){if(y="default is ignored for: "+N,"log"!==e.opts.strictDefaults)throw new Error(y);e.logger.warn(y)}}else t+=" if ("+N+" === undefined ","empty"==e.opts.useDefaults&&(t+=" || "+N+" === null || "+N+" === '' "),t+=" ) "+N+" = ",t+="shared"==e.opts.useDefaults?" "+e.useDefault(R.default)+" ":" "+JSON.stringify(R.default)+" ",t+="; "}}var V,U=j.rules;if(U)for(var H,G=-1,J=U.length-1;G<J;)if(Z(H=U[G+=1])){var K=H.code(e,H.keyword,j.type);K&&(t+=" "+K+" ",v&&(b+="}"))}v&&(t+=" "+b+" ",b=""),j.type&&(t+=" } ",x&&x===j.type&&!F)&&(f=e.schemaPath+".type",d=e.errSchemaPath+"/type",(V=V||[]).push(t+=" else { "),t="",!1!==e.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { type: '",t+=E?""+x.join(","):""+x,t+="' } ",!1!==e.opts.messages&&(t+=" , message: 'should be ",t+=E?""+x.join(","):""+x,t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ",p=t,t=V.pop(),t+=!e.compositeRule&&v?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } "),v&&(t+=" if (errors === ",t+=g?"0":"errs_"+u,t+=") { ",w+="}")}}function Q(e){for(var r=e.rules,t=0;t<r.length;t++)if(Z(r[t]))return!0}function Z(r){return void 0!==e.schema[r.keyword]||r.implements&&function(r){for(var t=r.implements,a=0;a<t.length;a++)if(void 0!==e.schema[t[a]])return!0}(r)}return v&&(t+=" "+w+" "),g?(a?(t+=" if (errors === 0) return data;           ",t+=" else throw new ValidationError(vErrors); "):(t+=" validate.errors = vErrors; ",t+=" return errors === 0;       "),t+=" }; return validate;"):t+=" var "+h+" = errors === errs_"+u+";",t},wi=Ya,xi=Oa,Ei=hi,Fi=yi,ji=bi,ki=xi.ucs2length,Si=$a,Pi=Ei.Validation;function $i(e,r,t){var a=Ci.call(this,e,r,t);return a>=0?{index:a,compiling:!0}:(this._compilations[a=this._compilations.length]={schema:e,root:r,baseId:t},{index:a,compiling:!1})}function Oi(e,r,t){var a=Ci.call(this,e,r,t);a>=0&&this._compilations.splice(a,1)}function Ci(e,r,t){for(var a=0;a<this._compilations.length;a++){var i=this._compilations[a];if(i.schema==e&&i.root==r&&i.baseId==t)return a}return-1}function Ai(e,r){return"var pattern"+e+" = new RegExp("+xi.toQuotedString(r[e])+");"}function Di(e){return"var default"+e+" = defaults["+e+"];"}function _i(e,r){return void 0===r[e]?"":"var refVal"+e+" = refVal["+e+"];"}function Li(e){return"var customRule"+e+" = customRules["+e+"];"}function Ii(e,r){if(!e.length)return"";for(var t="",a=0;a<e.length;a++)t+=r(a,e);return t}var zi={exports:{}},Ti=zi.exports=function(){this._cache={}};Ti.prototype.put=function(e,r){this._cache[e]=r},Ti.prototype.get=function(e){return this._cache[e]},Ti.prototype.del=function(e){delete this._cache[e]},Ti.prototype.clear=function(){this._cache={}};var qi=zi.exports,Ni=Oa,Bi=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Ri=[0,31,28,31,30,31,30,31,31,30,31,30,31],Mi=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Vi=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Ui=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Hi=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Gi=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Ji=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Ki=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Qi=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Zi=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Wi=Xi;function Xi(e){return Ni.copy(Xi[e="full"==e?"full":"fast"])}function Yi(e){var r=e.match(Bi);if(!r)return!1;var t=+r[2],a=+r[3];return t>=1&&t<=12&&a>=1&&a<=(2==t&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(+r[1])?29:Ri[t])}function en(e,r){var t=e.match(Mi);if(!t)return!1;var a=t[1],i=t[2],n=t[3];return(a<=23&&i<=59&&n<=59||23==a&&59==i&&60==n)&&(!r||t[5])}Xi.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Hi,url:Gi,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Vi,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:nn,uuid:Ji,"json-pointer":Ki,"json-pointer-uri-fragment":Qi,"relative-json-pointer":Zi},Xi.full={date:Yi,time:en,"date-time":function(e){var r=e.split(rn);return 2==r.length&&Yi(r[0])&&en(r[1],!0)},uri:function(e){return tn.test(e)&&Ui.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":Hi,url:Gi,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:Vi,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:nn,uuid:Ji,"json-pointer":Ki,"json-pointer-uri-fragment":Qi,"relative-json-pointer":Zi};var rn=/t|\s/i,tn=/\/|:/,an=/[^\\]\\Z/;function nn(e){if(an.test(e))return!1;try{return!0}catch(e){return!1}}var on=function(e,r){var t,a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(n||""),f=e.opts.$data&&o&&o.$data;f?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",t="schema"+i):t=o;var d="maximum"==r,v=d?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[v],h=e.opts.$data&&m&&m.$data,p=d?"<":">",g=d?">":"<",y=void 0;if(!f&&"number"!=typeof o&&void 0!==o)throw new Error(r+" must be number");if(!h&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(v+" must be number or boolean");if(h){var b,w=e.util.getData(m.$data,n,e.dataPathArr),x="exclusive"+i,E="exclType"+i,F="exclIsNumber"+i,j="' + "+(S="op"+i)+" + '";a+=" var schemaExcl"+i+" = "+w+"; ",a+=" var "+x+"; var "+E+" = typeof "+(w="schemaExcl"+i)+"; if ("+E+" != 'boolean' && "+E+" != 'undefined' && "+E+" != 'number') { ",y=v,(b=b||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(y||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: '"+v+" should be boolean' "),e.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var k=a;a=b.pop(),a+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",f&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),a+=" "+E+" == 'number' ? ( ("+x+" = "+t+" === undefined || "+w+" "+p+"= "+t+") ? "+c+" "+g+"= "+w+" : "+c+" "+g+" "+t+" ) : ( ("+x+" = "+w+" === true) ? "+c+" "+g+"= "+t+" : "+c+" "+g+" "+t+" ) || "+c+" !== "+c+") { var op"+i+" = "+x+" ? '"+p+"' : '"+p+"='; ",void 0===o&&(y=v,u=e.errSchemaPath+"/"+v,t=w,f=h)}else if(j=p,(F="number"==typeof m)&&f){var S="'"+j+"'";a+=" if ( ",f&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),a+=" ( "+t+" === undefined || "+m+" "+p+"= "+t+" ? "+c+" "+g+"= "+m+" : "+c+" "+g+" "+t+" ) || "+c+" !== "+c+") { "}else F&&void 0===o?(x=!0,y=v,u=e.errSchemaPath+"/"+v,t=m,g+="="):(F&&(t=Math[d?"min":"max"](m,o)),m===(!F||t)?(x=!0,y=v,u=e.errSchemaPath+"/"+v,g+="="):(x=!1,j+="=")),S="'"+j+"'",a+=" if ( ",f&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),a+=" "+c+" "+g+" "+t+" || "+c+" !== "+c+") { ";return y=y||r,(b=b||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(y||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+S+", limit: "+t+", exclusive: "+x+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be "+j+" ",a+=f?"' + "+t:t+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=f?"validate.schema"+s:""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ",k=a,a=b.pop(),a+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l&&(a+=" else { "),a},sn=function(e,r){var t,a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(n||""),f=e.opts.$data&&o&&o.$data;if(f?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",t="schema"+i):t=o,!f&&"number"!=typeof o)throw new Error(r+" must be number");a+="if ( ",f&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || ");var d=r,v=v||[];v.push(a+=" "+c+".length "+("maxItems"==r?">":"<")+" "+t+") { "),a="",!1!==e.createErrors?(a+=" { keyword: '"+(d||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+t+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxItems"==r?"more":"fewer",a+=" than ",a+=f?"' + "+t+" + '":""+o,a+=" items' "),e.opts.verbose&&(a+=" , schema:  ",a+=f?"validate.schema"+s:""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var m=a;return a=v.pop(),a+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a},un=function(e,r){var t,a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(n||""),f=e.opts.$data&&o&&o.$data;if(f?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",t="schema"+i):t=o,!f&&"number"!=typeof o)throw new Error(r+" must be number");a+="if ( ",f&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),a+=!1===e.opts.unicode?" "+c+".length ":" ucs2length("+c+") ";var d=r,v=v||[];v.push(a+=" "+("maxLength"==r?">":"<")+" "+t+") { "),a="",!1!==e.createErrors?(a+=" { keyword: '"+(d||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+t+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be ",a+="maxLength"==r?"longer":"shorter",a+=" than ",a+=f?"' + "+t+" + '":""+o,a+=" characters' "),e.opts.verbose&&(a+=" , schema:  ",a+=f?"validate.schema"+s:""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var m=a;return a=v.pop(),a+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a},ln=function(e,r){var t,a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(n||""),f=e.opts.$data&&o&&o.$data;if(f?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",t="schema"+i):t=o,!f&&"number"!=typeof o)throw new Error(r+" must be number");a+="if ( ",f&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || ");var d=r,v=v||[];v.push(a+=" Object.keys("+c+").length "+("maxProperties"==r?">":"<")+" "+t+") { "),a="",!1!==e.createErrors?(a+=" { keyword: '"+(d||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+t+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxProperties"==r?"more":"fewer",a+=" than ",a+=f?"' + "+t+" + '":""+o,a+=" properties' "),e.opts.verbose&&(a+=" , schema:  ",a+=f?"validate.schema"+s:""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var m=a;return a=v.pop(),a+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a},cn={$ref:function(e,r){var t,a,i=" ",n=e.dataLevel,o=e.schema[r],s=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,l="data"+(n||""),c="valid"+e.level;if("#"==o||"#/"==o)e.isRoot?(t=e.async,a="validate"):(t=!0===e.root.schema.$async,a="root.refVal[0]");else{var f=e.resolveRef(e.baseId,o,e.isRoot);if(void 0===f){var d=e.MissingRefError.message(e.baseId,o);if("fail"==e.opts.missingRefs){e.logger.error(d),(p=p||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",!1!==e.opts.messages&&(i+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(i+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),i+=" } "):i+=" {} ";var v=i;i=p.pop(),i+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(i+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,o,d);e.logger.warn(d),u&&(i+=" if (true) { ")}}else if(f.inline){var m=e.util.copy(e);m.level++;var h="valid"+m.level;m.schema=f.schema,m.schemaPath="",m.errSchemaPath=o,i+=" "+e.validate(m).replace(/validate\.schema/g,f.code)+" ",u&&(i+=" if ("+h+") { ")}else t=!0===f.$async||e.async&&!1!==f.$async,a=f.code}if(a){var p;(p=p||[]).push(i),i="",i+=e.opts.passContext?" "+a+".call(this, ":" "+a+"( ",i+=" "+l+", (dataPath || '')",'""'!=e.errorPath&&(i+=" + "+e.errorPath);var g=i+=" , "+(n?"data"+(n-1||""):"parentData")+" , "+(n?e.dataPathArr[n]:"parentDataProperty")+", rootData)  ";if(i=p.pop(),t){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(i+=" var "+c+"; "),i+=" try { await "+g+"; ",u&&(i+=" "+c+" = true; "),i+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(i+=" "+c+" = false; "),i+=" } ",u&&(i+=" if ("+c+") { ")}else i+=" if (!"+g+") { if (vErrors === null) vErrors = "+a+".errors; else vErrors = vErrors.concat("+a+".errors); errors = vErrors.length; } ",u&&(i+=" else { ")}return i},allOf:function(e,r){var t=" ",a=e.schema[r],i=e.schemaPath+e.util.getProperty(r),n=e.errSchemaPath+"/"+r,o=!e.opts.allErrors,s=e.util.copy(e),u="";s.level++;var l="valid"+s.level,c=s.baseId,f=!0,d=a;if(d)for(var v,m=-1,h=d.length-1;m<h;)v=d[m+=1],(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all))&&(f=!1,s.schema=v,s.schemaPath=i+"["+m+"]",s.errSchemaPath=n+"/"+m,t+="  "+e.validate(s)+" ",s.baseId=c,o&&(t+=" if ("+l+") { ",u+="}"));return o&&(t+=f?" if (true) { ":" "+u.slice(0,-1)+" "),t},anyOf:function(e,r){var t=" ",a=e.level,i=e.dataLevel,n=e.schema[r],o=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,l="data"+(i||""),c="valid"+a,f="errs__"+a,d=e.util.copy(e),v="";d.level++;var m="valid"+d.level,h=n.every((function(r){return e.opts.strictKeywords?"object"==typeof r&&Object.keys(r).length>0||!1===r:e.util.schemaHasRules(r,e.RULES.all)}));if(h){var p=d.baseId;t+=" var "+f+" = errors; var "+c+" = false;  ";var g=e.compositeRule;e.compositeRule=d.compositeRule=!0;var y=n;if(y)for(var b,w=-1,x=y.length-1;w<x;)b=y[w+=1],d.schema=b,d.schemaPath=o+"["+w+"]",d.errSchemaPath=s+"/"+w,t+="  "+e.validate(d)+" ",d.baseId=p,t+=" "+c+" = "+c+" || "+m+"; if (!"+c+") { ",v+="}";e.compositeRule=d.compositeRule=g,t+=" "+v+" if (!"+c+") {   var err =   ",!1!==e.createErrors?(t+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(t+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),t+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",e.opts.allErrors&&(t+=" } ")}else u&&(t+=" if (true) { ");return t},$comment:function(e,r){var t=" ",a=e.errSchemaPath+"/"+r,i=e.util.toQuotedString(e.schema[r]);return!0===e.opts.$comment?t+=" console.log("+i+");":"function"==typeof e.opts.$comment&&(t+=" self._opts.$comment("+i+", "+e.util.toQuotedString(a)+", validate.root.schema);"),t},const:function(e,r){var t=" ",a=e.level,i=e.dataLevel,n=e.schema[r],o=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,l="data"+(i||""),c="valid"+a,f=e.opts.$data&&n&&n.$data;f&&(t+=" var schema"+a+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; "),f||(t+=" var schema"+a+" = validate.schema"+o+";");var d=d||[];d.push(t+="var "+c+" = equal("+l+", schema"+a+"); if (!"+c+") {   "),t="",!1!==e.createErrors?(t+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { allowedValue: schema"+a+" } ",!1!==e.opts.messages&&(t+=" , message: 'should be equal to constant' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ";var v=t;return t=d.pop(),t+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" }",u&&(t+=" else { "),t},contains:function(e,r){var t=" ",a=e.level,i=e.dataLevel,n=e.schema[r],o=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,l="data"+(i||""),c="valid"+a,f="errs__"+a,d=e.util.copy(e);d.level++;var v="valid"+d.level,m="i"+a,h=d.dataLevel=e.dataLevel+1,p="data"+h,g=e.baseId,y=e.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:e.util.schemaHasRules(n,e.RULES.all);if(t+="var "+f+" = errors;var "+c+";",y){var b=e.compositeRule;e.compositeRule=d.compositeRule=!0,d.schema=n,d.schemaPath=o,d.errSchemaPath=s,t+=" var "+v+" = false; for (var "+m+" = 0; "+m+" < "+l+".length; "+m+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var w=l+"["+m+"]";d.dataPathArr[h]=m;var x=e.validate(d);d.baseId=g,e.util.varOccurences(x,p)<2?t+=" "+e.util.varReplace(x,p,w)+" ":t+=" var "+p+" = "+w+"; "+x+" ",t+=" if ("+v+") break; }  ",e.compositeRule=d.compositeRule=b,t+="  if (!"+v+") {"}else t+=" if ("+l+".length == 0) {";var E=E||[];E.push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'should contain a valid item' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ";var F=t;return t=E.pop(),t+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+F+"]); ":" validate.errors = ["+F+"]; return false; ":" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { ",y&&(t+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),e.opts.allErrors&&(t+=" } "),t},dependencies:function(e,r){var t=" ",a=e.level,i=e.dataLevel,n=e.schema[r],o=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,l="data"+(i||""),c="errs__"+a,f=e.util.copy(e),d="";f.level++;var v="valid"+f.level,m={},h={},p=e.opts.ownProperties;for(w in n)if("__proto__"!=w){var g=n[w],y=Array.isArray(g)?h:m;y[w]=g}t+="var "+c+" = errors;";var b=e.errorPath;for(var w in t+="var missing"+a+";",h)if((y=h[w]).length){if(t+=" if ( "+l+e.util.getProperty(w)+" !== undefined ",p&&(t+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),u){t+=" && ( ";var x=y;if(x)for(var E=-1,F=x.length-1;E<F;)O=x[E+=1],E&&(t+=" || "),t+=" ( ( "+(_=l+(D=e.util.getProperty(O)))+" === undefined ",p&&(t+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(O)+"') "),t+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?O:D)+") ) ";t+=")) {  ";var j="missing"+a,k="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,j,!0):b+" + "+j);var S=S||[];S.push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+k+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(t+=" , message: 'should have ",t+=1==y.length?"property "+e.util.escapeQuotes(y[0]):"properties "+e.util.escapeQuotes(y.join(", ")),t+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ";var P=t;t=S.pop(),t+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+P+"]); ":" validate.errors = ["+P+"]; return false; ":" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{t+=" ) { ";var $=y;if($)for(var O,C=-1,A=$.length-1;C<A;){O=$[C+=1];var D=e.util.getProperty(O),_=(k=e.util.escapeQuotes(O),l+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,O,e.opts.jsonPointers)),t+=" if ( "+_+" === undefined ",p&&(t+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(O)+"') "),t+=") {  var err =   ",!1!==e.createErrors?(t+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { property: '"+e.util.escapeQuotes(w)+"', missingProperty: '"+k+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(t+=" , message: 'should have ",t+=1==y.length?"property "+e.util.escapeQuotes(y[0]):"properties "+e.util.escapeQuotes(y.join(", ")),t+=" when property "+e.util.escapeQuotes(w)+" is present' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t+=" }   ",u&&(d+="}",t+=" else { ")}e.errorPath=b;var L=f.baseId;for(var w in m)g=m[w],(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all))&&(t+=" "+v+" = true; if ( "+l+e.util.getProperty(w)+" !== undefined ",p&&(t+=" && Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(w)+"') "),t+=") { ",f.schema=g,f.schemaPath=o+e.util.getProperty(w),f.errSchemaPath=s+"/"+e.util.escapeFragment(w),t+="  "+e.validate(f)+" ",f.baseId=L,t+=" }  ",u&&(t+=" if ("+v+") { ",d+="}"));return u&&(t+="   "+d+" if ("+c+" == errors) {"),t},enum:function(e,r){var t=" ",a=e.level,i=e.dataLevel,n=e.schema[r],o=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,l="data"+(i||""),c="valid"+a,f=e.opts.$data&&n&&n.$data;f&&(t+=" var schema"+a+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ");var d="i"+a,v="schema"+a;f||(t+=" var "+v+" = validate.schema"+o+";"),t+="var "+c+";",f&&(t+=" if (schema"+a+" === undefined) "+c+" = true; else if (!Array.isArray(schema"+a+")) "+c+" = false; else {"),t+=c+" = false;for (var "+d+"=0; "+d+"<"+v+".length; "+d+"++) if (equal("+l+", "+v+"["+d+"])) { "+c+" = true; break; }",f&&(t+="  }  ");var m=m||[];m.push(t+=" if (!"+c+") {   "),t="",!1!==e.createErrors?(t+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { allowedValues: schema"+a+" } ",!1!==e.opts.messages&&(t+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ";var h=t;return t=m.pop(),t+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+h+"]); ":" validate.errors = ["+h+"]; return false; ":" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" }",u&&(t+=" else { "),t},format:function(e,r,t){var a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(n||"");if(!1===e.opts.format)return l&&(a+=" if (true) { "),a;var f,d=e.opts.$data&&o&&o.$data;d?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",f="schema"+i):f=o;var v=e.opts.unknownFormats,m=Array.isArray(v);if(d)a+=" var "+(h="format"+i)+" = formats["+f+"]; var "+(p="isObject"+i)+" = typeof "+h+" == 'object' && !("+h+" instanceof RegExp) && "+h+".validate; var "+(g="formatType"+i)+" = "+p+" && "+h+".type || 'string'; if ("+p+") { ",e.async&&(a+=" var async"+i+" = "+h+".async; "),a+=" "+h+" = "+h+".validate; } if (  ",d&&(a+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),a+=" (","ignore"!=v&&(a+=" ("+f+" && !"+h+" ",m&&(a+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),a+=") || "),a+=" ("+h+" && "+g+" == '"+t+"' && !(typeof "+h+" == 'function' ? ",a+=e.async?" (async"+i+" ? await "+h+"("+c+") : "+h+"("+c+")) ":" "+h+"("+c+") ",a+=" : "+h+".test("+c+"))))) {";else{var h;if(!(h=e.formats[o])){if("ignore"==v)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),l&&(a+=" if (true) { "),a;if(m&&v.indexOf(o)>=0)return l&&(a+=" if (true) { "),a;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var p,g=(p="object"==typeof h&&!(h instanceof RegExp)&&h.validate)&&h.type||"string";if(p){var y=!0===h.async;h=h.validate}if(g!=t)return l&&(a+=" if (true) { "),a;if(y){if(!e.async)throw new Error("async format in sync schema");a+=" if (!(await "+(b="formats"+e.util.getProperty(o)+".validate")+"("+c+"))) { "}else{a+=" if (! ";var b="formats"+e.util.getProperty(o);p&&(b+=".validate"),a+="function"==typeof h?" "+b+"("+c+") ":" "+b+".test("+c+") ",a+=") { "}}var w=w||[];w.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",a+=d?""+f:""+e.util.toQuotedString(o),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match format \"",a+=d?"' + "+f+" + '":""+e.util.escapeQuotes(o),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+s:""+e.util.toQuotedString(o),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var x=a;return a=w.pop(),a+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l&&(a+=" else { "),a},if:function(e,r){var t=" ",a=e.level,i=e.dataLevel,n=e.schema[r],o=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,l="data"+(i||""),c="valid"+a,f="errs__"+a,d=e.util.copy(e);d.level++;var v="valid"+d.level,m=e.schema.then,h=e.schema.else,p=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),g=void 0!==h&&(e.opts.strictKeywords?"object"==typeof h&&Object.keys(h).length>0||!1===h:e.util.schemaHasRules(h,e.RULES.all)),y=d.baseId;if(p||g){var b;d.createErrors=!1,d.schema=n,d.schemaPath=o,d.errSchemaPath=s,t+=" var "+f+" = errors; var "+c+" = true;  ";var w=e.compositeRule;e.compositeRule=d.compositeRule=!0,t+="  "+e.validate(d)+" ",d.baseId=y,d.createErrors=!0,t+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",e.compositeRule=d.compositeRule=w,p?(t+=" if ("+v+") {  ",d.schema=e.schema.then,d.schemaPath=e.schemaPath+".then",d.errSchemaPath=e.errSchemaPath+"/then",t+="  "+e.validate(d)+" ",d.baseId=y,t+=" "+c+" = "+v+"; ",p&&g?t+=" var "+(b="ifClause"+a)+" = 'then'; ":b="'then'",t+=" } ",g&&(t+=" else { ")):t+=" if (!"+v+") { ",g&&(d.schema=e.schema.else,d.schemaPath=e.schemaPath+".else",d.errSchemaPath=e.errSchemaPath+"/else",t+="  "+e.validate(d)+" ",d.baseId=y,t+=" "+c+" = "+v+"; ",p&&g?t+=" var "+(b="ifClause"+a)+" = 'else'; ":b="'else'",t+=" } "),t+=" if (!"+c+") {   var err =   ",!1!==e.createErrors?(t+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { failingKeyword: "+b+" } ",!1!==e.opts.messages&&(t+=" , message: 'should match \"' + "+b+" + '\" schema' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(t+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),t+=" }   ",u&&(t+=" else { ")}else u&&(t+=" if (true) { ");return t},items:function(e,r){var t=" ",a=e.level,i=e.dataLevel,n=e.schema[r],o=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,l="data"+(i||""),c="valid"+a,f="errs__"+a,d=e.util.copy(e),v="";d.level++;var m="valid"+d.level,h="i"+a,p=d.dataLevel=e.dataLevel+1,g="data"+p,y=e.baseId;if(t+="var "+f+" = errors;var "+c+";",Array.isArray(n)){var b=e.schema.additionalItems;if(!1===b){t+=" "+c+" = "+l+".length <= "+n.length+"; ";var w=s;s=e.errSchemaPath+"/additionalItems";var x=x||[];x.push(t+="  if (!"+c+") {   "),t="",!1!==e.createErrors?(t+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { limit: "+n.length+" } ",!1!==e.opts.messages&&(t+=" , message: 'should NOT have more than "+n.length+" items' "),e.opts.verbose&&(t+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ";var E=t;t=x.pop(),t+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+E+"]); ":" validate.errors = ["+E+"]; return false; ":" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } ",s=w,u&&(v+="}",t+=" else { ")}var F=n;if(F)for(var j,k=-1,S=F.length-1;k<S;)if(j=F[k+=1],e.opts.strictKeywords?"object"==typeof j&&Object.keys(j).length>0||!1===j:e.util.schemaHasRules(j,e.RULES.all)){t+=" "+m+" = true; if ("+l+".length > "+k+") { ";var P=l+"["+k+"]";d.schema=j,d.schemaPath=o+"["+k+"]",d.errSchemaPath=s+"/"+k,d.errorPath=e.util.getPathExpr(e.errorPath,k,e.opts.jsonPointers,!0),d.dataPathArr[p]=k;var $=e.validate(d);d.baseId=y,e.util.varOccurences($,g)<2?t+=" "+e.util.varReplace($,g,P)+" ":t+=" var "+g+" = "+P+"; "+$+" ",t+=" }  ",u&&(t+=" if ("+m+") { ",v+="}")}"object"==typeof b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))&&(d.schema=b,d.schemaPath=e.schemaPath+".additionalItems",d.errSchemaPath=e.errSchemaPath+"/additionalItems",t+=" "+m+" = true; if ("+l+".length > "+n.length+") {  for (var "+h+" = "+n.length+"; "+h+" < "+l+".length; "+h+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,h,e.opts.jsonPointers,!0),P=l+"["+h+"]",d.dataPathArr[p]=h,$=e.validate(d),d.baseId=y,e.util.varOccurences($,g)<2?t+=" "+e.util.varReplace($,g,P)+" ":t+=" var "+g+" = "+P+"; "+$+" ",u&&(t+=" if (!"+m+") break; "),t+=" } }  ",u&&(t+=" if ("+m+") { ",v+="}"))}else(e.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:e.util.schemaHasRules(n,e.RULES.all))&&(d.schema=n,d.schemaPath=o,d.errSchemaPath=s,t+="  for (var "+h+" = 0; "+h+" < "+l+".length; "+h+"++) { ",d.errorPath=e.util.getPathExpr(e.errorPath,h,e.opts.jsonPointers,!0),P=l+"["+h+"]",d.dataPathArr[p]=h,$=e.validate(d),d.baseId=y,e.util.varOccurences($,g)<2?t+=" "+e.util.varReplace($,g,P)+" ":t+=" var "+g+" = "+P+"; "+$+" ",u&&(t+=" if (!"+m+") break; "),t+=" }");return u&&(t+=" "+v+" if ("+f+" == errors) {"),t},maximum:on,minimum:on,maxItems:sn,minItems:sn,maxLength:un,minLength:un,maxProperties:ln,minProperties:ln,multipleOf:function(e,r){var t,a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(n||""),f=e.opts.$data&&o&&o.$data;if(f?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",t="schema"+i):t=o,!f&&"number"!=typeof o)throw new Error(r+" must be number");a+="var division"+i+";if (",f&&(a+=" "+t+" !== undefined && ( typeof "+t+" != 'number' || "),a+=" (division"+i+" = "+c+" / "+t+", ",a+=e.opts.multipleOfPrecision?" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":" division"+i+" !== parseInt(division"+i+") ",a+=" ) ",f&&(a+="  )  ");var d=d||[];d.push(a+=" ) {   "),a="",!1!==e.createErrors?(a+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+t+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be multiple of ",a+=f?"' + "+t:t+"'"),e.opts.verbose&&(a+=" , schema:  ",a+=f?"validate.schema"+s:""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var v=a;return a=d.pop(),a+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a},not:function(e,r){var t=" ",a=e.level,i=e.dataLevel,n=e.schema[r],o=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,l="data"+(i||""),c="errs__"+a,f=e.util.copy(e);f.level++;var d="valid"+f.level;if(e.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:e.util.schemaHasRules(n,e.RULES.all)){f.schema=n,f.schemaPath=o,f.errSchemaPath=s,t+=" var "+c+" = errors;  ";var v,m=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.createErrors=!1,f.opts.allErrors&&(v=f.opts.allErrors,f.opts.allErrors=!1),t+=" "+e.validate(f)+" ",f.createErrors=!0,v&&(f.opts.allErrors=v),e.compositeRule=f.compositeRule=m;var h=h||[];h.push(t+=" if ("+d+") {   "),t="",!1!==e.createErrors?(t+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'should NOT be valid' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ";var p=t;t=h.pop(),t+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else {  errors = "+c+"; if (vErrors !== null) { if ("+c+") vErrors.length = "+c+"; else vErrors = null; } ",e.opts.allErrors&&(t+=" } ")}else t+="  var err =   ",!1!==e.createErrors?(t+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'should NOT be valid' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(t+=" if (false) { ");return t},oneOf:function(e,r){var t=" ",a=e.level,i=e.dataLevel,n=e.schema[r],o=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,l="data"+(i||""),c="valid"+a,f="errs__"+a,d=e.util.copy(e),v="";d.level++;var m="valid"+d.level,h=d.baseId,p="prevValid"+a,g="passingSchemas"+a;t+="var "+f+" = errors , "+p+" = false , "+c+" = false , "+g+" = null; ";var y=e.compositeRule;e.compositeRule=d.compositeRule=!0;var b=n;if(b)for(var w,x=-1,E=b.length-1;x<E;)w=b[x+=1],(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))?(d.schema=w,d.schemaPath=o+"["+x+"]",d.errSchemaPath=s+"/"+x,t+="  "+e.validate(d)+" ",d.baseId=h):t+=" var "+m+" = true; ",x&&(t+=" if ("+m+" && "+p+") { "+c+" = false; "+g+" = ["+g+", "+x+"]; } else { ",v+="}"),t+=" if ("+m+") { "+c+" = "+p+" = true; "+g+" = "+x+"; }";return e.compositeRule=d.compositeRule=y,t+=v+"if (!"+c+") {   var err =   ",!1!==e.createErrors?(t+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { passingSchemas: "+g+" } ",!1!==e.opts.messages&&(t+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(t+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),t+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",e.opts.allErrors&&(t+=" } "),t},pattern:function(e,r){var t,a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(n||""),f=e.opts.$data&&o&&o.$data;f?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",t="schema"+i):t=o,a+="if ( ",f&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'string') || "),a+=" !"+(f?"(new RegExp("+t+"))":e.usePattern(o))+".test("+c+") ) {   ";var d=d||[];d.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",a+=f?""+t:""+e.util.toQuotedString(o),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match pattern \"",a+=f?"' + "+t+" + '":""+e.util.escapeQuotes(o),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=f?"validate.schema"+s:""+e.util.toQuotedString(o),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var v=a;return a=d.pop(),a+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",l&&(a+=" else { "),a},properties:function(e,r){var t=" ",a=e.level,i=e.dataLevel,n=e.schema[r],o=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,l="data"+(i||""),c="errs__"+a,f=e.util.copy(e),d="";f.level++;var v="valid"+f.level,m="key"+a,h="idx"+a,p=f.dataLevel=e.dataLevel+1,g="data"+p,y="dataProperties"+a,b=Object.keys(n||{}).filter(D),w=e.schema.patternProperties||{},x=Object.keys(w).filter(D),E=e.schema.additionalProperties,F=b.length||x.length,j=!1===E,k="object"==typeof E&&Object.keys(E).length,S=e.opts.removeAdditional,P=j||k||S,$=e.opts.ownProperties,O=e.baseId,C=e.schema.required;if(C&&(!e.opts.$data||!C.$data)&&C.length<e.opts.loopRequired)var A=e.util.toHash(C);function D(e){return"__proto__"!==e}if(t+="var "+c+" = errors;var "+v+" = true;",$&&(t+=" var "+y+" = undefined;"),P){if(t+=$?" "+y+" = "+y+" || Object.keys("+l+"); for (var "+h+"=0; "+h+"<"+y+".length; "+h+"++) { var "+m+" = "+y+"["+h+"]; ":" for (var "+m+" in "+l+") { ",F){if(t+=" var isAdditional"+a+" = !(false ",b.length)if(b.length>8)t+=" || validate.schema"+o+".hasOwnProperty("+m+") ";else{var _=b;if(_)for(var L=-1,I=_.length-1;L<I;)K=_[L+=1],t+=" || "+m+" == "+e.util.toQuotedString(K)+" "}if(x.length){var z=x;if(z)for(var T=-1,q=z.length-1;T<q;)ie=z[T+=1],t+=" || "+e.usePattern(ie)+".test("+m+") "}t+=" ); if (isAdditional"+a+") { "}if("all"==S)t+=" delete "+l+"["+m+"]; ";else{var N=e.errorPath,B="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),j)if(S)t+=" delete "+l+"["+m+"]; ";else{var R=s;s=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(t+=" "+v+" = false; "),t="",!1!==e.createErrors?(t+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { additionalProperty: '"+B+"' } ",!1!==e.opts.messages&&(t+=" , message: '",t+=e.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",t+="' "),e.opts.verbose&&(t+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ";var M=t;t=re.pop(),t+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s=R,u&&(t+=" break; ")}else if(k)if("failing"==S){t+=" var "+c+" = errors;  ";var V=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=E,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var U=l+"["+m+"]";f.dataPathArr[p]=m;var H=e.validate(f);f.baseId=O,e.util.varOccurences(H,g)<2?t+=" "+e.util.varReplace(H,g,U)+" ":t+=" var "+g+" = "+U+"; "+H+" ",t+=" if (!"+v+") { errors = "+c+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+l+"["+m+"]; }  ",e.compositeRule=f.compositeRule=V}else f.schema=E,f.schemaPath=e.schemaPath+".additionalProperties",f.errSchemaPath=e.errSchemaPath+"/additionalProperties",f.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),U=l+"["+m+"]",f.dataPathArr[p]=m,H=e.validate(f),f.baseId=O,e.util.varOccurences(H,g)<2?t+=" "+e.util.varReplace(H,g,U)+" ":t+=" var "+g+" = "+U+"; "+H+" ",u&&(t+=" if (!"+v+") break; ");e.errorPath=N}F&&(t+=" } "),t+=" }  ",u&&(t+=" if ("+v+") { ",d+="}")}var G=e.opts.useDefaults&&!e.compositeRule;if(b.length){var J=b;if(J)for(var K,Q=-1,Z=J.length-1;Q<Z;){var W=n[K=J[Q+=1]];if(e.opts.strictKeywords?"object"==typeof W&&Object.keys(W).length>0||!1===W:e.util.schemaHasRules(W,e.RULES.all)){var X=e.util.getProperty(K),Y=(U=l+X,G&&void 0!==W.default);if(f.schema=W,f.schemaPath=o+X,f.errSchemaPath=s+"/"+e.util.escapeFragment(K),f.errorPath=e.util.getPath(e.errorPath,K,e.opts.jsonPointers),f.dataPathArr[p]=e.util.toQuotedString(K),H=e.validate(f),f.baseId=O,e.util.varOccurences(H,g)<2){H=e.util.varReplace(H,g,U);var ee=U}else ee=g,t+=" var "+g+" = "+U+"; ";if(Y)t+=" "+H+" ";else{if(A&&A[K]){t+=" if ( "+ee+" === undefined ",$&&(t+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(K)+"') "),t+=") { "+v+" = false; ",N=e.errorPath,R=s;var re,te=e.util.escapeQuotes(K);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(N,K,e.opts.jsonPointers)),s=e.errSchemaPath+"/required",(re=re||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { missingProperty: '"+te+"' } ",!1!==e.opts.messages&&(t+=" , message: '",t+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+te+"\\'",t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ",M=t,t=re.pop(),t+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s=R,e.errorPath=N,t+=" } else { "}else u?(t+=" if ( "+ee+" === undefined ",$&&(t+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(K)+"') "),t+=") { "+v+" = true; } else { "):(t+=" if ("+ee+" !== undefined ",$&&(t+=" &&   Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(K)+"') "),t+=" ) { ");t+=" "+H+" } "}}u&&(t+=" if ("+v+") { ",d+="}")}}if(x.length){var ae=x;if(ae)for(var ie,ne=-1,oe=ae.length-1;ne<oe;)W=w[ie=ae[ne+=1]],(e.opts.strictKeywords?"object"==typeof W&&Object.keys(W).length>0||!1===W:e.util.schemaHasRules(W,e.RULES.all))&&(f.schema=W,f.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),f.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),t+=$?" "+y+" = "+y+" || Object.keys("+l+"); for (var "+h+"=0; "+h+"<"+y+".length; "+h+"++) { var "+m+" = "+y+"["+h+"]; ":" for (var "+m+" in "+l+") { ",t+=" if ("+e.usePattern(ie)+".test("+m+")) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),U=l+"["+m+"]",f.dataPathArr[p]=m,H=e.validate(f),f.baseId=O,e.util.varOccurences(H,g)<2?t+=" "+e.util.varReplace(H,g,U)+" ":t+=" var "+g+" = "+U+"; "+H+" ",u&&(t+=" if (!"+v+") break; "),t+=" } ",u&&(t+=" else "+v+" = true; "),t+=" }  ",u&&(t+=" if ("+v+") { ",d+="}"))}return u&&(t+=" "+d+" if ("+c+" == errors) {"),t},propertyNames:function(e,r){var t=" ",a=e.level,i=e.dataLevel,n=e.schema[r],o=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,l="data"+(i||""),c="errs__"+a,f=e.util.copy(e);f.level++;var d="valid"+f.level;if(t+="var "+c+" = errors;",e.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:e.util.schemaHasRules(n,e.RULES.all)){f.schema=n,f.schemaPath=o,f.errSchemaPath=s;var v="key"+a,m="idx"+a,h="i"+a,p="' + "+v+" + '",g="data"+(f.dataLevel=e.dataLevel+1),y="dataProperties"+a,b=e.opts.ownProperties,w=e.baseId;b&&(t+=" var "+y+" = undefined; "),t+=b?" "+y+" = "+y+" || Object.keys("+l+"); for (var "+m+"=0; "+m+"<"+y+".length; "+m+"++) { var "+v+" = "+y+"["+m+"]; ":" for (var "+v+" in "+l+") { ",t+=" var startErrs"+a+" = errors; ";var x=v,E=e.compositeRule;e.compositeRule=f.compositeRule=!0;var F=e.validate(f);f.baseId=w,e.util.varOccurences(F,g)<2?t+=" "+e.util.varReplace(F,g,x)+" ":t+=" var "+g+" = "+x+"; "+F+" ",e.compositeRule=f.compositeRule=E,t+=" if (!"+d+") { for (var "+h+"=startErrs"+a+"; "+h+"<errors; "+h+"++) { vErrors["+h+"].propertyName = "+v+"; }   var err =   ",!1!==e.createErrors?(t+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { propertyName: '"+p+"' } ",!1!==e.opts.messages&&(t+=" , message: 'property name \\'"+p+"\\' is invalid' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(t+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),u&&(t+=" break; "),t+=" } }"}return u&&(t+="  if ("+c+" == errors) {"),t},required:function(e,r){var t=" ",a=e.level,i=e.dataLevel,n=e.schema[r],o=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,l="data"+(i||""),c="valid"+a,f=e.opts.$data&&n&&n.$data;f&&(t+=" var schema"+a+" = "+e.util.getData(n.$data,i,e.dataPathArr)+"; ");var d="schema"+a;if(!f)if(n.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var v=[],m=n;if(m)for(var h,p=-1,g=m.length-1;p<g;){h=m[p+=1];var y=e.schema.properties[h];y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))||(v[v.length]=h)}}else v=n;if(f||v.length){var b=e.errorPath,w=f||v.length>=e.opts.loopRequired,x=e.opts.ownProperties;if(u)if(t+=" var missing"+a+"; ",w){f||(t+=" var "+d+" = validate.schema"+o+"; ");var E="' + "+($="schema"+a+"["+(S="i"+a)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,$,e.opts.jsonPointers)),t+=" var "+c+" = true; ",f&&(t+=" if (schema"+a+" === undefined) "+c+" = true; else if (!Array.isArray(schema"+a+")) "+c+" = false; else {"),t+=" for (var "+S+" = 0; "+S+" < "+d+".length; "+S+"++) { "+c+" = "+l+"["+d+"["+S+"]] !== undefined ",x&&(t+=" &&   Object.prototype.hasOwnProperty.call("+l+", "+d+"["+S+"]) "),t+="; if (!"+c+") break; } ",f&&(t+="  }  "),(j=j||[]).push(t+="  if (!"+c+") {   "),t="",!1!==e.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(t+=" , message: '",t+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ";var F=t;t=j.pop(),t+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+F+"]); ":" validate.errors = ["+F+"]; return false; ":" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else{t+=" if ( ";var j,k=v;if(k)for(var S=-1,P=k.length-1;S<P;)C=k[S+=1],S&&(t+=" || "),t+=" ( ( "+(L=l+(_=e.util.getProperty(C)))+" === undefined ",x&&(t+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(C)+"') "),t+=") && (missing"+a+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:_)+") ) ";t+=") {  ",E="' + "+($="missing"+a)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,$,!0):b+" + "+$),(j=j||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(t+=" , message: '",t+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ",F=t,t=j.pop(),t+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+F+"]); ":" validate.errors = ["+F+"]; return false; ":" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else if(w){var $;f||(t+=" var "+d+" = validate.schema"+o+"; "),E="' + "+($="schema"+a+"["+(S="i"+a)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,$,e.opts.jsonPointers)),f&&(t+=" if ("+d+" && !Array.isArray("+d+")) {  var err =   ",!1!==e.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(t+=" , message: '",t+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+d+" !== undefined) { "),t+=" for (var "+S+" = 0; "+S+" < "+d+".length; "+S+"++) { if ("+l+"["+d+"["+S+"]] === undefined ",x&&(t+=" || ! Object.prototype.hasOwnProperty.call("+l+", "+d+"["+S+"]) "),t+=") {  var err =   ",!1!==e.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(t+=" , message: '",t+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(t+="  }  ")}else{var O=v;if(O)for(var C,A=-1,D=O.length-1;A<D;){C=O[A+=1];var _=e.util.getProperty(C),L=(E=e.util.escapeQuotes(C),l+_);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,C,e.opts.jsonPointers)),t+=" if ( "+L+" === undefined ",x&&(t+=" || ! Object.prototype.hasOwnProperty.call("+l+", '"+e.util.escapeQuotes(C)+"') "),t+=") {  var err =   ",!1!==e.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(s)+" , params: { missingProperty: '"+E+"' } ",!1!==e.opts.messages&&(t+=" , message: '",t+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+E+"\\'",t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+l+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else u&&(t+=" if (true) {");return t},uniqueItems:function(e,r){var t,a=" ",i=e.level,n=e.dataLevel,o=e.schema[r],s=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c="data"+(n||""),f="valid"+i,d=e.opts.$data&&o&&o.$data;if(d?(a+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",t="schema"+i):t=o,(o||d)&&!1!==e.opts.uniqueItems){d&&(a+=" var "+f+"; if ("+t+" === false || "+t+" === undefined) "+f+" = true; else if (typeof "+t+" != 'boolean') "+f+" = false; else { "),a+=" var i = "+c+".length , "+f+" = true , j; if (i > 1) { ";var v=e.schema.items&&e.schema.items.type,m=Array.isArray(v);!v||"object"==v||"array"==v||m&&(v.indexOf("object")>=0||v.indexOf("array")>=0)?a+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+c+"[i], "+c+"[j])) { "+f+" = false; break outer; } } } ":(a+=" var itemIndices = {}, item; for (;i--;) { var item = "+c+"[i]; ",a+=" if ("+e.util["checkDataType"+(m?"s":"")](v,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(a+=" if (typeof item == 'string') item = '\"' + item; "),a+=" if (typeof itemIndices[item] == 'number') { "+f+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),a+=" } ",d&&(a+="  }  ");var h=h||[];h.push(a+=" if (!"+f+") {   "),a="",!1!==e.createErrors?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+s:""+o,a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var p=a;a=h.pop(),a+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l&&(a+=" else { ")}else l&&(a+=" if (true) { ");return a},validate:bi},fn=cn,dn=Oa.toHash,vn=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],mn=hi.MissingRef,hn={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},pn=/^[a-z_$][a-z0-9_$-]*$/i,gn=function(e,r){var t,a,i=" ",n=e.level,o=e.dataLevel,s=e.schema[r],u=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,f="data"+(o||""),d="valid"+n,v="errs__"+n,m=e.opts.$data&&s&&s.$data;m?(i+=" var schema"+n+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",a="schema"+n):a=s;var h,p,g,y,b,w=this,x="definition"+n,E=w.definition,F="";if(m&&E.$data){var j=E.validateSchema;i+=" var "+x+" = RULES.custom['"+r+"'].definition; var "+(b="keywordValidate"+n)+" = "+x+".validate;"}else{if(!(y=e.useCustomRule(w,s,e.schema,e)))return;a="validate.schema"+u,b=y.code,h=E.compile,p=E.inline,g=E.macro}var k=b+".errors",S="i"+n,P="ruleErr"+n,$=E.async;if($&&!e.async)throw new Error("async keyword in sync schema");if(p||g||(i+=k+" = null;"),i+="var "+v+" = errors;var "+d+";",m&&E.$data&&(F+="}",i+=" if ("+a+" === undefined) { "+d+" = true; } else { ",j&&(F+="}",i+=" "+d+" = "+x+".validateSchema("+a+"); if ("+d+") { ")),p)i+=E.statements?" "+y.validate+" ":" "+d+" = "+y.validate+"; ";else if(g){var O=e.util.copy(e);F="",O.level++;var C="valid"+O.level;O.schema=y.validate,O.schemaPath="";var A=e.compositeRule;e.compositeRule=O.compositeRule=!0;var D=e.validate(O).replace(/validate\.schema/g,b);e.compositeRule=O.compositeRule=A,i+=" "+D}else{(z=z||[]).push(i),i="",i+="  "+b+".call( ",i+=e.opts.passContext?"this":"self",i+=h||!1===E.schema?" , "+f+" ":" , "+a+" , "+f+" , validate.schema"+e.schemaPath+" ",i+=" , (dataPath || '')",'""'!=e.errorPath&&(i+=" + "+e.errorPath);var _=o?"data"+(o-1||""):"parentData",L=o?e.dataPathArr[o]:"parentDataProperty",I=i+=" , "+_+" , "+L+" , rootData )  ";i=z.pop(),!1===E.errors?(i+=" "+d+" = ",$&&(i+="await "),i+=I+"; "):i+=$?" var "+(k="customErrors"+n)+" = null; try { "+d+" = await "+I+"; } catch (e) { "+d+" = false; if (e instanceof ValidationError) "+k+" = e.errors; else throw e; } ":" "+k+" = null; "+d+" = "+I+"; "}if(E.modifying&&(i+=" if ("+_+") "+f+" = "+_+"["+L+"];"),i+=""+F,E.valid)c&&(i+=" if (true) { ");else{var z;i+=" if ( ",void 0===E.valid?(i+=" !",i+=g?""+C:""+d):i+=" "+!E.valid+" ",t=w.keyword,(z=z||[]).push(i+=") { "),(z=z||[]).push(i=""),i="",!1!==e.createErrors?(i+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var T=i;i=z.pop();var q=i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+T+"]); ":" validate.errors = ["+T+"]; return false; ":" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";i=z.pop(),p?E.errors?"full"!=E.errors&&(i+="  for (var "+S+"="+v+"; "+S+"<errors; "+S+"++) { var "+P+" = vErrors["+S+"]; if ("+P+".dataPath === undefined) "+P+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+P+".schemaPath === undefined) { "+P+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(i+=" "+P+".schema = "+a+"; "+P+".data = "+f+"; "),i+=" } "):!1===E.errors?i+=" "+q+" ":(i+=" if ("+v+" == errors) { "+q+" } else {  for (var "+S+"="+v+"; "+S+"<errors; "+S+"++) { var "+P+" = vErrors["+S+"]; if ("+P+".dataPath === undefined) "+P+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+P+".schemaPath === undefined) { "+P+'.schemaPath = "'+l+'"; } ',e.opts.verbose&&(i+=" "+P+".schema = "+a+"; "+P+".data = "+f+"; "),i+=" } } "):g?(i+="   var err =   ",!1!==e.createErrors?(i+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { keyword: '"+w.keyword+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(i+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===E.errors?i+=" "+q+" ":(i+=" if (Array.isArray("+k+")) { if (vErrors === null) vErrors = "+k+"; else vErrors = vErrors.concat("+k+"); errors = vErrors.length;  for (var "+S+"="+v+"; "+S+"<errors; "+S+"++) { var "+P+" = vErrors["+S+"]; if ("+P+".dataPath === undefined) "+P+".dataPath = (dataPath || '') + "+e.errorPath+";  "+P+'.schemaPath = "'+l+'";  ',e.opts.verbose&&(i+=" "+P+".schema = "+a+"; "+P+".data = "+f+"; "),i+=" } } else { "+q+" } "),i+=" } ",c&&(i+=" else { ")}return i},yn={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:hn.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:hn.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},bn={add:function(e,r){var t=this.RULES;if(t.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!pn.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(r){this.validateKeyword(r,!0);var a=r.type;if(Array.isArray(a))for(var i=0;i<a.length;i++)o(e,a[i],r);else o(e,a,r);var n=r.metaSchema;n&&(r.$data&&this._opts.$data&&(n={anyOf:[n,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),r.validateSchema=this.compile(n,!0))}function o(e,r,a){for(var i,n=0;n<t.length;n++){var o=t[n];if(o.type==r){i=o;break}}i||t.push(i={type:r,rules:[]});var s={keyword:e,definition:a,custom:!0,code:gn,implements:a.implements};i.rules.push(s),t.custom[e]=s}return t.keywords[e]=t.all[e]=!0,this},get:function(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1},remove:function(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var a=r[t].rules,i=0;i<a.length;i++)if(a[i].keyword==e){a.splice(i,1);break}return this},validate:function e(r,t){e.errors=null;var a=this._validateKeyword=this._validateKeyword||this.compile(yn,!0);if(a(r))return!0;if(e.errors=a.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(a.errors));return!1}},wn={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},xn=function e(r,t,a,i){var n=this,o=this._opts,s=[void 0],u={},l=[],c={},f=[],d={},v=[],m=$i.call(this,r,t=t||{schema:r,refVal:s,refs:u},i),h=this._compilations[m.index];if(m.compiling)return h.callValidate=function e(){var r=h.validate,t=r.apply(this,arguments);return e.errors=r.errors,t};var p=this._formats,g=this.RULES;try{var y=w(r,t,a,i);h.validate=y;var b=h.callValidate;return b&&(b.schema=y.schema,b.errors=null,b.refs=y.refs,b.refVal=y.refVal,b.root=y.root,b.$async=y.$async,o.sourceCode&&(b.source=y.source)),y}finally{Oi.call(this,r,t,i)}function w(r,a,i,c){var d=!a||a&&a.schema==r;if(a.schema!=t.schema)return e.call(n,r,a,i,c);var m,h=!0===r.$async,y=ji({isTop:!0,schema:r,isRoot:d,baseId:c,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Ei.MissingRef,RULES:g,validate:ji,util:xi,resolve:wi,resolveRef:x,usePattern:j,useDefault:k,useCustomRule:S,opts:o,formats:p,logger:n.logger,self:n});y=Ii(s,_i)+Ii(l,Ai)+Ii(f,Di)+Ii(v,Li)+y,o.processCode&&(y=o.processCode(y,r));try{m=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",y)(n,g,p,t,s,f,v,Si,ki,Pi),s[0]=m}catch(e){throw n.logger.error("Error compiling schema, function code:",y),e}return m.schema=r,m.errors=null,m.refs=u,m.refVal=s,m.root=d?m:a,h&&(m.$async=!0),!0===o.sourceCode&&(m.source={code:y,patterns:l,defaults:f}),m}function x(r,i,l){i=wi.url(r,i);var c,f,d=u[i];if(void 0!==d)return F(c=s[d],f="refVal["+d+"]");if(!l&&t.refs){var v=t.refs[i];if(void 0!==v)return F(c=t.refVal[v],f=E(i,c))}f=E(i);var m=wi.call(n,w,t,i);if(void 0===m){var h=a&&a[i];h&&(m=wi.inlineRef(h,o.inlineRefs)?h:e.call(n,h,t,a,r))}if(void 0!==m)return function(e,r){s[u[e]]=r}(i,m),F(m,f);!function(e){delete u[e]}(i)}function E(e,r){var t=s.length;return s[t]=r,u[e]=t,"refVal"+t}function F(e,r){return"object"==typeof e||"boolean"==typeof e?{code:r,schema:e,inline:!0}:{code:r,$async:e&&!!e.$async}}function j(e){var r=c[e];return void 0===r&&(r=c[e]=l.length,l[r]=e),"pattern"+r}function k(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return xi.toQuotedString(e);case"object":if(null===e)return"null";var r=Fi(e),t=d[r];return void 0===t&&(t=d[r]=f.length,f[t]=e),"default"+t}}function S(e,r,t,a){if(!1!==n._opts.validateSchema){var i=e.definition.dependencies;if(i&&!i.every((function(e){return Object.prototype.hasOwnProperty.call(t,e)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var s=e.definition.validateSchema;if(s&&!s(r)){var u="keyword schema is invalid: "+n.errorsText(s.errors);if("log"!=n._opts.validateSchema)throw new Error(u);n.logger.error(u)}}var l,c=e.definition.compile,f=e.definition.inline,d=e.definition.macro;if(c)l=c.call(n,r,t,a);else if(d)l=d.call(n,r,t,a),!1!==o.validateSchema&&n.validateSchema(l,!0);else if(f)l=f.call(n,a,e.keyword,r,t);else if(!(l=e.definition.validate))return;if(void 0===l)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var m=v.length;return v[m]=l,{code:"customRule"+m,validate:l}}},En=Ya,Fn=qi,jn=Ua,kn=yi,Sn=Wi,Pn=function(e,r){for(var t=0;t<r.length;t++){e=JSON.parse(JSON.stringify(e));var a,i=r[t].split("/"),n=e;for(a=1;a<i.length;a++)n=n[i[a]];for(a=0;a<vn.length;a++){var o=vn[a],s=n[o];s&&(n[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},$n=Oa,On=zn;zn.prototype.validate=function(e,r){var t;if("string"==typeof e){if(!(t=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var a=this._addSchema(e);t=a.validate||this._compile(a)}var i=t(r);return!0!==t.$async&&(this.errors=t.errors),i},zn.prototype.compile=function(e,r){var t=this._addSchema(e,void 0,r);return t.validate||this._compile(t)},zn.prototype.addSchema=function(e,r,t,a){if(Array.isArray(e)){for(var i=0;i<e.length;i++)this.addSchema(e[i],void 0,t,a);return this}var n=this._getId(e);if(void 0!==n&&"string"!=typeof n)throw new Error("schema id must be string");return Mn(this,r=En.normalizeId(r||n)),this._schemas[r]=this._addSchema(e,t,a,!0),this},zn.prototype.addMetaSchema=function(e,r,t){return this.addSchema(e,r,t,!0),this},zn.prototype.validateSchema=function(e,r){var t=e.$schema;if(void 0!==t&&"string"!=typeof t)throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||function(e){var r=e._opts.meta;return e._opts.defaultMeta="object"==typeof r?e._getId(r)||r:e.getSchema(_n)?_n:void 0,e._opts.defaultMeta}(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(t,e);if(!a&&r){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return a},zn.prototype.getSchema=function(e){var r=Tn(this,e);switch(typeof r){case"object":return r.validate||this._compile(r);case"string":return this.getSchema(r);case"undefined":return function(e,r){var t=En.schema.call(e,{schema:{}},r);if(t){var a=t.schema,i=t.root,n=t.baseId,o=xn.call(e,a,i,void 0,n);return e._fragments[r]=new jn({ref:r,fragment:!0,schema:a,root:i,baseId:n,validate:o}),o}}(this,e)}},zn.prototype.removeSchema=function(e){if(e instanceof RegExp)return qn(this,this._schemas,e),qn(this,this._refs,e),this;switch(typeof e){case"undefined":return qn(this,this._schemas),qn(this,this._refs),this._cache.clear(),this;case"string":var r=Tn(this,e);return r&&this._cache.del(r.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var t=this._opts.serialize,a=t?t(e):e;this._cache.del(a);var i=this._getId(e);i&&(i=En.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this},zn.prototype.addFormat=function(e,r){return"string"==typeof r&&(r=new RegExp(r)),this._formats[e]=r,this},zn.prototype.errorsText=function(e,r){if(!(e=e||this.errors))return"No errors";for(var t=void 0===(r=r||{}).separator?", ":r.separator,a=void 0===r.dataVar?"data":r.dataVar,i="",n=0;n<e.length;n++){var o=e[n];o&&(i+=a+o.dataPath+" "+o.message+t)}return i.slice(0,-t.length)},zn.prototype._addSchema=function(e,r,t,a){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var i=this._opts.serialize,n=i?i(e):e,o=this._cache.get(n);if(o)return o;a=a||!1!==this._opts.addUsedSchema;var s=En.normalizeId(this._getId(e));s&&a&&Mn(this,s);var u,l=!1!==this._opts.validateSchema&&!r;l&&!(u=s&&s==En.normalizeId(e.$schema))&&this.validateSchema(e,!0);var c=En.ids.call(this,e),f=new jn({id:s,schema:e,localRefs:c,cacheKey:n,meta:t});return"#"!=s[0]&&a&&(this._refs[s]=f),this._cache.put(n,f),l&&u&&this.validateSchema(e,!0),f},zn.prototype._compile=function(e,r){if(e.compiling)return e.validate=i,i.schema=e.schema,i.errors=null,i.root=r||i,!0===e.schema.$async&&(i.$async=!0),i;var t,a;e.compiling=!0,e.meta&&(t=this._opts,this._opts=this._metaOpts);try{a=xn.call(this,e.schema,r,e.localRefs)}catch(r){throw delete e.validate,r}finally{e.compiling=!1,e.meta&&(this._opts=t)}return e.validate=a,e.refs=a.refs,e.refVal=a.refVal,e.root=a.root,a;function i(){var r=e.validate,t=r.apply(this,arguments);return i.errors=r.errors,t}},zn.prototype.compileAsync=function e(r,t,a){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(a=t,t=void 0);var n=o(r).then((function(){var e=i._addSchema(r,void 0,t);return e.validate||s(e)}));return a&&n.then((function(e){a(null,e)}),a),n;function o(r){var t=r.$schema;return t&&!i.getSchema(t)?e.call(i,{$ref:t},!0):Promise.resolve()}function s(e){try{return i._compile(e)}catch(r){if(r instanceof mn)return function(r){var a=r.missingSchema;if(l(a))throw new Error("Schema "+a+" is loaded but "+r.missingRef+" cannot be resolved");var n=i._loadingSchemas[a];return n||(n=i._loadingSchemas[a]=i._opts.loadSchema(a)).then(u,u),n.then((function(e){if(!l(a))return o(e).then((function(){l(a)||i.addSchema(e,a,void 0,t)}))})).then((function(){return s(e)}));function u(){delete i._loadingSchemas[a]}function l(e){return i._refs[e]||i._schemas[e]}}(r);throw r}}};var Cn=bn;zn.prototype.addKeyword=Cn.add,zn.prototype.getKeyword=Cn.get,zn.prototype.removeKeyword=Cn.remove,zn.prototype.validateKeyword=Cn.validate;var An=hi;zn.ValidationError=An.Validation,zn.MissingRefError=An.MissingRef,zn.$dataMetaSchema=Pn;var Dn,_n="http://json-schema.org/draft-07/schema",Ln=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],In=["/properties"];function zn(e){if(!(this instanceof zn))return new zn(e);e=this._opts=$n.copy(e)||{},function(e){var r=e._opts.logger;if(!1===r)e.logger={log:Vn,warn:Vn,error:Vn};else{if(void 0===r&&(r=console),!("object"==typeof r&&r.log&&r.warn&&r.error))throw new Error("logger must implement log, warn and error methods");e.logger=r}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=Sn(e.format),this._cache=e.cache||new Fn,this._loadingSchemas={},this._compilations=[],this.RULES=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"];return e.all=dn(r),e.types=dn(["number","integer","string","array","object","boolean","null"]),e.forEach((function(t){t.rules=t.rules.map((function(t){var a;if("object"==typeof t){var i=Object.keys(t)[0];a=t[i],t=i,a.forEach((function(t){r.push(t),e.all[t]=!0}))}return r.push(t),e.all[t]={keyword:t,code:fn[t],implements:a}})),e.all.$comment={keyword:"$comment",code:fn.$comment},t.type&&(e.types[t.type]=t)})),e.keywords=dn(r.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}(),this._getId=function(e){switch(e.schemaId){case"auto":return Rn;case"id":return Nn;default:return Bn}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=kn),this._metaOpts=function(e){for(var r=$n.copy(e._opts),t=0;t<Ln.length;t++)delete r[Ln[t]];return r}(this),e.formats&&function(e){for(var r in e._opts.formats)e.addFormat(r,e._opts.formats[r])}(this),e.keywords&&function(e){for(var r in e._opts.keywords)e.addKeyword(r,e._opts.keywords[r])}(this),function(e){var r;if(e._opts.$data&&e.addMetaSchema(r=wn,r.$id,!0),!1!==e._opts.meta){var t=hn;e._opts.$data&&(t=Pn(t,In)),e.addMetaSchema(t,_n,!0),e._refs["http://json-schema.org/schema"]=_n}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var r=e._opts.schemas;if(r)if(Array.isArray(r))e.addSchema(r);else for(var t in r)e.addSchema(r[t],t)}(this)}function Tn(e,r){return r=En.normalizeId(r),e._schemas[r]||e._refs[r]||e._fragments[r]}function qn(e,r,t){for(var a in r){var i=r[a];i.meta||t&&!t.test(a)||(e._cache.del(i.cacheKey),delete r[a])}}function Nn(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function Bn(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function Rn(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function Mn(e,r){if(e._schemas[r]||e._refs[r])throw new Error('schema with key or id "'+r+'" already exists')}function Vn(){}function Un(e,r){let t=0;if(e!==r){const a=e.split("."),i=r.split(".");for(let e=0;e<a.length;e+=1){const r=Number.parseInt(a[e],10),n=Number.parseInt(i[e],10);if(r>n||Number.isNaN(n)){t=1;break}if(r<n){t=-1;break}}}return t}function Hn(e){let r=i,t=[];var a;if(void 0!==(a=e)&&/^([1-9]\d*|0)(\.(([1-9]\d*)|0)){2}$/u.test(a)&&void 0!==e){ka.sort(Un);const a=Un(e,ka[ka.length-1]);if(1===a?r=n:-1===a&&(r="older"),r===n||r===i)t.push(e);else{for(let r=ka.length-2;r>=0;r-=1)if(Un(e,ka[r])>=0){t=ka.slice(r,ka.length);break}0===t.length&&t.push("1.0.0")}}else r="unrecognized",t.push("unrecognized.version");return{versionStatus:r,versions:t}}async function Gn(e,r){if(void 0!==r?.series)for(let t=0;t<r.series.length;t+=1){const a=r.series[t].type;if(!e.includes(a)){const r=await xa(),i=_r(r.invalidSeriesType,{receivedType:a,seriesIndex:`${t}`,expectedType:e.join(` ${r.or} `)});console.error(i)}}}function Jn(e){return e&&"iLayer"in e&&e.iLayer}new(Gr(On))({allErrors:!0}),function(e){e.NONE="none",e.ROTATE="rotate",e.STAGGER="stagger",e.WRAP="wrap"}(Dn||(Dn={}));const Kn={MonoSelection:"monoSelection",MultiSelection:"multiSelection",MultiSelectionWithCtrlKey:"multiSelectionWithCtrlKey",Zoom:"zoom",None:"none"},Qn={FilterBySelection:"filterBySelection",FilterByExtent:"filterByExtent",Legend:"legend",RotateChart:"rotateChart",Selection:"selection",ClearSelection:"clearSelection",SwitchSelection:"switchSelection",Zoom:"zoom",FullExtent:"fullExtent",Configure:"configure"},Zn={Active:"active",Inactive:"inactive"},Wn={Enabled:"enabled",Disabled:"disabled"},Xn={Ignore:"ignore",Throw:"throw"},Yn={Ignore:"ignore",Refresh:"refresh"},eo=Yn,ro=Yn,to={actionBar:"action-bar",customActionTop:"custom-action-top",customActionBelow:"custom-action-below",expandTooltip:"expand-tooltip"},ao={Chart:"chart",Text:"chartText",Overlay:"chartOverlay",Overlays:"chartOverlays",Legend:"chartLegend",CursorCrosshair:"cursorCrosshair",Axis:"chartAxis",GaugeAxisTick:"gaugeAxisTick",GaugeNeedle:"gaugeNeedle",CategoryAxisFormat:"category",NumberAxisFormat:"number",DateAxisFormat:"date",Guide:"chartGuide",ScatterSeries:"scatterSeries",PieSeries:"pieSeries",PieTick:"pieTick",GaugeSeries:"gaugeSeries",LineSeries:"lineSeries",BarSeries:"barSeries",HistogramSeries:"histogramSeries",BoxPlotSeries:"boxPlotSeries",RadarSeries:"radarSeries",ProbabilityPlotSeries:"probabilityPlotSeries",ProfileGraphSeries:"profileGraphSeries",ComboLineAndBarSeries:"comboLineAndBarSeries",Buffer:"buffer",SizePolicy:"sizeScale"},io={Same:"same",Newer:"newer",Older:"older",Unrecognized:"unrecognized"};function no(e,r){const t=document.createElement("calcite-tooltip");return t.innerHTML=e,t.style.setProperty("opacity","1"),void 0!==r&&(t.referenceElement=r),document.body.appendChild(t),t}function oo(e){return e?.remove(),null}const so=e=>{const r=e.detail,t=e.target,a=t.parentElement;if(null!==a)switch(r.actionId){case Qn.FullExtent:a.resetZoom();break;case Qn.RotateChart:a.rotation=r.actionActive;break;case Qn.ClearSelection:a.clearSelection();break;case Qn.Legend:a.legendVisibility=r.actionActive;break;case Qn.Selection:a.actionMode=t.actionBarSelectionMode;break;case Qn.Zoom:a.actionMode=Kn.Zoom;break;case Qn.SwitchSelection:a.switchSelection();break;case Qn.FilterBySelection:a.filterBySelection=r.actionActive}},uo=(e,r,t)=>{const a=e.target;a.removeEventListener("arcgisDefaultActionSelect",so),a.addEventListener("arcgisDefaultActionSelect",so);const i=a.assignedNodes().find((e=>"actionBarHideActionsProps"in e));if(void 0!==i){const e=[ao.PieSeries,ao.GaugeSeries],a=[ao.PieSeries,ao.GaugeSeries];i.actionBarHideActionsProps={hideRotateChart:[ao.HistogramSeries,ao.ScatterSeries,ao.PieSeries,ao.GaugeSeries].includes(r),hideZoom:e.includes(r),hideFullExtent:a.includes(r),hideLegend:r===ao.GaugeSeries,hideFilterBySelection:r===ao.GaugeSeries,hideClearSelection:r===ao.GaugeSeries,hideSwitchSelection:r===ao.GaugeSeries,hideSelection:r===ao.GaugeSeries,...i.actionBarHideActionsProps};const n=i.parentElement;i.legendToggle=n.legendVisibility??(t?.legend&&(t.legend.visible??1))?Zn.Active:Zn.Inactive,i.filterBySelectionToggle=!0===n.filterBySelection?Zn.Active:Zn.Inactive,"rotation"in n&&(i.rotateChartToggle=!0===(n.rotation??t?.rotated)?Zn.Active:Zn.Inactive)}};export{eo as $,Zn as A,Qn as E,Jn as H,ca as J,_r as K,aa as L,Wn as M,ro as O,Hn as P,la as Q,to as S,ao as W,fa as Z,Kn as _,qr as a,ba as b,no as c,oo as d,io as e,Yt as f,pa as g,va as h,ga as i,ja as j,Xn as k,Xt as l,ma as m,ea as n,uo as o,da as p,Nr as s,Tr as t,Gn as z}