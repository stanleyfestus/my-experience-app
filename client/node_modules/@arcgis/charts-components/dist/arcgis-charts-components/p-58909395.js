/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v4.31.0-next.103
 */
import{r as i,c as t,h as s,H as h,g as e,a}from"./p-8f7a834a.js";import{E as c,A as o,d as l,c as n,M as d,_ as r,S as u,a as v}from"./p-6025fffb.js";const b=class{constructor(s){i(this,s),this.arcgisDefaultActionSelect=t(this,"arcgisDefaultActionSelect",7),this.arcgisActionBarToggle=t(this,"arcgisActionBarToggle",7),this.expandAction=null,this.handleDefaultActionClick=i=>{const t=i.target,s={actionId:t.id,actionActive:!1};switch(t.id){case c.Legend:this.legendToggle=this.legendToggle===o.Active?o.Inactive:o.Active,s.actionActive=this.legendToggle===o.Active;break;case c.RotateChart:this.rotateChartToggle=this.rotateChartToggle===o.Active?o.Inactive:o.Active,s.actionActive=this.rotateChartToggle===o.Active;break;case c.FilterBySelection:this.filterBySelectionToggle=this.filterBySelectionToggle===o.Active?o.Inactive:o.Active,s.actionActive=this.filterBySelectionToggle===o.Active;break;case c.FilterByExtent:this.filterByExtentToggle=this.filterByExtentToggle===o.Active?o.Inactive:o.Active,s.actionActive=this.filterByExtentToggle===o.Active;break;case c.Selection:this.selectionToggle=o.Active,this.zoomToggle=o.Inactive,s.actionActive=this.selectionToggle===o.Active;break;case c.Zoom:this.zoomToggle=o.Active,this.selectionToggle=o.Inactive,s.actionActive=this.zoomToggle===o.Active;break;case c.ClearSelection:s.actionActive=this.clearSelectionToggle===o.Active}this.arcgisDefaultActionSelect.emit(s)},this.handleCalciteActionBarToggle=()=>{this.expanded=this.calciteActionBar.expanded,this.setCustomActionsExpanded(),this.arcgisActionBarToggle.emit(this.expanded)},this.handleMouseOver=i=>{if(this.calciteActionBar.expanded)this.actionTooltip=l(this.actionTooltip);else{const t=i.target;let s;void 0!==this.actionTooltip&&(this.actionTooltip=l(this.actionTooltip)),"CALCITE-ACTION"===t?.tagName?s=t:"DIV"===t?.tagName&&(s=t.firstChild),void 0!==s&&(this.actionTooltip=n(s.text,s),this.actionTooltip.open=!0)}},this.handleMouseOut=()=>{null!==this.actionTooltip&&(this.actionTooltip=l(this.actionTooltip))},this.handleSlotChange=i=>{const t=i.target.assignedElements();for(const i of t)i.onmouseover=this.handleMouseOver},this.forceDisableActions=!1,this.legendToggle=o.Inactive,this.legendState=d.Enabled,this.legendTitle=void 0,this.rotateChartToggle=o.Inactive,this.rotateChartState=d.Enabled,this.rotateChartTitle=void 0,this.filterBySelectionToggle=o.Inactive,this.filterBySelectionState=d.Enabled,this.filterBySelectionTitle=void 0,this.filterByExtentToggle=o.Inactive,this.filterByExtentState=d.Enabled,this.filterByExtentTitle=void 0,this.actionBarSelectionMode=r.MultiSelectionWithCtrlKey,this.selectionToggle=o.Inactive,this.selectionState=d.Enabled,this.selectionTitle=void 0,this.zoomToggle=o.Inactive,this.zoomState=d.Enabled,this.zoomTitle=void 0,this.fullExtentToggle=o.Inactive,this.fullExtentState=d.Enabled,this.fullExtentTitle=void 0,this.clearSelectionToggle=o.Inactive,this.clearSelectionState=d.Enabled,this.clearSelectionTitle=void 0,this.switchSelectionToggle=o.Inactive,this.switchSelectionState=d.Enabled,this.switchSelectionTitle=void 0,this.expanded=!1,this.actionBarHideActionsProps=void 0,this.actionTooltip=null}renderDefaultActions(){return[!0!==this.actionBarHideActionsProps?.hideLegend||!0!==this.actionBarHideActionsProps?.hideRotateChart?s("calcite-action-group",null,!0!==this.actionBarHideActionsProps?.hideLegend?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:c.Legend,text:this.legendTitle??this.strings?.legend,active:this.legendToggle===o.Active,disabled:this.legendState===d.Disabled||this.forceDisableActions,onClick:this.handleDefaultActionClick},s("calcite-icon",{icon:"legend",scale:"s",flipRtl:!0}))):null,!0!==this.actionBarHideActionsProps?.hideRotateChart?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:c.RotateChart,icon:"rotate",text:this.rotateChartTitle??this.strings?.rotateChart,active:this.rotateChartToggle===o.Active,disabled:this.rotateChartState===d.Disabled||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null):null,!0!==this.actionBarHideActionsProps?.hideFilterBySelection||!0!==this.actionBarHideActionsProps?.hideFilterByExtent?s("calcite-action-group",null,!0!==this.actionBarHideActionsProps?.hideFilterBySelection?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:c.FilterBySelection,icon:"selection-filter",text:this.filterBySelectionTitle??this.strings?.filterBySelection,active:this.filterBySelectionToggle===o.Active,disabled:this.filterBySelectionState===d.Disabled||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null,!0!==this.actionBarHideActionsProps?.hideFilterByExtent?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:c.FilterByExtent,icon:"extent-filter",text:this.filterByExtentTitle??this.strings?.filterByExtent,active:this.filterByExtentToggle===o.Active,disabled:this.filterByExtentState===d.Disabled||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null):null,!0!==this.actionBarHideActionsProps?.hideSelection||!0!==this.actionBarHideActionsProps?.hideZoom||!0!==this.actionBarHideActionsProps?.hideFullExtent||!0!==this.actionBarHideActionsProps?.hideClearSelection||!0!==this.actionBarHideActionsProps?.hideSwitchSelection?s("calcite-action-group",null,!0!==this.actionBarHideActionsProps?.hideZoom?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:c.Zoom,icon:"magnifying-glass",text:this.zoomTitle??this.strings?.zoom,active:this.zoomToggle===o.Active,disabled:this.zoomState===d.Disabled||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null,!0!==this.actionBarHideActionsProps?.hideSelection?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:c.Selection,icon:"cursor-selection",text:this.selectionTitle??this.strings?.selection,active:this.selectionToggle===o.Active,disabled:this.selectionState===d.Disabled||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null,!0!==this.actionBarHideActionsProps?.hideClearSelection?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:c.ClearSelection,icon:"erase",text:this.clearSelectionTitle??this.strings?.clearSelection,active:this.clearSelectionToggle===o.Active,disabled:this.clearSelectionState===d.Disabled||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null,!0!==this.actionBarHideActionsProps?.hideFullExtent?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:c.FullExtent,icon:"zoom-out-fixed",text:this.fullExtentTitle??this.strings?.fullExtent,active:this.fullExtentToggle===o.Active,disabled:this.fullExtentState===d.Disabled||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null,!0!==this.actionBarHideActionsProps?.hideSwitchSelection?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:c.SwitchSelection,icon:"arrow-right-left",text:this.switchSelectionTitle??this.strings?.switchSelection,active:this.switchSelectionToggle===o.Active,disabled:this.switchSelectionState===d.Disabled||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null):null]}setCustomActionsExpanded(){this.el.querySelectorAll("calcite-action").forEach((i=>{i.textEnabled=this.expanded}))}render(){return s(h,{key:"5eac9a282709696d507ba41b3ea165a47579a6f8"},s("calcite-action-bar",{key:"b974ddb840a9437c215e19624b1fc88bdbeb857a",class:"action-bar",onCalciteActionBarToggle:this.handleCalciteActionBarToggle,onMouseOut:this.handleMouseOut,expanded:this.expanded,ref:i=>{this.calciteActionBar=i,this.calciteActionBar.expandDisabled=this.actionBarHideActionsProps?.hideExpandAction??!1},messageOverrides:{expand:this.strings.expand,collapse:this.strings.collapse},"overflow-actions-disabled":!0},s("slot",{key:"dc85d140a8db820a7111fa94ec909ce7f2011d62",name:u.customActionTop,onSlotchange:this.handleSlotChange}),this.renderDefaultActions(),s("slot",{key:"c34bbbe4fee48ff35164dbf13366f1e5c8ac3879",name:u.customActionBelow,onSlotchange:this.handleSlotChange})))}async componentWillLoad(){({strings:this.strings}=await v(this.el,e("."),!0))}componentDidRender(){this.handleExpandTooltip()}disconnectedCallback(){this.actionTooltip?.remove()}handleExpandTooltip(){null===this.expandAction&&(this.expandAction=this.calciteActionBar.shadowRoot?.querySelector("calcite-action")??null,null!==this.expandAction&&(this.expandAction.addEventListener("mouseenter",(()=>{this.calciteActionBar?.expanded||null===this.expandAction||document.body.contains(this.actionTooltip)||(this.actionTooltip=n(this.strings.expand,this.expandAction),this.actionTooltip.open=!0)})),this.expandAction.addEventListener("mouseleave",(()=>{this.calciteActionBar?.expanded||null===this.actionTooltip||(this.actionTooltip=l(this.actionTooltip))})),this.expandAction.addEventListener("click",(()=>{this.calciteActionBar?.expanded&&null!==this.actionTooltip&&(this.actionTooltip=l(this.actionTooltip))}))))}static get assetsDirs(){return["assets"]}get el(){return a(this)}};b.style=".action-bar{display:flex;flex-direction:column;height:100%;border-right:1px solid var(--calcite-color-border-2);overflow-x:hidden}";export{b as A}