/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.58
 */
'use strict';

const index = require('./index-87ff723d.js');

/** @deprecated Use useWidget or useViewModel instead */
function onDisconnectedHelper(element) {
    if (element.el.childElem) {
        if (!element.el.isConnected) {
            if (element.view?.ui) {
                element.view.ui.remove(element.el.childElem);
            }
            else if (element.widget?.view) {
                element.widget.view.ui.remove(element.el.childElem);
            }
            if (element._watchHandles) {
                element._watchHandles.forEach((handle) => {
                    handle.remove();
                });
            }
            element._watchHandles = [];
            element.widget?.destroy();
        }
    }
    else {
        index.devToolsAwareTimeout(() => {
            if (!element.el.isConnected) {
                if (element.view?.ui) {
                    element.view.ui.remove(element.el);
                }
                else if (element.widget?.view) {
                    element.widget.view.ui.remove(element.el);
                }
                if (element._watchHandles) {
                    element._watchHandles.forEach((handle) => {
                        handle.remove();
                    });
                }
                element._watchHandles = [];
                element.widget?.destroy();
            }
        }, 1000);
    }
}

exports.onDisconnectedHelper = onDisconnectedHelper;
