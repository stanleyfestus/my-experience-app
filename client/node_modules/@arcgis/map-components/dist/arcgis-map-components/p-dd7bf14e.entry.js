/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.58
 */
import{r as a,c as s,h as t,g as e}from"./p-8305d662.js";import{g as i}from"./p-41348fc4.js";import{u as c,m as l}from"./p-79d1b680.js";import{p as r,q as d,r as o}from"./p-3c121fb0.js";import{l as n,u as h}from"./p-c956d5f4.js";import{u as m}from"./p-5bfa67be.js";import"./p-cf4815f5.js";const b="esri-basemap-toggle",p="esri-basemap-thumbnail",g={base:b,secondaryBasemapImage:`${b}__image--secondary`,container:`${p} ${b}__container`,image:`${p}__image ${b}__image`,imageLoading:`${b}__image--loading`,overlay:`${p}__overlay ${b}__image-overlay`,title:`${p}__title ${b}__title`,overlayScrim:`${p}__overlay-scrim`},f=l(o),u=class{constructor(t){a(this,t),this.arcgisPropertyChange=s(this,"arcgisPropertyChange",7),this.arcgisReady=s(this,"arcgisReady",7),this.manager=m(this),this.messages=c(),this.basemapUtils=n(r),this.viewModel=f(this),this.arcgisPropertyChange=h()("nextBasemap","state"),this.activeBasemap=this.viewModel.activeBasemap,this.autoDestroyDisabled=!1,this.icon="layer-basemap",this.label=void 0,this.messageOverrides=void 0,this.nextBasemap=this.viewModel.nextBasemap,this.position="top-left",this.referenceElement=void 0,this.showTitle=!1,this.state=this.viewModel.state}async toggle(){return await this.viewModel.toggle()}async destroy(){await this.manager.destroy()}render(){const a=this.viewModel,s="disabled"===a.state?null:a.activeBasemap,e="disabled"===a.state?null:a.nextBasemap,c="loading"===a.state,l="incompatible-next-basemap"===a.state,r=e?.title??"",o=e&&"loaded"!==e.loadStatus;let n;const h=this.showTitle&&r,m=l,b=h||m,p=this._getThumbnailStyles(s),f=this._getThumbnailStyles(e);return b&&(n=t("div",{key:"d7f281c2a7df20e2b362b6dbeab9646c88e9a8da",class:g.overlay},h?t("span",{class:g.title,title:r},r):null,m?t("calcite-scrim",{class:g.overlayScrim,title:this.messages.incompatibleSpatialReference},t("calcite-icon",{icon:"exclamation-mark-triangle"})):null)),t("div",{key:"9e5edf9c8688c70a72b42962589a12768b9a7c32",class:d(g.base,i.widget)},t("calcite-button",{key:"1c0f75cadd134cfcd93d12687b7a0e8f70bf7898",appearance:"transparent","data-basemap-id":e?e.id:"",disabled:l,kind:"neutral",label:this.label??void 0,onClick:()=>{this.toggle()},title:this.label??void 0},t("div",{key:"d01480d263946bcc713c7000a999f80a916febd7",class:d(g.container,g.secondaryBasemapImage)},t("div",{key:"08346645943526f40049749f3002cdf0347426b6",class:g.image,style:p})),t("div",{key:"915c11c5f2899294cc6f4c8161bd82037666de03",class:g.container},t("div",{key:"aee86dfaef1d22a57e25197397ed1c6b02032767",class:d(g.image,o?g.imageLoading:null),style:f},o||c?t("calcite-scrim",null,t("span",{"aria-hidden":"true",class:i.loaderAnimation,role:"presentation"})):null),n)))}_getThumbnailStyles(a){const s=this.basemapUtils.getBasemapThumbnailUrl(a);return s?{backgroundImage:`url(${s})`}:{backgroundImage:""}}static get assetsDirs(){return["assets"]}get el(){return e(this)}};export{u as arcgis_basemap_toggle}