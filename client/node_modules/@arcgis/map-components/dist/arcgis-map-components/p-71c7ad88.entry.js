/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.58
 */
import{r as t,c as s,g as i}from"./p-8305d662.js";import{A as h,B as o}from"./p-3c121fb0.js";import{i as r}from"./p-cf4815f5.js";import{u as a}from"./p-c956d5f4.js";import{m as e}from"./p-aa7aea37.js";import{u as n,g as c}from"./p-5bfa67be.js";const m=e(o),d="map-components:arcgis-directions",p=class{constructor(i){t(this,i),this.arcgisReady=s(this,"arcgisReady",7),this.arcgisPropertyChange=s(this,"arcgisPropertyChange",7),this.manager=n(this),this.widget=m(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=a()("lastRoute","state"),this.autoDestroyDisabled=!1,this.referenceElement=void 0,this.apiKey=this.widget.apiKey,this.icon=this.widget.icon,this.label=this.widget.label,this.routeLayerItemId=c(void 0,{set:t=>(r(t)&&!this.useDefaultRouteLayer?(this.widget.view?.map.remove(this.layer),this._setDefaultLayer()):t&&this.widget&&h({portalItem:{id:t}}).then((t=>{this.layer=t,this.widget.view?.map.add(this.layer)})).catch(console.error),t)}),this.lastRoute=this.widget.lastRoute,this.layer=this.widget.layer,this.headingLevel=this.widget.headingLevel,this.maxStops=this.widget.maxStops,this.searchProperties=this.widget.searchProperties,this.unit=this.widget.unit,this.useDefaultRouteLayer=c(!1,{set:t=>(this._setDefaultLayer(),t)}),this.hideLayerDetails=this.widget.visibleElements.layerDetails,this.hideSaveAsButton=this.widget.visibleElements.saveAsButton,this.hideSaveButton=this.widget.visibleElements.saveButton,this.position="bottom-left",this.state=this.viewModel.state}componentDidLoad(){this._setDefaultLayer()}_setDefaultLayer(){this.useDefaultRouteLayer&&!this.routeLayerItemId&&h({}).then((t=>{this.layer=t,this.widget.view?.map.add(this.layer)})).catch(console.error)}async destroy(){await this.manager.destroy()}async getDirections(){if("ready"!==this.widget?.viewModel?.state)throw new Error(`${d} - component not ready to get directions`);return await(this.widget?.getDirections())}async save(){if("ready"!==this.widget?.viewModel?.state)throw new Error(`${d} - component not ready to save directions`);return await(this.widget?.save())}async saveAs(t,s){if("ready"!==this.widget?.viewModel?.state)throw new Error(`${d} - component not ready to save directions as a Portal Item`);return await(this.widget?.saveAs(t,s))}async zoomToRoute(){if("ready"!==this.widget?.viewModel?.state)throw new Error(`${d} - component not ready to zoom to route`);this.widget?.zoomToRoute()}get el(){return i(this)}};p.style="";export{p as arcgis_directions}