/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{_ as r}from"../../chunks/tslib.es6.js";import"../../geometry.js";import e from"../../Graphic.js";import{property as t}from"../../core/accessorSupport/decorators/property.js";import"../../core/has.js";import"../../core/Logger.js";import"../../core/RandomLCG.js";import{reader as o}from"../../core/accessorSupport/decorators/reader.js";import{subclass as s}from"../../core/accessorSupport/decorators/subclass.js";import p from"./DirectionsEvent.js";import n from"./DirectionsString.js";import i from"../../geometry/Polyline.js";function m(r){if(null==r||""===r)return null;let e=0,t=0,o=0,s=0;const p=[];let n,i,m,c,a,l,u,y,d=0,f=0,h=0;if(a=r.match(/((\+|-)[^+\-|]+|\|)/g),a||(a=[]),0===parseInt(a[d],32)){d=2;const r=parseInt(a[d],32);d++,l=parseInt(a[d],32),d++,1&r&&(f=a.indexOf("|")+1,u=parseInt(a[f],32),f++),2&r&&(h=a.indexOf("|",f)+1,y=parseInt(a[h],32),h++)}else l=parseInt(a[d],32),d++;for(;d<a.length&&"|"!==a[d];){n=parseInt(a[d],32)+e,d++,e=n,i=parseInt(a[d],32)+t,d++,t=i;const r=[n/l,i/l];f&&(c=parseInt(a[f],32)+o,f++,o=c,r.push(c/u)),h&&(m=parseInt(a[h],32)+s,h++,s=m,r.push(m/y)),p.push(r)}return{paths:[p],hasZ:f>0,hasM:h>0}}let c=class extends e{constructor(r){super(r),this.events=null,this.geometry=null,this.strings=null}readGeometry(r,e){const t=m(e.compressedGeometry);return null!=t?i.fromJSON(t):null}};r([t({type:[p]})],c.prototype,"events",void 0),r([t({type:i})],c.prototype,"geometry",void 0),r([o("geometry",["compressedGeometry"])],c.prototype,"readGeometry",null),r([t({type:[n]})],c.prototype,"strings",void 0),c=r([s("esri.rest.support.DirectionsFeature")],c);const a=c;export{a as default};
