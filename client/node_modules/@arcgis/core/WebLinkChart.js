/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{_ as r}from"./chunks/tslib.es6.js";import t from"./WebDocument2D.js";import e from"./core/Error.js";import{watch as o}from"./core/reactiveUtils.js";import{property as i}from"./core/accessorSupport/decorators/property.js";import"./core/has.js";import"./core/Logger.js";import"./core/RandomLCG.js";import{subclass as s}from"./core/accessorSupport/decorators/subclass.js";import{OriginId as a}from"./core/accessorSupport/PropertyOrigin.js";import{layoutMap as n}from"./linkChart/enums.js";import p from"./linkChart/LinkChartProperties.js";import c from"./webmap/InitialViewProperties.js";import{currentVersion as m}from"./webmap/utils.js";import{Version as l}from"./webmap/Version.js";var h;const u={currentVersion:m,createInitialViewProperties:()=>new c,parseVersion:l.parse,itemType:"Web Link Chart",name:"linkchart",origin:"link-chart"};let y=h=class extends t{constructor(r){super(r),this.mapType="webLinkChart",this.linkChartProperties=new p}initialize(){this.addHandles(o((()=>this.linkChartProperties.layoutType),(async r=>{if(this.linkChartProperties.originIdOf("layoutType")!==a.LINK_CHART&&n.has(r)){const t=n.get(r);await(this.activeLinkChartLayer?.applyNewLinkChartLayout(t))}})))}get activeLinkChartLayer(){return this.layers.find((({type:r})=>"link-chart"===r))}get context(){return u}static fromJSON(r){if(r)return new h({resourceInfo:r});throw new e("linkchart:empty-resource","Expected a JSON resource but got nothing")}};r([i({readOnly:!0})],y.prototype,"activeLinkChartLayer",null),r([i({json:{write:!0}})],y.prototype,"mapType",void 0),r([i({type:p,nonNullable:!0,json:{write:!0}})],y.prototype,"linkChartProperties",void 0),y=h=r([s("esri.WebLinkChart")],y);const f=y;export{f as default};
