/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{_ as e}from"../../chunks/tslib.es6.js";import r from"../../PopupTemplate.js";import"../../renderers/ClassBreaksRenderer.js";import"../../renderers/DictionaryRenderer.js";import"../../renderers/DotDensityRenderer.js";import"../../renderers/HeatmapRenderer.js";import"../../renderers/PieChartRenderer.js";import"../../renderers/Renderer.js";import"../../renderers/SimpleRenderer.js";import"../../renderers/UniqueValueRenderer.js";import{read as o}from"../../renderers/support/jsonUtils.js";import{rendererTypes as t}from"../../renderers/support/types.js";import{clone as s}from"../../core/lang.js";import{setDeepValue as i}from"../../core/object.js";import{toPt as p}from"../../core/screenUtils.js";import{property as n}from"../../core/accessorSupport/decorators/property.js";import{ensureNumber as a}from"../../core/accessorSupport/ensureType.js";import{enumeration as l}from"../../core/accessorSupport/decorators/enumeration.js";import{reader as d}from"../../core/accessorSupport/decorators/reader.js";import{subclass as m}from"../../core/accessorSupport/decorators/subclass.js";import{writer as c}from"../../core/accessorSupport/decorators/writer.js";import u from"./AggregateField.js";import{labelsVisible as f,popupEnabled as y}from"./commonProperties.js";import{createDefaultRenderer as j}from"./featureLayerUtils.js";import{FeatureReduction as b}from"./FeatureReduction.js";import h from"./LabelClass.js";var g;let v=g=class extends b{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=p("12px"),this.fields=[],this.renderer=null}writeFields(e,r,o){const t=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));i(o,t,r)}readRenderer(e,r,t){const s=r.drawingInfo?.renderer;return s?o(s,r,t)??void 0:j(r,t)}clone(){return new g({fields:s(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:s(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:s(this.popupTemplate),renderer:s(this.renderer),binType:s(this.binType),size:this.size})}};e([l({binning:"binning"})],v.prototype,"type",void 0),e([l({geohash:"geohash",square:"square"}),n({type:["geohash","square"]})],v.prototype,"binType",void 0),e([n({type:Number,json:{write:!0}})],v.prototype,"fixedBinLevel",void 0),e([n({type:[h],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],v.prototype,"labelingInfo",void 0),e([n(f)],v.prototype,"labelsVisible",void 0),e([n({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],v.prototype,"maxScale",void 0),e([n(y)],v.prototype,"popupEnabled",void 0),e([n({type:r,json:{name:"popupInfo",write:!0}})],v.prototype,"popupTemplate",void 0),e([n({cast:e=>"auto"===e?e:a(p(e))})],v.prototype,"size",void 0),e([n({type:[u],json:{write:!0}})],v.prototype,"fields",void 0),e([c("fields")],v.prototype,"writeFields",null),e([n({types:t,json:{write:{target:"drawingInfo.renderer"}}})],v.prototype,"renderer",void 0),e([d("renderer",["drawingInfo.renderer"])],v.prototype,"readRenderer",null),v=g=e([m("esri.layers.support.FeatureReductionBinning")],v);const w=v;export{w as default};
