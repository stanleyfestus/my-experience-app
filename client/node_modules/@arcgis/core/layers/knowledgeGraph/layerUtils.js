/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{fetchClientDataAtKeys as e}from"../../rest/knowledgeGraphService.js";const a="ESRI__ID",t="ESRI__OriginID",r="ESRI__DestID",n="ESRI__LayoutGeometry",o="ESRI__AggregationCount",s="LC.ESRI__IsSpatial",i={initializeLayersFromClientData:async(a,t)=>{if(t||(t=[...a.layers,...a.tables].map((e=>e.graphTypeName))),0===t?.length)return;const r=new Map;for(const e of t)r.set(e,l(a,e));const n=await e(a.dataManager.knowledgeGraph,Array.from(r.values()));for(const e of[...a.layers,...a.tables]){const t=e.objectType.name;if(null===t)continue;const r=n.get(l(a,t));if(r){const a=JSON.parse(r);null===a||"object"!=typeof a||a.hasOwnProperty("showLabels")||(a.showLabels=!1),e.read(a,{origin:"service"})}}}},l=(e,a)=>"knowledge-graph"===e.type?`${a}/Map`:`${a}/LinkChart/LinkChartSubLayer`;async function c(e,a){return i.initializeLayersFromClientData(e,a)}export{c as initializeLayersFromClientData,i as layerUtils,o as systemAggregationCountFieldName,r as systemDestinationIdFieldName,s as systemIsSpatialFieldName,n as systemLayoutGeometryFieldName,a as systemOidFieldName,t as systemOriginIdFieldName};
