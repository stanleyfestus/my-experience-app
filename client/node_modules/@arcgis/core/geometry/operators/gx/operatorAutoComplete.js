/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{G as e,S as t}from"../../../chunks/SimpleGeometryCursor.js";import{F as r,t as s,j as n,n as o,h as u,aA as m}from"../../../chunks/QuadraticBezier.js";import{G as i,l}from"../../../chunks/Geometry.js";class p{getOperatorType(){return 10008}accelerateGeometry(e,t,r){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}execute(e,t,s,n){const o=(new r).executeMany(e,s,n);return new a(o,t,s,n)}}class a extends e{constructor(e,t,r,s){super(),this.m_resultPolygons=null,this.m_polygons=e,this.m_polylines=t,this.m_sr=r,this.m_progressTracker=s,this.m_bFirst=!0}tock(){return!0}getRank(){return 1}next(){return this.m_bFirst&&(this.performOperation(),this.m_bFirst=!1),this.m_resultPolygons?this.m_resultPolygons.next():null}getGeometryID(){return null!=this.m_resultPolygons?this.m_resultPolygons.getGeometryID():-1}performOperation(){const e=new s,t=new n;let r,p=o;for(;r=this.m_polylines.next();){if(r.getGeometryType()!==i.enumPolyline||r.isEmpty())continue;p===o?p=t.addGeometry(r):t.appendGeometry(p,r);const n=new s;r.queryEnvelope(n),e.mergeEnvelope2D(n)}if(0===t.getTotalPointCount())return;for(;r=this.m_polygons.next();){if(!l(r.getGeometryType())||r.isEmpty())continue;const n=new s;r.queryEnvelope(n),e.mergeEnvelope2D(n),t.addGeometry(r)}const a=u(this.m_sr,e,!0);this.m_resultPolygons=m(t,p,a,this.m_progressTracker)}}const y=new p;function c(e,r,s){const n=y.execute(new t(e),new t(r),s,null);return Array.from(n)}function h(){return y.supportsCurves()}export{c as execute,h as supportsCurves};
