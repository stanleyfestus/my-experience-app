/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{O as t}from"../../chunks/OperatorProximity.js";import{convertFromSpatialReferenceUnit as e,convertToSpatialReferenceUnit as n}from"../../core/unitUtils.js";import{fromGeometry as r,fromPoint as i,getSpatialReference as s}from"./support/converterAPI.js";import{toProximityResult as o}from"./support/proximityResult.js";const c=new t;function m(t,n,m={}){const{calculateLeftRightSide:u=!1,testPolygonInterior:a=!0,unit:p}=m,d=c.getNearestCoordinate(r(t),i(n).getXY(),a,u);if(p&&d.m_distance){const n=s(t);d.m_distance=e(d.m_distance,n,p)}return o(d,t,u)}function u(t,n,m={}){const{unit:u}=m,a=c.getNearestVertex(r(t),i(n).getXY());if(u&&a.m_distance){const n=s(t);a.m_distance=e(a.m_distance,n,u)}return o(a,t)}function a(t,m,u,a,p={}){const{unit:d}=p,f=s(t);return d&&u&&(u=n(u,d,f)),c.getNearestVertices(r(t),i(m).getXY(),u,a).map((n=>(d&&n.m_distance&&(n.m_distance=e(n.m_distance,f,d)),o(n,t))))}function p(){return c.supportsCurves()}export{m as getNearestCoordinate,u as getNearestVertex,a as getNearestVertices,p as supportsCurves};
