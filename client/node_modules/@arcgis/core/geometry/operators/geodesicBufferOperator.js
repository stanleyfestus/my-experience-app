/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{isSome as e}from"../../core/arrayUtils.js";import{convertUnit as r}from"../../core/unitUtils.js";import{isLoaded as t,load as o,execute as s,executeMany as i,supportsCurves as n}from"./gx/operatorGeodesicBuffer.js";import{getSpatialReference as u,toGeometry as a,fromSpatialReference as m,fromGeometry as p}from"./support/converterAPI.js";import{geodeticCurveType as c}from"./support/geodeticCurveType.js";function f(){return t()}function d(){return o()}function v(e,t,o={}){let{curveType:i="geodesic",maxDeviation:n=NaN,unit:f}=o;f&&(t=r(t,f,"meters"),n&&(n=r(n,f,"meters")));const d=u(e);return a(s(p(e),m(d),c[i],t,n),d)}function l(t,o,s={}){let{curveType:n="geodesic",maxDeviation:f=NaN,union:d=!1,unit:v}=s;v&&(o=o.map((e=>r(e,v,"meters"))),f&&(f=r(f,v,"meters")));const l=t.map(p),x=u(t);return i(l,m(x),c[n],o,f,d).map((e=>a(e,x))).filter(e)}function x(){return n()}export{v as execute,l as executeMany,f as isLoaded,d as load,x as supportsCurves};
