/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{ShaderOutput as e}from"../core/shaderLibrary/ShaderOutput.js";import{ReloadableShaderModule as r}from"../core/shaderTechnique/ReloadableShaderModule.js";import{ShaderTechnique as o}from"../core/shaderTechnique/ShaderTechnique.js";import{OITPass as t}from"../lib/OITPass.js";import{oitBlending as s,getDrawBuffers as i}from"../lib/OrderIndependentTransparency.js";import{H as l}from"../../../../chunks/HUDMaterial.glsl.js";import{PrimitiveType as n,CompareFunction as a}from"../../../webgl/enums.js";import{defaultDepthWrite as p,makePipelineState as d,blendWithPremultipliedAlpha as u,defaultColorWrite as m}from"../../../webgl/renderState.js";class c extends o{constructor(e,o,t){super(e,o,new r(l,(()=>import("./HUDMaterial.glsl.js"))),t),this.primitiveType=o.occlusionPass?n.POINTS:n.TRIANGLES}initializePipeline(r){const{oitPass:o,hasPolygonOffset:l,draped:n,output:c,depthTestEnabled:f}=r,T=o===t.NONE,g=l?h:null,j=o===t.ColorAlpha,b=n||!f||j||c===e.Highlight?null:p;return d({blending:c===e.Color?T?u:s(o):null,depthTest:f&&!n?{func:a.LEQUAL}:null,depthWrite:b,drawBuffers:i(o,c),colorWrite:m,polygonOffset:g})}}const h={factor:0,units:-4};export{c as HUDMaterialTechnique};
