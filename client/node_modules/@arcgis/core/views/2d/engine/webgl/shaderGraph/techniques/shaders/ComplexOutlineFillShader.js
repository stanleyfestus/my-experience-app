/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{_ as t,a as o}from"../../../../../../../chunks/tslib.es6.js";import{location as e,uniform as r,input as i}from"../../GraphShaderModule.js";import{greaterThan as s,Float as a,ifElse as l,Vec4 as p,Vec2 as n}from"../../graph/glsl.js";import{FeatureVertexInput as m,BaseHittestVertexInput as u}from"./AFeatureShader.js";import{getComplexFillVertexData as f,getComplexFillFragmentColor as h}from"./ComplexFillShader.js";import{hittestFill as d,failHittest as c}from"./hittestUtils.js";import{getLineFragmentColor as x}from"./LineShader.js";import{LocalTileOffset as y}from"./LocalTileOffset.js";import{MosaicInfo as v}from"./MosaicInfo.js";import{AOutlineFillShader as j,getOutlineFillVertexData as g}from"./OutlineFillShader.js";import{PatternOutlineFillFragmentInput as O}from"./PatternOutlineFillShader.js";const S=16,b=1/S,w=128;class F extends m{}t([e(3,p)],F.prototype,"color",void 0),t([e(4,p)],F.prototype,"tlbr",void 0),t([e(5,a)],F.prototype,"angle",void 0),t([e(6,a)],F.prototype,"aux1",void 0),t([e(7,a)],F.prototype,"aux2",void 0),t([e(8,n)],F.prototype,"aux3",void 0),t([e(9,n)],F.prototype,"aux4",void 0),t([e(10,n)],F.prototype,"zoomRange",void 0);class R extends O{}class C extends j{vertex(t,o){const{aux1:e,aux2:r,aux3:i,aux4:l}=t,p={...t,width:e,height:r,offset:i,scale:l.multiply(b)},n={...t,halfWidth:e,referenceHalfWidth:r,offset:i,normal:l.subtract(w).multiply(b)},m=g(this,n),u=f(this,p),h=s(m.isOutline,new a(.5));return{...m,...u,...this.maybeRunHittest(t,o,h)}}fragment(t){const{isOutline:o}=t,e=s(o,new a(.5)),r=x(t,this.antialiasingControls.blur),i=h(this,t),p=l(e,r,i),n=l(e,new a(1/255),new a(0));return this.getFragmentOutput(p,t,n)}hittest(t,o,e){return l(e,c(this.hittestRequest),d(this,t,o))}}t([r(v)],C.prototype,"mosaicInfo",void 0),t([r(y)],C.prototype,"localTileOffset",void 0),t([o(0,i(F)),o(1,i(u))],C.prototype,"vertex",null),t([o(0,i(R))],C.prototype,"fragment",null);export{C as ComplexOutlineFillShader,F as ComplexOutlineFillVertexInput,S as packPrecision,w as signedToUnsignedByte};
