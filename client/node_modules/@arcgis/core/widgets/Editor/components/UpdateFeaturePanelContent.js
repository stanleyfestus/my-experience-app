/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{substitute as e}from"../../../intl/substitute.js";import{isUpdateWorkflow as t}from"../workflowUtils.js";import{loadFooterActionsComponents as o,FooterActions as n}from"./FooterActions.js";import{loadNoticesComponents as r,Notices as s}from"./Notices.js";import{loadPanelContentComponents as a,PanelContentMessage as i,PanelContentSectionGroup as l,PanelContentSection as u,PanelContent as m}from"./PanelContent.js";import{Heading as c,incrementHeadingLevel as p}from"../../support/Heading.js";import"../../support/widgetUtils.js";import{tsx as d,tsxFragment as f}from"../../support/jsxFactory.js";const h=()=>Promise.all([o(),r(),a()]);function w({editorViewModel:o,headingLevel:r,messages:a,messagesCommon:h,onDelete:w,onSave:g,renderAttachments:k,renderFeatureForm:v}){const{activeWorkflow:y,featureFormViewModel:F,syncing:b}=o;if(!y||!F)return null;const j=t(y)?y.activeWorkflow??y:y,S=j.type.includes("update"),C=S&&!j.hasPendingEdits||b||F.updating,P=S?h.update:h.create,A="create-features"===j?.type&&"create-new"===j.createFeatureState,T="create-features"===j?.type?j.numPendingFeatures:0,x=T>1?e(a.createFeaturesTemplate,{numFeatures:T}):P,D=y.shouldShowAttachments&&!F.activeRelationshipInput,M=F.inputs.every((e=>!e.visible))&&!D?d(i,{key:"panel-content-message"},e(a.clickToFinishTemplate,{button:P})):d(u,{key:"panel-content-section"},d(s,{messages:a,workflow:y}),d(l,null,v(),D?d("div",{key:"attachments"},d(c,{level:p(r)},a.attachments),k()):null));return d(f,null,d(m,{key:"attribute-panel-content",showScrimOverlay:A},M),d(n,{buttons:[{onClick:g,disabled:C,label:x},o.shouldShowDeleteButton?{appearance:"outline",onClick:w,disabled:b,kind:"danger",label:h.delete}:void 0]}))}export{w as UpdateFeaturePanelContent,h as loadUpdateFeaturePanelContentComponents};
