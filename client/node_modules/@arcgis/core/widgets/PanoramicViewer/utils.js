/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import t from"../../Graphic.js";import"../../symbols.js";import e from"../../core/Collection.js";import{rad2deg as r,deg2rad as o}from"../../core/mathUtils.js";import s from"../../geometry/Mesh.js";import m from"../../geometry/support/MeshMaterial.js";import n from"../../geometry/support/MeshTexture.js";import{defaultImageSphereSize as i,defaultImageSphereCenter as u}from"./constants.js";import a from"../../symbols/MeshSymbol3D.js";import c from"../../symbols/FillSymbol3DLayer.js";function l(t,e=u,r=i){const o=e.clone();o.z=-i/2;const a=s.createSphere(o,{size:r,densificationFactor:2,vertexSpace:"georeferenced",material:new m({colorTexture:new n({data:t})})});if(a.components[0].trustSourceNormals=!0,a.vertexAttributes.uv){const t=a.vertexAttributes.uv.length??0;for(let e=0;e<t;e++)a.vertexAttributes.uv[2*e+0]=1-a.vertexAttributes.uv[2*e+0],a.vertexAttributes.uv[2*e+1]=a.vertexAttributes.uv[2*e+1]}return a.centerAt(o),a}function p(r){return new t({geometry:r,symbol:new a({symbolLayers:new e([new c])})})}function f(t,e){return 2*r(Math.atan(Math.tan(o(t/2))*Math.sqrt(e**2+1)))}export{l as createImageSphere,f as findDiagonalFOV,p as meshToGraphic};
