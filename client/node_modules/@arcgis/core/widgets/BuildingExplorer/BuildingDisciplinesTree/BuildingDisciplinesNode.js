/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{_ as e}from"../../../chunks/tslib.es6.js";import{property as i}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/has.js";import"../../../core/Logger.js";import"../../../core/RandomLCG.js";import{subclass as t}from"../../../core/accessorSupport/decorators/subclass.js";import s from"../../Widget.js";import{LayerTreeNode as o}from"../support/LayerTreeNode.js";import{loadCalciteComponents as l}from"../../support/componentsUtils.js";import"../../support/widgetUtils.js";import{tsx as r}from"../../support/jsxFactory.js";var c;const n={expand:"expand",collapse:"collapse",hideSublayer:"hideSublayer",showSublayer:"showSublayer"},a="esri-building-disciplines-tree-node",p={base:a,label:`${a}__label`,level:e=>`${a}--level-${e}`};let d=c=class extends s{constructor(e){super(e),this.messages=n,this.toggleSiblingsVisibility=!1,this._toggledAll=!1,this._onCheckboxClick=e=>{e.stopPropagation();(e.metaKey||e.ctrlKey)&&this.toggleSiblingsVisibility&&(this.node.toggleAllSiblingsVisibility(),this._toggledAll=!0)},this._onCheckboxToggle=e=>{this._toggledAll?this._toggledAll=!1:this.node.toggleVisibility(e.target.checked)}}loadDependencies(){return l({checkbox:()=>import("@esri/calcite-components/dist/components/calcite-checkbox.js"),label:()=>import("@esri/calcite-components/dist/components/calcite-label.js"),tree:()=>import("@esri/calcite-components/dist/components/calcite-tree.js"),"tree-item":()=>import("@esri/calcite-components/dist/components/calcite-tree-item.js")})}render(){const{node:e,messages:i}=this;if(e.isDiscipline&&!e.hasChildren)return r("div",{key:`${e.id}-empty`});const t=e.visible,s=!0===t,o=null===t,l=s?i?.hideSublayer:i?.showSublayer;return r("div",{class:p.base,key:e.id},r("calcite-tree-item",null,r("calcite-label",{class:p.label,layout:"inline"},r("calcite-checkbox",{checked:s,indeterminate:o,label:l,onclick:this._onCheckboxClick,title:l,onCalciteCheckboxChange:this._onCheckboxToggle}),e.title),this._renderedChildren))}get _renderedChildren(){const{node:e}=this;if(!e.hasChildren)return null;const{messages:i}=this,{toggleSiblingsVisibility:t}=this;return r("calcite-tree",{slot:"children"},this.node.children.toArray().reverse().map((e=>r(c,{messages:i,node:e,toggleSiblingsVisibility:t}))))}};e([i({type:o})],d.prototype,"node",void 0),e([i()],d.prototype,"messages",void 0),e([i({nonNullable:!0})],d.prototype,"toggleSiblingsVisibility",void 0),e([i()],d.prototype,"_renderedChildren",null),d=c=e([t("esri.widgets.BuildingExplorer.BuildingDisciplinesTree.BuildingDisciplinesNode")],d);const g=d;export{g as default};
