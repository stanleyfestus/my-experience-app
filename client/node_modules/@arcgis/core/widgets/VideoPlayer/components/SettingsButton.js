/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import e from"../../../Color.js";import{loadCalciteComponents as t}from"../../support/componentsUtils.js";import"../../support/widgetUtils.js";import{tsx as c}from"../../support/jsxFactory.js";import{css as i}from"../css.js";const l={active:null,speed:"1x",quality:"Auto",color:null},o=new e([255,127,0]);let s=null;const a=()=>t({action:()=>import("@esri/calcite-components/dist/components/calcite-action.js"),flow:()=>import("@esri/calcite-components/dist/components/calcite-flow.js"),"flow-item":()=>import("@esri/calcite-components/dist/components/calcite-flow-item.js"),icon:()=>import("@esri/calcite-components/dist/components/calcite-icon.js"),list:()=>import("@esri/calcite-components/dist/components/calcite-list.js"),"list-item":()=>import("@esri/calcite-components/dist/components/calcite-list-item.js"),popover:()=>import("@esri/calcite-components/dist/components/calcite-popover.js"),block:()=>import("@esri/calcite-components/dist/components/calcite-block.js"),"color-picker":()=>import("@esri/calcite-components/dist/components/calcite-color-picker.js"),chip:()=>import("@esri/calcite-components/dist/components/calcite-chip.js"),"color-picker-swatch":()=>import("@esri/calcite-components/dist/components/calcite-color-picker-swatch.js")});function n({viewModel:t,settings:l,messages:a}){const{state:n}=t,r="not-ready"===n||"waiting"===n,p=["Auto"],m=[{label:"0.25x",value:.25},{label:"0.5x",value:.5},{label:"1x",value:1},{label:"1.5x",value:1.5},{label:"2x",value:2}],d=c("calcite-flow-item",{heading:a.playbackSpeed,key:"playback-speed",onCalciteFlowItemBack:()=>{l.active=null}},c("calcite-list",{selectionMode:"single-persist"},m.map((({label:e,value:i})=>c("calcite-list-item",{key:e,label:e,onclick:()=>{l.speed=e,t.changePlaybackSpeed(i)},selected:e===l.speed}))))),u=c("calcite-flow-item",{heading:a.quality,key:`Quality (${l.quality})`,onCalciteFlowItemBack:()=>{l.active=null}},c("calcite-list",{selectionMode:"single-persist"},p.map((e=>c("calcite-list-item",{key:e,label:e,onclick:()=>{l.quality=e},selected:e===l.quality}))))),g=c("calcite-flow-item",{heading:a.graphics,key:`Graphics (${l.color})`,onCalciteFlowItemBack:()=>{l.active=null,l.color=s?new e(s):null,l.color&&t.changeGraphicsColor(l.color)}},c("calcite-block",{heading:a.color,open:!0},c("calcite-color-picker",{channelsDisabled:!0,format:"hex",savedDisabled:!0,scale:"s",value:l.color?.toHex()??o.toHex(),onCalciteColorPickerChange:e=>{s=e.target.value?.toString()}})));return c("div",{class:i.settings},c("calcite-popover",{autoClose:!0,label:a.settings,overlayPositioning:"fixed",placement:"top-end",pointerDisabled:!0,referenceElement:"settings-action",scale:"s"},c("calcite-flow",{class:i.settingsFlow,key:"root-flow"},c("calcite-flow-item",{closable:!1,heading:"Settings",key:"root-flow-item"},c("calcite-list",null,c("calcite-list-item",{key:`Speed (${l.speed})`,label:a.speed,onclick:()=>{l.active="speed"}},c("div",{slot:"content-end"},c("calcite-chip",{scale:"s",value:l.speed},l.speed)),c("calcite-icon",{icon:"chevron-right",scale:"s",slot:"content-end"})),c("calcite-list-item",{key:`Quality (${l.quality})`,label:a.quality,onclick:()=>{l.active="quality"}},c("div",{slot:"content-end"},c("calcite-chip",{scale:"s",value:l.quality},l.quality)),c("calcite-icon",{icon:"chevron-right",scale:"s",slot:"content-end"})),c("calcite-list-item",{key:`Graphics (${l.color})`,label:a.graphics,onclick:()=>{l.active="color"}},c("calcite-color-picker-swatch",{color:l.color?.toString()??o.toString(),scale:"s",slot:"content-end"}),c("calcite-icon",{icon:"chevron-right",scale:"s",slot:"content-end"})))),"speed"===l.active?d:null,"quality"===l.active?u:null,"color"===l.active?g:null)),c("calcite-action",{alignment:"center",bind:t,disabled:r,icon:"sliders",id:"settings-action",key:"settings",scale:"s",slot:"trigger",text:a.settings}))}export{n as SettingsButton,l as defaultSettings,a as loadSettingsButtonComponents};
