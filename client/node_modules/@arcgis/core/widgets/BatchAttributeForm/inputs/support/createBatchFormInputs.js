/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import t from"../../../../core/Collection.js";import e from"../../../../core/Error.js";import{BatchFormInputs as r}from"../BatchFormInputs.js";import{FieldInput as o}from"../FieldInput.js";import{GroupInput as n}from"../GroupInput.js";import{isFieldElementTemplate as p,isGroupElementTemplate as m}from"../../templates/support/templateUtils.js";function s(e,o){const n=new t(e.elements.map((t=>u(t,o))));return new r({inputs:n,template:e})}function u(t,r){const o=new Set(t.layers),n=r.filter((t=>o.has(t.layer)));if(p(t))return i(t,n);if(m(t))return f(t,n);throw new e("batch-attribute-form:unsupported-element-template","The type of form element template provided is not supported")}function i(t,e){return new o({features:e,template:t})}function f(t,e){const r=t.elements.map((t=>u(t,e)));return new n({features:e,inputs:r,template:t})}export{s as createBatchFormInputsFromBatchFormTemplate};
