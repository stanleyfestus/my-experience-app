/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.31/esri/copyright.txt for details.
*/
import{_ as e}from"../../../chunks/tslib.es6.js";import{IdentifiableMixin as s}from"../../../core/Identifiable.js";import{watch as t,syncAndInitial as o}from"../../../core/reactiveUtils.js";import{property as i}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/has.js";import"../../../core/Logger.js";import"../../../core/RandomLCG.js";import{subclass as a}from"../../../core/accessorSupport/decorators/subclass.js";import r from"../../Widget.js";import{css as l}from"../css.js";import c from"./OverlayLayersList.js";import{loadCalciteComponents as n}from"../../support/componentsUtils.js";import{globalCss as p}from"../../support/globalCss.js";import"../../support/widgetUtils.js";import{tsx as h}from"../../support/jsxFactory.js";let m=class extends(s(r)){constructor(){super(...arguments),this.closed=!1,this.layerList=new c({selectionMode:"multiple"}),this.messages=null,this.showCameraLocations=!1,this.showMapFeatures=!1,this.viewModel=null}initialize(){t((()=>[this.view,this.layerList]),(([e,s])=>{s.view=e}),o)}loadDependencies(){return n({list:()=>import("@esri/calcite-components/dist/components/calcite-list.js"),"list-item":()=>import("@esri/calcite-components/dist/components/calcite-list-item.js"),panel:()=>import("@esri/calcite-components/dist/components/calcite-panel.js"),switch:()=>import("@esri/calcite-components/dist/components/calcite-switch.js")})}get view(){return this.viewModel?.view??null}_onCalcitePanelClose(e){e.stopPropagation(),this.closed=!0}_renderCameraLocationsSwitch(e){return h("calcite-list-item",{bind:this,label:this.messages?.overlayCameraLocations,onclick:this._toggleShowCameraLocations},h("calcite-switch",{bind:this,checked:e,class:l.overlaysSwitch,onchange:this._toggleShowCameraLocations,scale:"s",slot:"actions-end"}))}_renderOverlayMapFeatures(e){return h("calcite-list-item",{bind:this,label:this.messages?.overlayMapFeatures,onclick:this._toggleShowMapFeatures},h("calcite-switch",{bind:this,checked:e,class:l.overlaysSwitch,onchange:this._toggleShowMapFeatures,scale:"s",slot:"actions-end"}))}_renderList(e){return e?h("div",{class:l.imageOverlaysLayerList},this.layerList.render()):null}_renderPanel(){const{closed:e,showCameraLocations:s,showMapFeatures:t}=this;return h("calcite-panel",{bind:this,closable:!0,closed:e,heading:this.messages?.imageOverlays,onCalcitePanelClose:this._onCalcitePanelClose},h("calcite-list",null,this._renderCameraLocationsSwitch(s),this._renderOverlayMapFeatures(t)),this._renderList(t))}_toggleShowCameraLocations(e){e.stopPropagation(),this.showCameraLocations=!this.showCameraLocations}_toggleShowMapFeatures(e){e.stopPropagation(),this.showMapFeatures=!this.showMapFeatures}render(){const e=this.layerList.operationalItems.items.length,s=this.showMapFeatures&&0===e,t=this.showMapFeatures&&e>0,o={[p.widget]:!0,[l.imageOverlaysNoResult]:s,[l.imageOverlaysIncreasedHeight]:t,[l.imageOverlays]:!s&&!t};return h("div",{class:this.classes(o)},this._renderPanel())}};e([i()],m.prototype,"closed",void 0),e([i()],m.prototype,"layerList",void 0),e([i()],m.prototype,"messages",void 0),e([i()],m.prototype,"showCameraLocations",void 0),e([i()],m.prototype,"showMapFeatures",void 0),e([i()],m.prototype,"view",null),e([i()],m.prototype,"viewModel",void 0),m=e([a("esri.widgets.OrientedImageryViewer.components.ImageOverlays")],m);const d=m;export{d as default};
