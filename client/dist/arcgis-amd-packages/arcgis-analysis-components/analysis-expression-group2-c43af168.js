define(["exports","./index-60d8a971","./expressions-daccc1d3","./index2-31657c04","./_baseGet-1781da83","./_Uint8Array-2357716e","./_MapCache-d92ee307","./isObject-a5254a4d","./identity-47e9f05a","./t9n-c044c603","./utils-c381fe27","./analysis-attribute-expression2-5251ae6f","./analysis-query-entry2-6efeefcb","./analysis-spatial-expression2-00a2b684"],(function(e,t,r,s,i,n,o,a,l,p,c,u,h,d){"use strict";var y=Object.create;const f=function(){function e(){}return function(t){if(!a.isObject(t))return{};if(y)return y(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function g(e,t){var r=-1,s=e.length;for(t||(t=Array(s));++r<s;)t[r]=e[r];return t}var x=Date.now,b=function(){try{var e=o.getNative(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();const v=b;var m,E,w,S=v?function(e,t){return v(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:l.identity,C=(m=S,E=0,w=0,function(){var e=x(),t=16-(e-w);if(w=e,t>0){if(++E>=800)return arguments[0]}else E=0;return m.apply(void 0,arguments)});const j=C;function A(e,t,r){"__proto__"==t&&v?v(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var G=Object.prototype.hasOwnProperty;function O(e,t,r){var s=e[t];G.call(e,t)&&o.eq(s,r)&&(void 0!==r||t in e)||A(e,t,r)}function L(e,t,r,s){var i=!r;r||(r={});for(var n=-1,o=t.length;++n<o;){var a=t[n],l=s?s(r[a],e[a],a,r,e):void 0;void 0===l&&(l=e[a]),i?A(r,a,l):O(r,a,l)}return r}var k=Math.max;function I(e,t,r){return t=k(void 0===t?e.length-1:t,0),function(){for(var s=arguments,i=-1,n=k(s.length-t,0),o=Array(n);++i<n;)o[i]=s[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=s[i];return a[t]=r(o),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,a)}}var R=Object.prototype.hasOwnProperty;function $(e){return n.isArrayLike(e)?n.arrayLikeKeys(e,!0):function(e){if(!a.isObject(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=n.isPrototype(e),r=[];for(var s in e)("constructor"!=s||!t&&R.call(e,s))&&r.push(s);return r}(e)}var P=a.Symbol$1?a.Symbol$1.isConcatSpreadable:void 0;function U(e){return o.isArray$1(e)||n.isArguments$1(e)||!!(P&&e&&e[P])}function T(e,t,r,s,i){var o=-1,a=e.length;for(r||(r=U),i||(i=[]);++o<a;){var l=e[o];t>0&&r(l)?t>1?T(l,t-1,r,s,i):n.arrayPush(i,l):s||(i[i.length]=l)}return i}function D(e){return null!=e&&e.length?T(e,1):[]}function B(e){return j(I(e,void 0,D),e+"")}const N=n.overArg(Object.getPrototypeOf,Object);var F="[object Object]",Q=Function.prototype,K=Object.prototype,_=Q.toString,q=K.hasOwnProperty,M=_.call(Object);function V(e){if(!a.isObjectLike(e)||a.baseGetTag(e)!=F)return!1;var t=N(e);if(null===t)return!0;var r=q.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&_.call(r)==M}var J="object"==typeof e&&e&&!e.nodeType&&e,z=J&&"object"==typeof module&&module&&!module.nodeType&&module,H=z&&z.exports===J?a.root$1.Buffer:void 0,W=H?H.allocUnsafe:void 0;function X(e,t){if(t)return e.slice();var r=e.length,s=W?W(r):new e.constructor(r);return e.copy(s),s}const Y=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n.arrayPush(t,n.getSymbols$1(e)),e=N(e);return t}:n.stubArray;function Z(e){return n.baseGetAllKeys(e,$,Y)}var ee=Object.prototype.hasOwnProperty;function te(e){var t=new e.constructor(e.byteLength);return new n.Uint8Array$1(t).set(new n.Uint8Array$1(e)),t}var re=/\w*$/,se=a.Symbol$1?a.Symbol$1.prototype:void 0,ie=se?se.valueOf:void 0;function ne(e,t){var r=t?te(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var oe="[object Boolean]",ae="[object Date]",le="[object Map]",pe="[object Number]",ce="[object RegExp]",ue="[object Set]",he="[object String]",de="[object Symbol]",ye="[object ArrayBuffer]",fe="[object DataView]",ge="[object Float32Array]",xe="[object Float64Array]",be="[object Int8Array]",ve="[object Int16Array]",me="[object Int32Array]",Ee="[object Uint8Array]",we="[object Uint8ClampedArray]",Se="[object Uint16Array]",Ce="[object Uint32Array]";function je(e){return"function"!=typeof e.constructor||n.isPrototype(e)?{}:f(N(e))}var Ae=n.nodeUtil$1&&n.nodeUtil$1.isMap;const Ge=Ae?n.baseUnary(Ae):function(e){return a.isObjectLike(e)&&"[object Map]"==n.getTag$1(e)};var Oe=n.nodeUtil$1&&n.nodeUtil$1.isSet;const Le=Oe?n.baseUnary(Oe):function(e){return a.isObjectLike(e)&&"[object Set]"==n.getTag$1(e)};var ke="[object Arguments]",Ie="[object Function]",Re="[object Object]",$e={};function Pe(e,t,r,s,i,l){var p,c=1&t,u=2&t,h=4&t;if(r&&(p=i?r(e,s,i,l):r(e)),void 0!==p)return p;if(!a.isObject(e))return e;var d=o.isArray$1(e);if(d){if(p=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!c)return g(e,p)}else{var y=n.getTag$1(e),f=y==Ie||"[object GeneratorFunction]"==y;if(n.isBuffer$1(e))return X(e,c);if(y==Re||y==ke||f&&!i){if(p=u||f?{}:je(e),!c)return u?function(e,t){return L(e,Y(e),t)}(e,function(e,t){return e&&L(t,$(t),e)}(p,e)):function(e,t){return L(e,n.getSymbols$1(e),t)}(e,function(e,t){return e&&L(t,n.keys(t),e)}(p,e))}else{if(!$e[y])return i?e:{};p=function(e,t,r){var s,i,n,o=e.constructor;switch(t){case ye:return te(e);case oe:case ae:return new o(+e);case fe:return function(e,t){var r=t?te(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case ge:case xe:case be:case ve:case me:case Ee:case we:case Se:case Ce:return ne(e,r);case le:return new o;case pe:case he:return new o(e);case ce:return(n=new(i=e).constructor(i.source,re.exec(i))).lastIndex=i.lastIndex,n;case ue:return new o;case de:return s=e,ie?Object(ie.call(s)):{}}}(e,y,c)}}l||(l=new n.Stack);var x=l.get(e);if(x)return x;l.set(e,p),Le(e)?e.forEach((function(s){p.add(Pe(s,t,r,s,e,l))})):Ge(e)&&e.forEach((function(s,i){p.set(i,Pe(s,t,r,i,e,l))}));var b=h?u?Z:n.getAllKeys:u?$:n.keys,v=d?void 0:b(e);return function(e,t){for(var r=-1,s=null==e?0:e.length;++r<s&&!1!==t(e[r],r););}(v||e,(function(s,i){v&&(s=e[i=s]),O(p,i,Pe(s,t,r,i,e,l))})),p}function Ue(e,t){return null==(e=function(e,t){return t.length<2?e:i.baseGet(e,function(e,t,r){var s=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var n=Array(i);++s<i;)n[s]=e[s+t];return n}(t,0,-1))}(e,t=i.castPath(t,e)))||delete e[i.toKey((r=t,s=null==r?0:r.length,s?r[s-1]:void 0))];var r,s}function Te(e){return V(e)?void 0:e}$e[ke]=$e["[object Array]"]=$e["[object ArrayBuffer]"]=$e["[object DataView]"]=$e["[object Boolean]"]=$e["[object Date]"]=$e["[object Float32Array]"]=$e["[object Float64Array]"]=$e["[object Int8Array]"]=$e["[object Int16Array]"]=$e["[object Int32Array]"]=$e["[object Map]"]=$e["[object Number]"]=$e[Re]=$e["[object RegExp]"]=$e["[object Set]"]=$e["[object String]"]=$e["[object Symbol]"]=$e["[object Uint8Array]"]=$e["[object Uint8ClampedArray]"]=$e["[object Uint16Array]"]=$e["[object Uint32Array]"]=!0,$e["[object Error]"]=$e[Ie]=$e["[object WeakMap]"]=!1;const De=B((function(e,t){var r={};if(null==e)return r;var s=!1;t=i.arrayMap(t,(function(t){return t=i.castPath(t,e),s||(s=t.length>1),t})),L(e,Z(e),r),s&&(r=Pe(r,7,Te));for(var n=t.length;n--;)Ue(r,t[n]);return r})),Be="parsingPreviousQueryError";class Ne{constructor(e,t="",s=[],i,n){this.toJSON=async(e,t)=>{const r=this.getUsedLayers(e);return{expressions:this.toGPQuery(r),inputLayers:await this.serializeLayers(r,t)}},this.toGPQuery=(e,t="")=>{const r=[];return this.children.forEach(((s,i)=>{let n=0===i?t:this.operator;if(s instanceof Ne){if(!0===s.spatialExpression?.validate()){const t=(({expression:e,operator:t,layer:r,layerList:s})=>{const{spatialRelationship:i,spatialRelationshipParams:n}=e,o=e.selectingLayer;return{operator:t,layer:s.findIndex((e=>e.id===r.id)),selectingLayer:s.findIndex((e=>e.id===o.id)),spatialRel:i,distance:n?.distance,units:n?.units}})({operator:n,expression:s.spatialExpression,layer:this.layer,layerList:e});r.push(t),n="and"}const t=s.toGPQuery(e,n);t.length>0&&r.push(t)}else if(s.validate()){const t=(({expression:e,operator:t,layer:r,layerList:s})=>({operator:t,layer:s.findIndex((e=>e.id===r.id)),where:e.toSQL()}))({operator:n,expression:s,layer:this.layer,layerList:e});r.push(t)}})),r},this.layer=e,this.operator=t,this.children=s,this.spatialExpression=i,this.id=n??r.getIncrementalId()}static async fromSQL(e,t,r){let i,n;if(""===e)i=new Ne(t);else try{const{parseTree:o}=await s.parseWhereClause(e,t.fieldsIndex),{group:a,errorKey:l}=Ne.fromSQLNode(o,t,r);i=a,n=l}catch(e){console.log(e),n=Be}return{group:i,errorKey:n}}static fromSQLNode(e,t,s){let i;const n=[];let o;const a=[e];for(;a.length>0;)try{const e=a.pop();if("binary-expression"!==e.type||"AND"!==e.operator&&"OR"!==e.operator){const i=r.ExpressionController.fromSQLNode(e,t.fieldsIndex,s);n.push(i)}else if(i??(i=e.operator),i===e.operator)a.push(e.right),a.push(e.left);else{const{group:r,errorKey:i}=Ne.fromSQLNode(e,t,s);o??(o=i),n.push(r)}}catch(e){console.log(e),o="queryFieldsError"}const l=void 0===i?"and":i.toLowerCase();return{group:new Ne(t,l,n),errorKey:o}}toSQL(e){const t=this.operator.toUpperCase();return this.children.map((t=>{let r;if(t instanceof Ne){const s=t.toSQL(e);""!==s&&(r=`(${s})`)}else t.validate()&&(r=t.toSQL(e));return r})).filter((e=>void 0!==e)).join(` ${t} `)}static async fromJSON(e,t){let r,s;if(e.length<1)r=new Ne(t[0]);else{const{group:i,errorKey:n}=await Ne._fromJSON(e,t);r=i,s=n}return{group:r,errorKey:s}}static async _fromJSON(e,t){let s,i,n="";const o=[],a=new Set;let l,p;for(let p=0;p<e.length;p++)if(!a.has(p))try{let c,u;const h=e[p];if(Array.isArray(h)){const{group:e,combineOperator:r,errorKey:s}=await Ne._fromJSON(h,t);l??(l=s),o.push(e),u=e.layer,c=r}else if("spatialRel"in h){const{layer:s,selectingLayer:i,units:n,distance:d,spatialRel:y,operator:f}=h,g=new r.SpatialExpression(t[s],t[i],y,{units:n,distance:d}),x=e[p+1];if(Array.isArray(x)){const{group:e,errorKey:r}=await Ne._fromJSON(x,t);if(l??(l=r),g.selectingLayer===e.layer)e.spatialExpression=g,o.push(e),a.add(p+1);else{const e=g.selectingLayer,t=new Ne(e,f,[],g);o.push(t)}}else{const e=new Ne(t[i],f,[],g);o.push(e)}u=t[s],c=f}else{const{where:e,layer:s,operator:i}=h,n=await r.ExpressionController.fromSQL(e,t[s].fieldsIndex);o.push(n),u=t[s],c=i}0===p?n=c:(i??(i=c),r.assert(i===c,"Invalid expression group: the group uses more than one logical operator.")),s??(s=u),r.assert(s===u,"Invalid expression group: the group operators on multiple layers.")}catch(e){console.log(e),l=Be}return p=void 0===s?new Ne(t[0],"and",[]):new Ne(s,i??"and",o),{group:p,combineOperator:n,errorKey:l}}getUsedLayersIds(e){return e.add(this.layer.id),void 0!==this.spatialExpression&&e.add(this.spatialExpression.selectingLayer.id),this.children.forEach((t=>{t instanceof Ne&&t.getUsedLayersIds(e)})),e}getUsedLayers(e){const t=[...this.getUsedLayersIds(new Set)],r=new Map;return e.forEach((e=>r.set(e.id,e))),t.map((e=>r.get(e)))}async serializeLayers(e,t){let r=[];return r=(await Promise.all(e.map((e=>s.getGPFeatureRecordSetLayerValue(e,t))))).map((e=>De(e,"itemId"))),r}changeTarget(e){return new Ne(e,this.operator,[],void 0,this.id)}addDefaultSpatialExpression(e,t){const s=r.SpatialExpression.getValidSelectingLayers(e,t)[0]??e,i=new r.SpatialExpression(e,s,r.SpatialRelationships.Intersects),n=new Ne(s,"and",[],i),o=[...this.children,n];return new Ne(this.layer,this.operator,o,this.spatialExpression,this.id)}addExpression(e){const t=[...this.children,e];return new Ne(this.layer,this.operator,t,this.spatialExpression,this.id)}addDefaultExpression(e){const t=r.ExpressionController.createDefaultForLayer(this.layer,e);return void 0===t?this:this.addExpression(t)}addGroup(e){const t=[...this.children,e];return new Ne(this.layer,this.operator,t,this.spatialExpression,this.id)}addNewGroup(e="and"){const t=new Ne(this.layer,e,[],void 0,this.id);return this.addGroup(t)}removeChild(e){return this.children.splice(e,1),new Ne(this.layer,this.operator,this.children,this.spatialExpression,this.id)}changeSpatialExpression(e){const{layer:t,children:r}=this;let s=t,i=r;const n=this.spatialExpression?.selectingLayer,o=e.selectingLayer;return n!==o&&(s=o,i=[]),new Ne(s,this.operator,i,e,this.id)}clone(){const e=[...this.cloneChildren(this.children)];return new Ne(this.layer,this.operator,e,this.spatialExpression,this.id)}cloneChildren(e){return e.map((e=>{if(e instanceof Ne){const t=this.cloneChildren(e.children);return new Ne(e.layer,e.operator,t,e.spatialExpression,e.id)}return Pe(e,5)}))}}const Fe="group-content-container",Qe=t.proxyCustomElement(class extends t.H{constructor(){super(),this.__registerHost(),this.analysisExpressionGroupChange=t.createEvent(this,"analysisExpressionGroupChange",7),this.onAddSpatialExpressionClick=()=>{this.expressionGroup=this.expressionGroup.addDefaultSpatialExpression(this.expressionGroup.layer,this.layers),this.error=void 0,this.analysisExpressionGroupChange.emit()},this.onAddAttributeExpressionClick=()=>{this.error=void 0,this.expressionGroup=this.expressionGroup.addDefaultExpression(this.options),this.analysisExpressionGroupChange.emit()},this.onOperatorSelect=e=>{this.expressionGroup.operator=e.target.selectedOption.value,this.error=void 0,this.analysisExpressionGroupChange.emit()},this.onAddGroupClick=()=>{this.expressionGroup=this.expressionGroup.addNewGroup(),this.error=void 0,this.analysisExpressionGroupChange.emit()},this.onRemoveChild=(e,t)=>{this.expressionGroup=this.expressionGroup.removeChild(e),this.error=void 0,this.analysisExpressionGroupChange.emit(),t.stopPropagation()},this.onChildExpressionChange=(e,t)=>{this.expressionGroup.children[e]=t.target.expression,this.error=void 0,this.analysisExpressionGroupChange.emit()},this.onChildSpatialExpressionChange=e=>{const t=e.target.spatialExpression;this.expressionGroup=this.expressionGroup.changeSpatialExpression(t),this.analysisExpressionGroupChange.emit()},this.onChildGroupChange=(e,t)=>{this.expressionGroup.children[e]=t.target.expressionGroup,this.analysisExpressionGroupChange.emit(),t.stopPropagation()},this.expressionGroup=void 0,this.mode=void 0,this.allowedExpressions=["attribute","group","spatial"],this.layers=void 0,this.recordsTerm="features",this.options=void 0,this.cache=void 0,this.depth=0,this.error=void 0}componentDidRender(){void 0!==this.spatialExpressionButtonTooltipRef&&null!==this.spatialExpressionButtonTooltipRef&&void 0!==this.addSpatialExpressionButtonRef&&(this.spatialExpressionButtonTooltipRef.referenceElement=this.addSpatialExpressionButtonRef)}get hasError(){return void 0!==this.error}componentWillLoad(){this.strings=p.getStrings()}render(){const e=this.expressionGroup;return t.h(t.Fragment,{key:"526273b73d103b0721c93be99201328925c9d2fb"},0===this.depth?t.h(t.Fragment,null,this.renderOperatorContainer(),void 0!==e.spatialExpression&&this.renderSpatialExpression(),this.renderChildExpressions(),this.renderTopLevelButtons()):void 0===e.spatialExpression?t.h(t.Fragment,null,t.h("div",{class:Fe},this.renderOperatorContainer(),this.renderChildExpressions(),this.renderExpressionDropdown())):t.h(t.Fragment,null,this.renderSpatialExpression(),this.depth<=2&&t.h("div",{class:Fe},e.children.length>0&&this.renderOperatorContainer(),this.renderChildExpressions(),this.renderExpressionDropdown())),t.h("calcite-input-message",{key:"f6178c5a38a7e7d581ae1765add740b67e12cbfa",status:"invalid",class:"error-message",scale:c.UIDefaults.Scale,hidden:!this.hasError,icon:"exclamationMarkTriangle"},this.error))}renderOperatorContainer(){return t.h("div",{class:"operator-container"},t.h("calcite-label",null,this.strings.where,t.h("calcite-select",{width:"auto",label:this.strings.groupOperatorSelect,onCalciteSelectChange:this.onOperatorSelect},t.h("calcite-option",{value:r.ExpressionGroupOperator.And,selected:this.expressionGroup.operator===r.ExpressionGroupOperator.And},this.strings.andOperatorLabel),t.h("calcite-option",{value:r.ExpressionGroupOperator.Or,selected:this.expressionGroup.operator===r.ExpressionGroupOperator.Or},this.strings.orOperatorLabel))))}renderSpatialExpression(){return t.h("analysis-spatial-expression",{layers:this.layers,spatialExpression:this.expressionGroup.spatialExpression,onAnalysisExpressionChange:e=>this.onChildSpatialExpressionChange(e)})}renderChildExpressions(){return this.expressionGroup.children.map(((e,r)=>e instanceof Ne?t.h("analysis-query-entry",{kind:"group",appearance:"section",key:e.id,onAnalysisQueryEntryRemove:e=>this.onRemoveChild(r,e)},t.h("analysis-expression-group",{expressionGroup:e,layers:this.layers,depth:this.depth+1,mode:this.mode,cache:this.cache,allowedExpressions:this.allowedExpressions,options:this.options,onAnalysisExpressionGroupChange:e=>this.onChildGroupChange(r,e)})):t.h("analysis-attribute-expression",{expression:e,cache:this.cache,target:this.expressionGroup.layer,key:e.id,options:this.options,onAnalysisExpressionChange:e=>this.onChildExpressionChange(r,e),onAnalysisExpressionRemoveClick:e=>this.onRemoveChild(r,e)})))}renderTopLevelButtons(){const e=new Set(this.allowedExpressions);return("analysis"===this.mode&&r.SpatialExpression.getValidSelectingLayers(this.expressionGroup.layer,this.layers).length<1||"sql"===this.mode)&&e.delete("spatial"),t.h("div",{class:"add-btns-container"},t.h("calcite-button",{disabled:!1===e.has("attribute"),appearance:"outline-fill",kind:"neutral",iconStart:"plus",onClick:this.onAddAttributeExpressionClick},"features"===this.recordsTerm?this.strings.attributeExpression:this.strings.expression),"sql"!==this.mode&&t.h(t.Fragment,null,t.h("calcite-button",{disabled:!1===e.has("spatial"),ref:e=>{e&&(this.addSpatialExpressionButtonRef=e)},appearance:"outline-fill",kind:"neutral",iconStart:"plus",onClick:this.onAddSpatialExpressionClick},this.strings.spatialExpression),!1===e.has("spatial")&&t.h("calcite-tooltip",{label:this.strings.spatialExpressionTwoLayers,referenceElement:this.addSpatialExpressionButtonRef,ref:e=>this.spatialExpressionButtonTooltipRef=e,overlayPositioning:"fixed",placement:"top"},this.strings.spatialExpressionTwoLayers)),t.h("calcite-button",{disabled:!1===e.has("group"),appearance:"outline-fill",kind:"neutral",iconStart:"group-form-plus",onClick:this.onAddGroupClick},this.strings.expressionGroup))}renderExpressionDropdown(){const e=new Set(this.allowedExpressions);return this.depth>=2&&e.delete("group"),"analysis"===this.mode&&r.SpatialExpression.getValidSelectingLayers(this.expressionGroup.layer,this.layers).length<1&&e.delete("spatial"),t.h("calcite-dropdown",{widthScale:"m",overlayPositioning:"fixed"},t.h("calcite-button",{slot:"trigger",appearance:"outline-fill",kind:"neutral",iconStart:"plus",iconEnd:"chevron-down"},this.strings.expression),t.h("calcite-dropdown-group",null,e.has("attribute")&&t.h("calcite-dropdown-item",{onCalciteDropdownItemSelect:this.onAddAttributeExpressionClick},"features"===this.recordsTerm?this.strings.attributeExpression:this.strings.expression),e.has("spatial")&&t.h("calcite-dropdown-item",{onCalciteDropdownItemSelect:this.onAddSpatialExpressionClick},this.strings.spatialExpression),e.has("group")&&t.h("calcite-dropdown-item",{onCalciteDropdownItemSelect:this.onAddGroupClick},this.strings.expressionGroup)))}get hostElement(){return this}static get style(){return":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:#d4d4d4;--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh}.operator-container{display:flex}.group-content-container{width:calc(100% - 2 * var(--analysis-half-spacing) - 2px);padding:var(--analysis-half-spacing);background-color:var(--calcite-color-background);border:1px solid var(--calcite-color-border-1)}.add-btns-container{display:flex;gap:var(--analysis-quarter-spacing)}.error-message{margin-top:var(--analysis-half-spacing)}"}},[0,"analysis-expression-group",{expressionGroup:[1040],mode:[513],allowedExpressions:[16],layers:[16],recordsTerm:[1,"records-term"],options:[16],cache:[16],depth:[2],error:[32]}]);function Ke(){"undefined"!=typeof customElements&&["analysis-expression-group","analysis-attribute-expression","analysis-expression-group","analysis-query-entry","analysis-spatial-expression"].forEach((e=>{switch(e){case"analysis-expression-group":customElements.get(e)||customElements.define(e,Qe);break;case"analysis-attribute-expression":customElements.get(e)||u.defineCustomElement();break;case"analysis-expression-group":customElements.get(e)||Ke();break;case"analysis-query-entry":customElements.get(e)||h.defineCustomElement();break;case"analysis-spatial-expression":customElements.get(e)||d.defineCustomElement()}}))}Ke(),e.AnalysisExpressionGroup=Qe,e.ExpressionGroup=Ne,e.HTMLClasses$1={errorNotice:"error-notice"},e.assignValue=O,e.baseAssignValue=A,e.cloneBuffer=X,e.cloneTypedArray=ne,e.copyArray=g,e.copyObject=L,e.defineCustomElement=Ke,e.flatRest=B,e.getAllKeysIn=Z,e.initCloneObject=je,e.isPlainObject=V,e.keysIn=$,e.omit$1=De,e.overRest=I,e.setToString$1=j}));