define(["exports","./index-60d8a971","./index2-31657c04","./utils-c381fe27","./analysis-label2-5082e9b8","./analysis-multiple-input2-4cf30ddf"],(function(e,t,i,a,s,n){"use strict";const l=t.proxyCustomElement(class extends t.H{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.analysisNumberInputChange=t.createEvent(this,"analysisNumberInputChange",7),this.analysisHelpClick=t.createEvent(this,"analysisHelpClick",7),this.renderSingleInput=()=>void 0===this.choiceList?this.renderInput():this.renderCombobox(),this.renderInput=()=>{const e=void 0!==this.errorMessage?i.UIInputStatus.INVALID:i.getUIInputStatusFromMessageType(this.validationParams?.type),s=this.doCalciteInputChangeOnCommit?{onCalciteInputChange:this.inputChanged}:{onCalciteInputInput:this.inputChanged};return t.h("calcite-input",{type:"number",value:i.sanitizeNumber(this.value),status:e,placeholder:this.placeholderText??this.strings.inputPlaceholderText,step:this.isFloatType?"any":1,readOnly:this.readOnly,required:this.required||void 0,min:this.min,max:this.max,scale:this.scale??a.UIDefaults.Scale,groupSeparator:!0,...s})},this.renderCombobox=()=>{const e=this.choiceList?.map((e=>this.buildComboBoxItem(i.sanitizeNumber(e),e===this.value)));return t.h("calcite-combobox",{scale:this.scale??a.UIDefaults.Scale,label:this.label??this.strings.comboboxLabel,selectionMode:"single",placeholder:this.placeholderText??this.strings.comboboxPlaceholderText,clearDisabled:!0},e)},this.buildComboBoxItem=(e,i)=>t.h("calcite-combobox-item",{key:e,value:e,textLabel:e,selected:i,onCalciteComboboxItemChange:this.comboboxItemChanged}),this.renderAnalysisMultiInput=()=>{const e=this.value?.map((e=>i.sanitizeNumber(e))),a=this.choiceList?.map((e=>i.sanitizeNumber(e))),{isFloatType:s,min:n,max:l,excludeMinValue:o,excludeMaxValue:u,minValues:r,maxValues:h}=this,d={isFloatType:s,min:n,max:l,excludeMinValue:o,excludeMaxValue:u,minValues:r,maxValues:h};return t.h("analysis-multiple-input",{dataType:"number",value:e,choiceList:a,placeholderText:this.placeholderText,required:this.required,validationOptions:d,validationParams:this.validationParams,ref:e=>{this.multiInputElement=e},onAnalysisMultipleInputChange:e=>{this.value=e.detail.map((e=>i.parseNumber(e))),this.analysisNumberInputChange.emit()}})},this.inputChanged=e=>{if(null!==e.target){const t=(e?.target).value;this.value=i.parseNumber(t),this.analysisNumberInputChange.emit(),this.validate()}},this.comboboxItemChanged=e=>{if(this.isMultiSelect)return;const t=e.target,a=t?.value,s=i.parseNumber(a);this.value!==s&&t?.selected&&(this.value=s,this.analysisNumberInputChange.emit(),this.validate())},this.errorMessage=void 0,this.value=void 0,this.scale=void 0,this.label=void 0,this.doCalciteInputChangeOnCommit=!1,this.numberType=void 0,this.selectionMode=void 0,this.readOnly=!1,this.choiceList=void 0,this.required=void 0,this.validationParams=void 0,this.min=void 0,this.excludeMinValue=void 0,this.max=void 0,this.maxValues=void 0,this.minValues=void 0,this.excludeMaxValue=void 0,this.placeholderText=void 0,this.maxOfValues=void 0,this.hideHelp=!1}onValueChange(){this.maxOfValues=Array.isArray(this.value)?Math.max(...this.value):this.value}onRequiredChange(){this.validate()}async onValidationChange(){void 0!==this.multiInputElement&&(this.multiInputElement.validationOptions=this.formatValidationOptions()),this.errorMessage=void 0,!1===i.isEmptyDataItem(this.value)&&await this.validate()}async componentWillLoad(){({strings:this.strings}=await i.fetchComponentLocaleStrings(this.hostElement,t.getAssetPath("."))),i.isEmptyDataItem(this.value)||this.onValueChange()}get isFloatType(){return void 0===this.numberType||"float"===this.numberType}get isMultiSelect(){return"multi"===this.selectionMode}get formatOptions(){return{min:`${this.min??Number.MIN_SAFE_INTEGER}`,max:`${this.max??Number.MAX_SAFE_INTEGER}`}}render(){const e=void 0!==this.errorMessage,s=i.formatValidationParamsMessage(this.validationParams),n=!1===i.isEmptyDataItem(s)||!0===e,l=e?i.UIInputStatus.INVALID:i.getUIInputStatusFromMessageType(this.validationParams?.type);return t.h(t.Host,{key:"4491cf56b9e02d3d2845f76f5cbd7cc665aec07a"},t.h("calcite-label",{key:"92548fdcbae1a9722b60de31531a339c2fda494e",class:"label",scale:this.scale??a.UIDefaults.Scale},""!==this.label?t.h("analysis-label",{label:this.label,required:this.required,onAnalysisLabelHelpActionClick:()=>this.analysisHelpClick.emit(),hideHelp:this.hideHelp}):null,this.isMultiSelect?this.renderAnalysisMultiInput():this.renderSingleInput(),t.h("calcite-input-message",{key:"df803df200bf0001b460f986ab7924c680f8f67e",status:l,scale:a.UIDefaults.Scale,hidden:!n||this.isMultiSelect,icon:"exclamationMarkTriangle"},this.errorMessage??s)))}async checkValidity(){await this.validate();const e=void 0===this.errorMessage||""===this.errorMessage;return Promise.resolve(e)}async validate(){if(this.isMultiSelect)void 0!==this.multiInputElement&&(this.multiInputElement.errorMessage=void 0),await(this.multiInputElement?.checkValidity()),this.errorMessage=this.multiInputElement?.errorMessage;else{const e=this.value,t=a.validateNumber(e,this.formatValidationOptions()),s=void 0!==t?i.formatMessage(this.strings[t],this.formatOptions):void 0;this.errorMessage=s}}formatValidationOptions(){return{required:this.required,isFloatType:this.isFloatType,excludeMaxValue:this.excludeMaxValue,excludeMinValue:this.excludeMinValue,max:this.max??Number.MAX_SAFE_INTEGER,min:this.min??Number.MIN_SAFE_INTEGER}}static get assetsDirs(){return["t9n"]}get hostElement(){return this}static get watchers(){return{value:["onValueChange"],required:["onRequiredChange"],min:["onValidationChange"],max:["onValidationChange"],excludeMaxValue:["onValidationChange"],excludeMinValue:["onValidationChange"],numberType:["onValidationChange"]}}static get style(){return":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:#d4d4d4;--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh}:host{display:flex;width:var(--analysis-component-default-width);--calcite-color-border-input:var(--analysis-ui-border-input)}:host([hidden]){display:none}.label{width:var(--analysis-component-default-width)}"}},[1,"analysis-number-input",{value:[1026],scale:[513],label:[513],doCalciteInputChangeOnCommit:[4,"do-calcite-input-change-on-commit"],numberType:[513,"number-type"],selectionMode:[513,"selection-mode"],readOnly:[516,"read-only"],choiceList:[16],required:[516],validationParams:[16],min:[514],excludeMinValue:[516,"exclude-min-value"],max:[514],maxValues:[514,"max-values"],minValues:[514,"min-values"],excludeMaxValue:[516,"exclude-max-value"],placeholderText:[513,"placeholder-text"],maxOfValues:[2,"max-of-values"],hideHelp:[516,"hide-help"],errorMessage:[32],checkValidity:[64]},void 0,{value:["onValueChange"],required:["onRequiredChange"],min:["onValidationChange"],max:["onValidationChange"],excludeMaxValue:["onValidationChange"],excludeMinValue:["onValidationChange"],numberType:["onValidationChange"]}]);function o(){"undefined"!=typeof customElements&&["analysis-number-input","analysis-label","analysis-multiple-input"].forEach((e=>{switch(e){case"analysis-number-input":customElements.get(e)||customElements.define(e,l);break;case"analysis-label":customElements.get(e)||s.defineCustomElement();break;case"analysis-multiple-input":customElements.get(e)||n.defineCustomElement()}}))}o(),e.AnalysisNumberInput=l,e.defineCustomElement=o}));