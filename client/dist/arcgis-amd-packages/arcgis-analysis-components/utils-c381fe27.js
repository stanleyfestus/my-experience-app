define(["exports","./index2-31657c04"],(function(e,a){"use strict";const r={Feature_All:"feature",Feature_Extract:"extract",Feature_Point:"feature_point",Feature_MultiPoint:"feature_multiPoint",Feature_Line:"feature_line",Feature_Polygon:"feature_polygon",Feature_Table:"table",Imagery_All:"imagery",Imagery_SingleBand:"imagery_singleBand",Imagery_MultiBand:"imagery_multiBand",Imagery_Integer:"imagery_integer",Imagery_Float:"imagery_float",Imagery_Multidimension:"imagery_multidimension",Imagery_Trend:"imagery_trend",Tile:"tile",Imagery_Change:"imagery_change"},t="invalidIntegerMessage";function i(e,a){const r=e.map((e=>`type:"${e}"`)).join(" OR ");return void 0!==a?`${a} (${r})`:`(${r})`}function n(e){return"3d"===e?.type}const s={esriGeometryPoint:r.Feature_Point,esriGeometryPolyline:r.Feature_Line,esriGeometryPolygon:r.Feature_Polygon,esriGeometryMultipoint:r.Feature_MultiPoint};function l(e){switch(e){case"esriFieldTypeSingle":return"single";case"esriFieldTypeDouble":return"double";case"esriFieldTypeGeometry":return"geometry";case"esriFieldTypeInteger":return["long","integer","big-integer"];case"esriFieldTypeSmallInteger":return"small-integer";case"esriFieldTypeString":return"string";case"esriFieldTypeDate":return"date";default:return}}e.LayerFilterType=r,e.LayerInputActions={Select:"select",Filter:"filter",Reset:"reset",Remove:"remove"},e.StatisticType={Any:"any",Count:"count",First:"first",Last:"last",Maximum:"max",Mean:"mean",Minimum:"min",Range:"range",StdDev:"stddev",Sum:"sum",Variance:"variance"},e.UIDefaults={DebounceTimer:400,HelpDebounceTimer:1500,PopoverTimer:60,Scale:"s",MediumScale:"m"},e.addOpenableDomElement=function(e,a){!1===e.body.contains(a)&&(e.body.appendChild(a),a.open=!0)},e.convertParameterFilter=function(e){const a={};switch(e?.type){case"range":a.min=e.minimum,a.max=e.maximum;break;case"featureClass":void 0!==e.list&&(a.layerFilterType=e.list.map((e=>s[e])).filter((e=>void 0!==e)));break;case"field":void 0!==e.list&&(a.fieldTypes=e.list.flatMap(l).filter((e=>void 0!==e)));break;case"file":a.accept=e.list?.filter((e=>void 0!==e))}return a},e.filterVariableLayersByType=function(e){const{layers:t,layerFilterTypes:i}=e,n=[],s=[];if(void 0!==i){if((Array.isArray(i)?i:[i]).includes(r.Feature_Table))return{validLayers:t,filteredLayers:s};t.forEach((e=>{a.isTableLayer(e)?s.push(e):n.push(e)}))}else n.push(...t);return{validLayers:n,filteredLayers:s}},e.formatLayerUrlAndId=function(e){return`${e.url}/${e.layerId}`},e.isDerivedVariableLayer=function(e){return e.includes("derived-")},e.isValidFileExtension=function(e,a){if(void 0===a||0===a.length)return!0;const r=e.split(".").pop();return void 0!==r&&a.includes(r)},e.isValidProtocol=function(e){return new RegExp(/^(http|https|ftp):\/\//i).test(e)},e.makeAllowedGeometriesByType=function(e){const a=Array.isArray(e)?e:[e],t=new Set;let i=!1;return a.forEach((e=>{switch(e){case r.Feature_All:t.add("point"),t.add("multipoint"),t.add("polyline"),t.add("polygon");break;case r.Feature_Point:t.add("point");break;case r.Feature_MultiPoint:t.add("multipoint");break;case r.Feature_Line:t.add("polyline");break;case r.Feature_Polygon:t.add("polygon");break;case r.Feature_Table:t.add("nonspatial");break;case r.Feature_Extract:t.add("point"),t.add("multipoint"),t.add("polyline"),t.add("polygon"),t.add("nonspatial");break;case r.Imagery_All:case r.Imagery_SingleBand:case r.Imagery_MultiBand:case r.Imagery_Integer:case r.Imagery_Float:case r.Imagery_Multidimension:case r.Imagery_Trend:case r.Imagery_Change:i=!0}})),0===t.size||i?void 0:Array.from(t)},e.makePortalSearchFilter=i,e.makePortalSearchFilterByType=function(e){const a=Array.isArray(e)?e:[e],t=new Set;return a.forEach((e=>{switch(e){case r.Feature_Extract:case r.Feature_All:case r.Feature_Point:case r.Feature_MultiPoint:case r.Feature_Line:case r.Feature_Polygon:case r.Feature_Table:t.add("Feature Service"),t.add("Map Service");break;case r.Imagery_All:case r.Imagery_SingleBand:case r.Imagery_MultiBand:case r.Imagery_Integer:case r.Imagery_Float:case r.Imagery_Multidimension:case r.Imagery_Trend:case r.Imagery_Change:t.add("Image Service");break;default:t.add("Feature Service"),t.add("Image Service"),t.add("Map Service")}})),i(Array.from(t))},e.makePortalSearchQByType=function(e,a,t){const i=Array.isArray(a)?a:[a],s=void 0===t?'(-typekeywords: "Hosted Service" AND type: "Image Service") OR (servicetags: "allowAnalysis"':`(-typekeywords: "Hosted Service" AND type: "Image Service") OR ((servicetags: "allowAnalysis" OR orgid: ${t}) AND type: "Image Service"`;let l="";const o=[];if(i.forEach((e=>{switch(e){case r.Imagery_SingleBand:o.push("(bandcount: 1)");break;case r.Imagery_MultiBand:o.push("(bandcount: [2 TO 65536])");break;case r.Imagery_Integer:o.push('(NOT (servicetags: "PixelTypeF32" OR servicetags: "PixelTypeF64"))');break;case r.Imagery_Float:o.push('(servicetags: "PixelTypeF32" OR servicetags: "PixelTypeF64")');break;case r.Imagery_Multidimension:o.push('(servicetags: "hasMultidimensions")');break;case r.Imagery_All:case r.Imagery_Trend:case r.Imagery_Change:o.push("i");break;case r.Feature_All:case r.Feature_Point:case r.Feature_MultiPoint:case r.Feature_Line:case r.Feature_Polygon:case r.Feature_Table:case r.Feature_Extract:o.push("f")}})),o.length>0&&!o.every((e=>"f"===e))){const e=o.filter((e=>e.length>1));l=e.length>0?`${s} AND (${e.join(" OR ")}))`:`${s})`,l=o.indexOf("f")>-1?`(${l} OR (type: "Feature Service"))`:`(${l})`}return n(e)?`${l} -typekeywords: "Table"`:l},e.removeOpenableDomElement=function(e){void 0!==e&&(e.open=!1,e.remove())},e.removeUnsupportedLayerTypesForScenes=function(e){return null==e?e:(Array.isArray(e)||(e=[e]),e.includes(r.Feature_Table)?e.filter((e=>e!==r.Feature_Table)):e.includes(r.Feature_All)?(e.push(r.Feature_Polygon,r.Feature_Line,r.Feature_MultiPoint,r.Feature_Point),e.filter((e=>e!==r.Feature_All))):e)},e.validateNumber=(e,r)=>{const{required:i,isFloatType:n,excludeMinValue:s,excludeMaxValue:l,min:o,max:u}=r;let c;return a.isValidNumber(e)?!1!==n||Number.isInteger(e)?void 0!==o&&void 0!==e&&(e<o||!0===s&&e<=o)?c=!0===s?"strictlyMinimumMessage":"belowMinimumMessage":void 0!==u&&void 0!==e&&(e>u||!0===l&&e>=u)&&(c=!0===l?"strictlyMaximumMessage":"aboveMaximumMessage"):c=t:void 0!==e?c=!0===n?"invalidDoubleMessage":t:!0===i&&(c="requiredInputMessage"),c},e.viewIsSceneView=n}));