System.register(["jimu-core","jimu-for-builder","jimu-theme","jimu-ui"],(function(e,t){var s={},i={},r={},o={};return{setters:[function(e){s.GuideLevels=e.GuideLevels,s.GuideManager=e.GuideManager,s.GuideTypes=e.GuideTypes,s.React=e.React,s.appActions=e.appActions,s.css=e.css,s.getAppStore=e.getAppStore,s.jimuHistory=e.jimuHistory,s.jsx=e.jsx,s.polished=e.polished,s.privilegeUtils=e.privilegeUtils,s.utils=e.utils},function(e){i.ExpressModeSwitch=e.ExpressModeSwitch,i.helpUtils=e.helpUtils,i.utils=e.utils},function(e){r.utils=e.utils},function(e){o.Nav=e.Nav,o.NavItem=e.NavItem,o.NavLink=e.NavLink,o.Navbar=e.Navbar,o.UserProfile=e.UserProfile}],execute:function(){e((()=>{var e={905:e=>{e.exports="data:image/png;base64,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"},244:e=>{"use strict";e.exports=s},108:e=>{"use strict";e.exports=i},888:e=>{"use strict";e.exports=r},321:e=>{"use strict";e.exports=o}},t={};function l(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,l),r.exports}l.d=(e,t)=>{for(var s in t)l.o(t,s)&&!l.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="";var a={};return l.p=window.jimuConfig.baseUrl,(()=>{"use strict";l.r(a),l.d(a,{__set_webpack_public_path__:()=>c,default:()=>h});var e=l(244),t=l(321),s=l(888);const i={createNew:"Create new",newExperience:"New experience",experiences:"Experiences",templates:"Templates",developerEdition:"Developer Edition"};var r,o=l(108);!function(e){e.AppList="applist",e.TemplateList="templatelist"}(r||(r={}));const n="exb-site-express";class p extends e.React.PureComponent{constructor(t){super(t),this.titleTextInput=e.React.createRef(),this.spanTextInput=e.React.createRef(),this.initIsExpressModeWhenClickForwardOrBackOfBrowser=()=>{this.initIsExpressMode(!1)},this.initIsExpressMode=(t=!0)=>{const{queryObject:s}=this.props;let i=!1;if("express"in s)i="true"===(null==s?void 0:s.express)||"1"===(null==s?void 0:s.express);else if(t){e.utils.readLocalStorage(n)&&(i=!0,e.jimuHistory.changeQueryObject({express:"true"}))}this.toggleExpressMode(i)},this.getHelpUrl=()=>{var e;null===(e=null===o.helpUtils||void 0===o.helpUtils?void 0:o.helpUtils.getHomeHelpLink())||void 0===e||e.then((e=>{e&&this.setState({helpUrl:e})}))},this.focusEditTitle=()=>{this.titleTextInput.current.select()},this.titleTextChange=e=>{const t=e.target.value;this.setState({titleText:t})},this.newApp=()=>{this.setState({menuPopoverOpen:!1}),e.jimuHistory.changePage("template")},this.handleKeydown=e=>{"Enter"===e.key&&this.titleTextInput.current.blur()},this.toggleMenu=()=>{this.setState({menuPopoverOpen:!this.state.menuPopoverOpen})},this.toggleNav=e=>{this.setState({views:e})},this.nls=e=>this.props.intl?this.props.intl.formatMessage({id:e,defaultMessage:i[e]}):e,this.initViews=()=>{const e=this.getQueryString("views");let t=r.AppList;switch(e){case r.AppList:t=r.AppList;break;case r.TemplateList:t=r.TemplateList}this.setState({views:t})},this.checkUserPrivilege=()=>{const{CheckTarget:t}=e.privilegeUtils;e.privilegeUtils.checkExbAccess(t.AppList).then((e=>{this.setState({valid:null==e?void 0:e.valid}),(null==e?void 0:e.valid)&&this.showGuide()}))},this.showGuide=()=>{!!this.getQueryString("express")||this.props.userLocaleChanged||e.GuideManager.getInstance().startGuide({id:"express-mode",type:e.GuideTypes.Program,level:e.GuideLevels.Builder},!0)},this.onSimpleModeToggle=t=>{var s;const{views:i}=this.state;i===r.TemplateList&&(null===(s=this.experiencesLinkRef)||void 0===s||s.click()),e.jimuHistory.changeQueryObject({express:t?"true":null}),this.toggleExpressMode(t)},this.toggleExpressMode=t=>{window.isExpressBuilder=t,clearTimeout(this.toggleExpressModeTimeout),this.toggleExpressModeTimeout=setTimeout((()=>{const i=(0,e.getAppStore)().getState().appConfig,r=t?s.utils.getCustomThemeOfExpressMode():null,o=i.set("customTheme",r);(0,e.getAppStore)().dispatch(e.appActions.appConfigChanged(o)),t?e.utils.setLocalStorage(n,`${t}`):e.utils.removeFromLocalStorage(n)}),100),this.setState({isExpressMode:t}),(0,e.getAppStore)().dispatch(e.appActions.widgetStatePropChange("header","isExpressMode",t))},this.appTaskToggle=this.appTaskToggle.bind(this),this.state={appTaskDropdown:!1,titleText:"",titleLength:0,menuPopoverOpen:!1,views:r.AppList,valid:!1,helpUrl:"#",isExpressMode:!1}}componentDidMount(){this.checkUserPrivilege(),this.initViews(),this.getHelpUrl(),this.initIsExpressMode(),window.addEventListener("popstate",this.initIsExpressModeWhenClickForwardOrBackOfBrowser)}componentWillUnmount(){window.removeEventListener("popstate",this.initIsExpressModeWhenClickForwardOrBackOfBrowser)}getStyle(){const t=this.props.theme,s=window.jimuConfig.isDevEdition?`"(${this.nls("developerEdition")})"`:"";return e.css`
      min-width: ${e.polished.rem(960)};
      min-height: ${e.polished.rem(50)};
      h6.express-mode-con {
        margin-bottom: 0;
        font-weight: 400;
        color: var(--sys-color-surface-overlay-hint);
      }
      .widget-site-header {
        background-color: ${t.ref.palette.neutral[500]};
        border: 1px solid ${t.ref.palette.neutral[700]};
        padding-left: ${e.polished.rem(16)};
        .header-nav-bar-con {
          & {
            margin-left:${e.polished.rem(92)};
            padding-top: 0;
            padding-bottom: 0;
            height: 100%;
          }
          .jimu-nav {
            border:none;
            height: 100%;
          }
          .navbar-nav .nav-item {
            margin-left: ${e.polished.rem(20)};
            overflow: inherit;
          }
          .navbar-nav .nav-link {
            color: ${t.ref.palette.neutral[1e3]};
            white-space: nowrap;
            line-height: ${e.polished.rem(30)};
            margin-left: ${e.polished.rem(12)};
            width: auto;
            font-weight: 300;
          }
          .navbar-nav .nav-link .jimu-nav-link-wrapper{
            margin-bottom: ${e.polished.rem(-4)};
          }
          .nav-link.active {
            color: ${t.ref.palette.black};
            font-weight: 500;
            box-sizing: border-box;
            border-color: var(--sys-color-primary-light);
          }
          .navbar-nav .nav-link:hover, .navbar-nav .nav-link:focus {
            color: ${t.ref.palette.black};
          }
        }
        .header-logo {
          .header-logo-item {
            height: ${e.polished.rem(24)};
            width: ${e.polished.rem(24)};
          }

          .header-logo-container {
            display: block;
            position: relative;
          }

          .header-logo-label {
            font-size: 14px;
            color: ${t.ref.palette.neutral[1100]};
          }

          .header-logo-label:after {
            color:  #A6A6A6;
            font-size: 10px;
            font-weight: 900;
            content: ${s};
          }

          .header-logo-label:not(:disabled):not(.disabled):active {
            color: ${t.ref.palette.black};
          }
        }



        .header-dropdown {
          float: left;
          color: ${t.ref.palette.black};

          div {
            background-color: ${t.ref.palette.neutral[500]};
          }

          &:hover {
            background-color: ${t.ref.palette.white};
          }
        }

        .header-login {
          cursor: pointer;
          fill: ${t.ref.palette.black};
        }

        .header-dropdown {
          user-select: none;
          transition: none;
        }

        .header-account {
          float: left;
          color: ${t.ref.palette.black};

          div {
            background-color: initial;
          }

        }
        @media (max-width: 1080px) {
          .header-nav-bar-con {
            margin-left:${e.polished.rem(10)};
          }
        }
      }

      .popover-item {
        padding: 0.75rem ${e.polished.rem(16)};

        .popover-item-icon {
          fill: ${t.ref.palette.black};
          color: ${t.ref.palette.black};
        }

        .popover-item-label {
          color: ${t.ref.palette.black}
        }

        &:hover {
          background-color: ${t.sys.color.primary.main};
          color: ${t.ref.palette.black}
        }

      }`}appTaskToggle(){this.setState((e=>({appTaskDropdown:!e.appTaskDropdown})))}getSnapshotBeforeUpdate(e,t){return!(!this.props.queryObject.id||e.queryObject.id===this.props.queryObject.id)}componentDidUpdate(e,t,s){s&&this.setState({titleText:""}),this.spanTextInput.current&&this.state.titleLength!==this.spanTextInput.current.offsetWidth&&this.setState({titleLength:this.spanTextInput.current.offsetWidth+2}),this.props.portalUrl===(null==e?void 0:e.portalUrl)&&this.props.portalSelf===(null==e?void 0:e.portalSelf)||this.getHelpUrl()}getQueryString(e){const t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),s=window.location.search.substr(1).match(t);return null!=s?unescape(s[2]):null}render(){const{isExpressMode:s}=this.state,a=o.utils.getHomePageUrl(s,"experienceslist"),n=o.utils.getHomePageUrl(s,"templatelist");return(0,e.jsx)("div",{css:this.getStyle(),className:"h-100"},(0,e.jsx)("div",{className:"widget-site-header d-flex justify-content-between h-100 border-left-0 border-right-0 border-top-0"},(0,e.jsx)("div",{className:"header-logo d-flex align-items-center"},(0,e.jsx)("img",{className:"header-logo-item mr-2 d-block",alt:"ArcGIS Experience Builder",src:l(905)}),(0,e.jsx)("div",null,(0,e.jsx)("h4",{className:"mb-0 font-weight-normal header-logo-container"},(0,e.jsx)("a",{className:"header-logo-label px-0",href:`${window.jimuConfig.mountPath}`},"ArcGIS Experience Builder   "))),this.state.valid&&!s&&(0,e.jsx)(t.Navbar,{className:"header-nav-bar-con",border:!1,light:!0},(0,e.jsx)(t.Nav,{underline:!0,navbar:!0,justified:!0,fill:!0},(0,e.jsx)(t.NavItem,{onClick:()=>{this.toggleNav(r.AppList)},className:"link-con"},(0,e.jsx)(t.NavLink,{ref:e=>{this.experiencesLinkRef=e},active:this.state.views===r.AppList,to:a},this.props.intl.formatMessage({id:"experiences",defaultMessage:i.experiences}))),(0,e.jsx)(t.NavItem,{onClick:()=>{this.toggleNav(r.TemplateList)}},(0,e.jsx)(t.NavLink,{active:this.state.views===r.TemplateList,to:n},this.props.intl.formatMessage({id:"templates",defaultMessage:i.templates})))))),(0,e.jsx)("span",{className:"px-1 border font-weight-normal",style:{fontSize:"16px",position:"absolute",opacity:0,whiteSpace:"pre",zIndex:-1},ref:this.spanTextInput},this.state.titleText),(0,e.jsx)("div",{className:"float-right d-flex align-items-center",style:{margin:"10.5px 16px"}},(0,e.jsx)(o.ExpressModeSwitch,{checked:s,onChange:this.onSimpleModeToggle}),this.props.user&&(0,e.jsx)(t.UserProfile,{user:this.props.user,portalUrl:this.props.portalUrl,helpUrl:this.state.helpUrl}))))}}p.mapExtraStateProps=e=>({queryObject:e.queryObject,userLocaleChanged:e.userLocaleChanged});const h=p;function c(e){l.p=e}})(),a})())}}}));