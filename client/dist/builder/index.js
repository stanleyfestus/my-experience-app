System.register(["jimu-arcgis","jimu-core","jimu-for-builder","jimu-for-builder/service","jimu-for-builder/templates","jimu-layouts/layout-runtime","jimu-ui"],(function(e,n){var t={},i={},o={},r={},s={},a={},c={};return{setters:[function(e){t.ArcGISDataSourceFactoryUriExtension=e.ArcGISDataSourceFactoryUriExtension,t.ArcGISDependencyDefineExtension=e.ArcGISDependencyDefineExtension,t.init=e.init},function(e){i.AppRoot=e.AppRoot,i.ExtensionManager=e.ExtensionManager,i.React=e.React,i.ReactDOMClient=e.ReactDOMClient,i.SessionManager=e.SessionManager,i.appActions=e.appActions,i.extensionSpec=e.extensionSpec,i.getAppStore=e.getAppStore,i.init=e.init,i.privilegeUtils=e.privilegeUtils},function(e){o.AppStateHistoryExtension=e.AppStateHistoryExtension,o.AppStateReduxStoreExtension=e.AppStateReduxStoreExtension,o.BuilderStateReduxStoreExtension=e.BuilderStateReduxStoreExtension,o.BuilderStateResourceExtension=e.BuilderStateResourceExtension,o.builderAppSync=e.builderAppSync,o.init=e.init},function(e){r.userServices=e.userServices},function(e){s.init=e.init},function(e){a.init=e.init},function(e){c.init=e.init}],execute:function(){e((()=>{"use strict";var e={2686:e=>{e.exports=t},9244:e=>{e.exports=i},4108:e=>{e.exports=o},9860:e=>{e.exports=r},6884:e=>{e.exports=s},1496:e=>{e.exports=a},4321:e=>{e.exports=c}},n={};function p(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,p),o.exports}p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var x={};p.r(x);var u=p(9244),S=p(4108),E=p(2686),g=p(1496),d=p(4321),l=p(6884),A=p(9860);let R=!1;return window.addEventListener("message",(e=>{"EXB_EXTENSION_PASS_PRIVILEGE_CHECK"===e.data.type&&(R=!0)})),window.__EXB_MESSAGE_EVENT_LISTENER_FOR_EXTENSION_READY__=!0,(0,u.init)().then(d.init).then(g.init).then(S.init).then(l.init).then(E.init).then((()=>{u.ExtensionManager.getInstance().registerExtension({epName:u.extensionSpec.ExtensionPoints.ReduxStore,extension:new S.AppStateReduxStoreExtension}),u.ExtensionManager.getInstance().registerExtension({epName:u.extensionSpec.ExtensionPoints.ReduxStore,extension:new S.AppStateHistoryExtension}),u.ExtensionManager.getInstance().registerExtension({epName:u.extensionSpec.ExtensionPoints.ReduxStore,extension:new S.BuilderStateReduxStoreExtension}),u.ExtensionManager.getInstance().registerExtension({epName:u.extensionSpec.ExtensionPoints.ReduxStore,extension:new S.BuilderStateResourceExtension}),u.ExtensionManager.getInstance().registerExtension({epName:u.extensionSpec.ExtensionPoints.DependencyDefine,extension:new E.ArcGISDependencyDefineExtension}),u.ExtensionManager.getInstance().registerExtension({epName:u.extensionSpec.ExtensionPoints.DataSourceFactoryUri,extension:new E.ArcGISDataSourceFactoryUriExtension}),S.builderAppSync.listenAppEvents(),function(){const e=u.SessionManager.getInstance();if(e.getMainSession())return;e.gotoSignInPage()}(),u.privilegeUtils.checkExbAccess(u.privilegeUtils.CheckTarget.Builder,R).then((e=>{e.valid||(0,u.getAppStore)().dispatch(u.appActions.hasPrivilegeChanged(e.invalidMessage))})).catch((e=>{console.error(e),(0,u.getAppStore)().dispatch(u.appActions.hasPrivilegeChanged(e.message))})),A.userServices.initUserResource();u.ReactDOMClient.createRoot(document.getElementById("app")).render(u.React.createElement(u.AppRoot,null))})).catch((e=>{console.error(e)})),x})())}}}));