System.register(["jimu-core","jimu-core/dnd","jimu-ui","jimu-layouts/layout-runtime","jimu-for-builder","jimu-layouts/layout-builder","jimu-theme"],(function(e,t){var o={},r={},n={},i={},s={},p={},a={};return{setters:[function(e){o.BrowserSizeMode=e.BrowserSizeMode,o.React=e.React,o.css=e.css,o.getAppStore=e.getAppStore,o.jsx=e.jsx},function(e){r.interact=e.interact},function(e){n.Button=e.Button,n.ButtonGroup=e.ButtonGroup,n.Dropdown=e.Dropdown,n.DropdownButton=e.DropdownButton,n.DropdownItem=e.DropdownItem,n.DropdownMenu=e.DropdownMenu,n.Popper=e.Popper},function(e){i.searchUtils=e.searchUtils},function(e){s.ContentServiceWrapper=e.ContentServiceWrapper,s.LayoutServiceProvider=e.LayoutServiceProvider,s.getAppConfigAction=e.getAppConfigAction,s.widgetService=e.widgetService},function(e){p.GLOBAL_DRAGGING_CLASS_NAME=e.GLOBAL_DRAGGING_CLASS_NAME,p.GLOBAL_H5_DRAGGING_CLASS_NAME=e.GLOBAL_H5_DRAGGING_CLASS_NAME,p.GLOBAL_RESIZING_CLASS_NAME=e.GLOBAL_RESIZING_CLASS_NAME},function(e){a.withBuilderTheme=e.withBuilderTheme}],execute:function(){e((()=>{"use strict";var e={79244:e=>{e.exports=o},26245:e=>{e.exports=r},4108:e=>{e.exports=s},6055:e=>{e.exports=p},41496:e=>{e.exports=i},1888:e=>{e.exports=a},14321:e=>{e.exports=n}},t={};function d(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,d),n.exports}d.d=(e,t)=>{for(var o in t)d.o(t,o)&&!d.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};d.r(u),d.d(u,{default:()=>v});var l=d(79244),c=d(26245),g=d(14321),S=d(41496),h=d(4108),w=d(6055);class m extends l.React.PureComponent{constructor(e){super(e),this.onDropDownToggle=e=>{e.stopPropagation();const{isDropDownOpen:t,onDropDownOpenChange:o}=this.props;if(void 0!==t)o&&o(!t);else{const{isOpen:e}=this.state;this.setState({isOpen:!e})}},this.onItemClick=(e,t)=>{const{isDropDownOpen:o,onDropDownOpenChange:r}=this.props;void 0!==o?r&&r(!1):this.setState({isOpen:!1}),t.event(e,t),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.onDropDownMouseClick=e=>{e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},this.getStyle=()=>{var e,t,o,r;const{theme:n}=this.props;return l.css`
      .card-toggle-button {
        background: ${null===(t=null===(e=null==n?void 0:n.ref.palette)||void 0===e?void 0:e.neutral)||void 0===t?void 0:t[500]};
        border: none;
        &:hover, &[aria-expanded="true"] {
          background: ${null===(r=null===(o=null==n?void 0:n.ref.palette)||void 0===o?void 0:o.neutral)||void 0===r?void 0:r[700]};
        }
      }
    `},this.state={isOpen:!1};const{withBuilderTheme:t}=e;this.MyDropdown=t?t(g.Dropdown):g.Dropdown,this.MyDropdownButton=t?t(g.DropdownButton):g.DropdownButton,this.MyDropdownMenu=t?t(g.DropdownMenu):g.DropdownMenu,this.MyDropdownItem=t?t(g.DropdownItem):g.DropdownItem}render(){const{items:e,toggleContent:t,toggleType:o,menuContent:r,modifiers:n,toggleIsIcon:i,theme:s,isDropDownOpen:p,size:a,appendToBody:d,toggleTitle:u,direction:c,menuCss:g,className:S,showActive:h,activeLabel:w,fluid:m}=this.props;let{isOpen:A}=this.state;A=void 0===p?A:p;const{MyDropdown:v,MyDropdownButton:y,MyDropdownMenu:I,MyDropdownItem:L}=this;return(0,l.jsx)(v,{size:a,toggle:this.onDropDownToggle,direction:c,fluid:m,isOpen:A,className:`my-dropdown ${S}`,css:this.getStyle()},t&&(0,l.jsx)(y,{icon:i,title:u,size:a,type:o,arrow:!1,className:"card-toggle-button"},t&&t(s)),(0,l.jsx)(I,{appendToBody:d,modifiers:n,css:g&&g(s)},r?r(s):e&&e.asMutable().map(((e,t)=>!e.hide&&(0,l.jsx)(L,{key:t,className:"no-user-select",active:h&&e.label===w,onClick:t=>{this.onItemClick(t,e)}},e.label)))))}}var A=d(1888);const v={ButtonGroup:g.ButtonGroup,interact:c.interact,searchUtils:S.searchUtils,getAppConfigAction:h.getAppConfigAction,ContentServiceWrapper:h.ContentServiceWrapper,LayoutServiceProvider:h.LayoutServiceProvider,widgetService:h.widgetService,GLOBAL_DRAGGING_CLASS_NAME:w.GLOBAL_DRAGGING_CLASS_NAME,GLOBAL_RESIZING_CLASS_NAME:w.GLOBAL_RESIZING_CLASS_NAME,GLOBAL_H5_DRAGGING_CLASS_NAME:w.GLOBAL_H5_DRAGGING_CLASS_NAME,withBuilderTheme:A.withBuilderTheme,BuilderDropDown:(0,A.withBuilderTheme)((e=>l.React.createElement(m,Object.assign({},e,{withBuilderTheme:A.withBuilderTheme})))),BuilderPopper:(0,A.withBuilderTheme)(g.Popper),BuilderButton:(0,A.withBuilderTheme)(g.Button),selectionIsSelf:(e,t,o)=>{if(!e||!e.layoutItemId||!e.layoutId)return!1;const r=S.searchUtils.findLayoutItem(o,e);return!(!r||!r.widgetId||r.widgetId!==t)},selectionInCard:(e,t,o,r=!0)=>{if(!e||!e.layoutItemId||!e.layoutId)return!1;let n;if(r)n=S.searchUtils.getRelatedLayoutItemsInWidgetByLayoutInfo(o,e,t,(0,l.getAppStore)().getState().browserSizeMode);else{n=[];const r=S.searchUtils.getRelatedLayoutInfosInWidgetByLayoutInfo(o,e,t,l.BrowserSizeMode.Large)||[],i=S.searchUtils.getRelatedLayoutInfosInWidgetByLayoutInfo(o,e,t,l.BrowserSizeMode.Medium)||[],s=S.searchUtils.getRelatedLayoutInfosInWidgetByLayoutInfo(o,e,t,l.BrowserSizeMode.Small)||[];n=n.concat(r),n=n.concat(i),n=n.concat(s)}return n.length>0&&!!(null==n?void 0:n[0])}};return u})())}}}));