/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-ui"],(function(e,t){var r={},o={};return{setters:[function(e){r.AllDataSourceTypes=e.AllDataSourceTypes,r.CONSTANTS=e.CONSTANTS,r.DataSourceComponent=e.DataSourceComponent,r.DataSourceManager=e.DataSourceManager,r.React=e.React,r.SessionManager=e.SessionManager,r.css=e.css,r.jsx=e.jsx,r.moduleLoader=e.moduleLoader,r.urlUtils=e.urlUtils},function(e){o.WidgetPlaceholder=e.WidgetPlaceholder}],execute:function(){e((()=>{var e,t,n={183:(e,t,r)=>{"use strict";r.d(t,{F:()=>Re,H:()=>F,a:()=>H,b:()=>ke,c:()=>B,g:()=>k,h:()=>A,r:()=>l});const o="hydrated",n=!1;var s=Object.defineProperty,a=new WeakMap,i=e=>a.get(e),l=(e,t)=>a.set(t.$lazyInstance$=e,t),u=(e,t)=>t in e,c=(e,t)=>(0,console.error)(e,t),d=new Map,m=new Map,p="slot-fb{display:contents}slot-fb[hidden]{display:none}",f="undefined"!=typeof window?window:{},$=f.document||{head:{}},h={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,r,o)=>e.addEventListener(t,r,o),rel:(e,t,r,o)=>e.removeEventListener(t,r,o),ce:(e,t)=>new CustomEvent(e,t)},g=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1})(),_=!1,v=[],y=[],w=(e,t)=>r=>{e.push(r),_||(_=!0,t&&4&h.$flags$?j(S):h.raf(S))},b=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){c(e)}e.length=0},S=()=>{b(v),b(y),(_=v.length>0)&&h.raf(S)},j=e=>{return Promise.resolve(t).then(e);var t},x=w(y,!0),k=e=>{const t=new URL(e,h.$resourcesUrl$);return t.origin!==f.location.origin?t.href:t.pathname},R={},C=e=>"object"===(e=typeof e)||"function"===e;function E(e){var t,r,o;return null!=(o=null==(r=null==(t=e.head)?void 0:t.querySelector('meta[name="csp-nonce"]'))?void 0:r.getAttribute("content"))?o:void 0}((e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})})({},{err:()=>I,map:()=>M,ok:()=>T,unwrap:()=>N,unwrapErr:()=>P});var T=e=>({isOk:!0,isErr:!1,value:e}),I=e=>({isOk:!1,isErr:!0,value:e});function M(e,t){if(e.isOk){const r=t(e.value);return r instanceof Promise?r.then((e=>T(e))):T(r)}if(e.isErr){const t=e.value;return I(t)}throw"should never get here"}var L,O,N=e=>{if(e.isOk)return e.value;throw e.value},P=e=>{if(e.isErr)return e.value;throw e.value},A=(e,t,...r)=>{let o=null,n=null,s=!1,a=!1;const i=[],l=t=>{for(let r=0;r<t.length;r++)o=t[r],Array.isArray(o)?l(o):null!=o&&"boolean"!=typeof o&&((s="function"!=typeof e&&!C(o))&&(o=String(o)),s&&a?i[i.length-1].$text$+=o:i.push(s?D(null,o):o),a=s)};if(l(r),t){t.key&&(n=t.key);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,i,U);const u=D(e,null);return u.$attrs$=t,i.length>0&&(u.$children$=i),u.$key$=n,u},D=(e,t)=>{const r={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null};return r},F={},U={forEach:(e,t)=>e.map(q).forEach(t),map:(e,t)=>e.map(q).map(t).map(z)},q=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),z=e=>{if("function"==typeof e.vtag){const t={...e.vattrs};return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),A(e.vtag,t,...e.vchildren||[])}const t=D(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},H=e=>i(e).$hostElement$,B=(e,t,r)=>{const o=H(e);return{emit:e=>W(o,t,{bubbles:!!(4&r),composed:!!(2&r),cancelable:!!(1&r),detail:e})}},W=(e,t,r)=>{const o=h.ce(t,r);return e.dispatchEvent(o),o},V=new WeakMap,G=e=>{const t=e.$cmpMeta$,r=e.$hostElement$,o=t.$flags$,n=(t.$tagName$,()=>{}),s=((e,t)=>{var r;const o=J(t),n=m.get(o);if(e=11===e.nodeType?e:$,n)if("string"==typeof n){e=e.head||e;let s,a=V.get(e);if(a||V.set(e,a=new Set),!a.has(o)){{s=$.createElement("style"),s.innerHTML=n;const t=null!=(r=h.$nonce$)?r:E($);null!=t&&s.setAttribute("nonce",t),e.insertBefore(s,e.querySelector("link"))}4&t.$flags$&&(s.innerHTML+=p),a&&a.add(o)}}else e.adoptedStyleSheets.includes(n)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,n]);return o})(r.shadowRoot?r.shadowRoot:r.getRootNode(),t);10&o&&(r["s-sc"]=s,r.classList.add(s+"-h")),n()},J=(e,t)=>"sc-"+e.$tagName$,X=(e,t,r,o,n,s)=>{if(r!==o){let a=u(e,t),i=t.toLowerCase();if("class"===t){const t=e.classList,n=Q(r),s=Q(o);t.remove(...n.filter((e=>e&&!s.includes(e)))),t.add(...s.filter((e=>e&&!n.includes(e))))}else if("style"===t){for(const t in r)o&&null!=o[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in o)r&&o[t]===r[t]||(t.includes("-")?e.style.setProperty(t,o[t]):e.style[t]=o[t])}else if("key"===t);else if("ref"===t)o&&o(e);else if(a||"o"!==t[0]||"n"!==t[1]){const i=C(o);if((a||i&&null!==o)&&!n)try{if(e.tagName.includes("-"))e[t]=o;else{const n=null==o?"":o;"list"===t?a=!1:null!=r&&e[t]==n||(e[t]=n)}}catch(e){}null==o||!1===o?!1===o&&""!==e.getAttribute(t)||e.removeAttribute(t):(!a||4&s||n)&&!i&&(o=!0===o?"":o,e.setAttribute(t,o))}else if(t="-"===t[2]?t.slice(3):u(f,i)?i.slice(2):i[2]+t.slice(3),r||o){const n=t.endsWith(Y);t=t.replace(Z,""),r&&h.rel(e,t,r,n),o&&h.ael(e,t,o,n)}}},K=/\s/,Q=e=>e?e.split(K):[],Y="Capture",Z=new RegExp(Y+"$"),ee=(e,t,r)=>{const o=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,n=e&&e.$attrs$||R,s=t.$attrs$||R;for(const e of te(Object.keys(n)))e in s||X(o,e,n[e],void 0,r,t.$flags$);for(const e of te(Object.keys(s)))X(o,e,n[e],s[e],r,t.$flags$)};function te(e){return e.includes("ref")?[...e.filter((e=>"ref"!==e)),"ref"]:e}var re=!1,oe=!1,ne=(e,t,r,o)=>{const s=t.$children$[r];let a,i,l=0;if(null!==s.$text$)a=s.$elm$=$.createTextNode(s.$text$);else if(a=s.$elm$=$.createElement(!re&&n&&2&s.$flags$?"slot-fb":s.$tag$),ee(null,s,oe),null!=L&&a["s-si"]!==L&&a.classList.add(a["s-si"]=L),s.$children$)for(l=0;l<s.$children$.length;++l)i=ne(e,s,l),i&&a.appendChild(i);return a["s-hn"]=O,a},se=(e,t,r,o,n,s)=>{let a,i=e;for(i.shadowRoot&&i.tagName===O&&(i=i.shadowRoot);n<=s;++n)o[n]&&(a=ne(null,r,n),a&&(o[n].$elm$=a,ce(i,a,t)))},ae=(e,t,r)=>{for(let o=t;o<=r;++o){const t=e[o];if(t){const e=t.$elm$;ue(t),e&&e.remove()}}},ie=(e,t,r=!1)=>e.$tag$===t.$tag$&&(!!r||e.$key$===t.$key$),le=(e,t,r=!1)=>{const o=t.$elm$=e.$elm$,n=e.$children$,s=t.$children$,a=t.$tag$,i=t.$text$;null===i?(("slot"!==a||re)&&ee(e,t,oe),null!==n&&null!==s?((e,t,r,o,n=!1)=>{let s,a,i=0,l=0,u=0,c=0,d=t.length-1,m=t[0],p=t[d],f=o.length-1,$=o[0],h=o[f];for(;i<=d&&l<=f;)if(null==m)m=t[++i];else if(null==p)p=t[--d];else if(null==$)$=o[++l];else if(null==h)h=o[--f];else if(ie(m,$,n))le(m,$,n),m=t[++i],$=o[++l];else if(ie(p,h,n))le(p,h,n),p=t[--d],h=o[--f];else if(ie(m,h,n))le(m,h,n),ce(e,m.$elm$,p.$elm$.nextSibling),m=t[++i],h=o[--f];else if(ie(p,$,n))le(p,$,n),ce(e,p.$elm$,m.$elm$),p=t[--d],$=o[++l];else{for(u=-1,c=i;c<=d;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===$.$key$){u=c;break}u>=0?(a=t[u],a.$tag$!==$.$tag$?s=ne(t&&t[l],r,u):(le(a,$,n),t[u]=void 0,s=a.$elm$),$=o[++l]):(s=ne(t&&t[l],r,l),$=o[++l]),s&&ce(m.$elm$.parentNode,s,m.$elm$)}i>d?se(e,null==o[f+1]?null:o[f+1].$elm$,r,o,l,f):l>f&&ae(t,i,d)})(o,n,t,s,r):null!==s?(null!==e.$text$&&(o.textContent=""),se(o,null,t,s,0,s.length-1)):null!==n&&ae(n,0,n.length-1)):e.$text$!==i&&(o.data=i)},ue=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(ue)},ce=(e,t,r)=>null==e?void 0:e.insertBefore(t,r),de=(e,t,r=!1)=>{const o=e.$hostElement$,n=e.$cmpMeta$,s=e.$vnode$||D(null,null),a=(i=t)&&i.$tag$===F?t:A(null,null,t);var i;if(O=o.tagName,n.$attrsToReflect$&&(a.$attrs$=a.$attrs$||{},n.$attrsToReflect$.map((([e,t])=>a.$attrs$[t]=o[e]))),r&&a.$attrs$)for(const e of Object.keys(a.$attrs$))o.hasAttribute(e)&&!["key","ref","style","class"].includes(e)&&(a.$attrs$[e]=o[e]);a.$tag$=null,a.$flags$|=4,e.$vnode$=a,a.$elm$=s.$elm$=o.shadowRoot||o,L=o["s-sc"],re=!!(1&n.$flags$),le(s,a,r)},me=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((t=>e.$onRenderResolve$=t)))},pe=(e,t)=>{if(e.$flags$|=16,4&e.$flags$)return void(e.$flags$|=512);me(e,e.$ancestorComponent$);return x((()=>fe(e,t)))},fe=(e,t)=>{const r=e.$hostElement$,o=(e.$cmpMeta$.$tagName$,()=>{}),n=e.$lazyInstance$;if(!n)throw new Error(`Can't render component <${r.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let s;return t&&(s=we(n,"componentWillLoad")),o(),$e(s,(()=>ge(e,n,t)))},$e=(e,t)=>he(e)?e.then(t).catch((e=>{console.error(e),t()})):t(),he=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,ge=async(e,t,r)=>{var o;const n=e.$hostElement$,s=(e.$cmpMeta$.$tagName$,()=>{}),a=n["s-rc"];r&&G(e);const i=(e.$cmpMeta$.$tagName$,()=>{});_e(e,t,n,r),a&&(a.map((e=>e())),n["s-rc"]=void 0),i(),s();{const t=null!=(o=n["s-p"])?o:[],r=()=>ve(e);0===t.length?r():(Promise.all(t).then(r),e.$flags$|=4,t.length=0)}},_e=(e,t,r,o)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,de(e,t,o)}catch(t){c(t,e.$hostElement$)}return null},ve=e=>{e.$cmpMeta$.$tagName$;const t=e.$hostElement$,r=()=>{},o=e.$lazyInstance$,n=e.$ancestorComponent$;we(o,"componentDidRender"),64&e.$flags$?r():(e.$flags$|=64,be(t),r(),e.$onReadyResolve$(t),n||ye()),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&j((()=>pe(e,!1))),e.$flags$&=-517},ye=e=>{be($.documentElement),j((()=>W(f,"appload",{detail:{namespace:"web-components"}})))},we=(e,t,r)=>{if(e&&e[t])try{return e[t](r)}catch(e){c(e)}},be=e=>{var t;return e.classList.add(null!=(t=o)?t:"hydrated")},Se=(e,t,r,o)=>{const n=i(e);if(!n)throw new Error(`Couldn't find host element for "${o.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const s=n.$hostElement$,a=n.$instanceValues$.get(t),l=n.$flags$,u=n.$lazyInstance$;var d,m;d=r,m=o.$members$[t][0],r=null==d||C(d)?d:4&m?"false"!==d&&(""===d||!!d):1&m?String(d):d;const p=Number.isNaN(a)&&Number.isNaN(r);if((!(8&l)||void 0===a)&&(r!==a&&!p)&&(n.$instanceValues$.set(t,r),u)){if(o.$watchers$&&128&l){const e=o.$watchers$[t];e&&e.map((e=>{try{u[e](r,a,t)}catch(e){c(e,s)}}))}2==(18&l)&&pe(n,!1)}},je=(e,t,r)=>{var o,n;const s=e.prototype;if(t.$members$||t.$watchers$||e.watchers){e.watchers&&!t.$watchers$&&(t.$watchers$=e.watchers);const a=Object.entries(null!=(o=t.$members$)?o:{});if(a.map((([e,[o]])=>{(31&o||2&r&&32&o)&&Object.defineProperty(s,e,{get(){return t=e,i(this).$instanceValues$.get(t);var t},set(r){Se(this,e,r,t)},configurable:!0,enumerable:!0})})),1&r){const r=new Map;s.attributeChangedCallback=function(e,o,n){h.jmp((()=>{var a;const l=r.get(e);if(this.hasOwnProperty(l))n=this[l],delete this[l];else{if(s.hasOwnProperty(l)&&"number"==typeof this[l]&&this[l]==n)return;if(null==l){const r=i(this),s=null==r?void 0:r.$flags$;if(s&&!(8&s)&&128&s&&n!==o){const s=r.$lazyInstance$,i=null==(a=t.$watchers$)?void 0:a[e];null==i||i.forEach((t=>{null!=s[t]&&s[t].call(s,n,o,e)}))}return}}this[l]=(null!==n||"boolean"!=typeof this[l])&&n}))},e.observedAttributes=Array.from(new Set([...Object.keys(null!=(n=t.$watchers$)?n:{}),...a.filter((([e,t])=>15&t[0])).map((([e,o])=>{var n;const s=o[1]||e;return r.set(s,e),512&o[0]&&(null==(n=t.$attrsToReflect$)||n.push([e,s])),s}))]))}}return e},xe=async(e,t,o,n)=>{let s;if(!(32&t.$flags$)){t.$flags$|=32;if(o.$lazyBundleId$){const e=(e=>{const t=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$;if(!o)return;const n=d.get(o);return n?n[t]:r(620)(`./${o}.entry.js`).then((e=>(d.set(o,e),e[t])),c)})(o);if(e&&"then"in e){const t=()=>{};s=await e,t()}else s=e;if(!s)throw new Error(`Constructor for "${o.$tagName$}#${t.$modeName$}" was not found`);s.isProxied||(o.$watchers$=s.watchers,je(s,o,2),s.isProxied=!0);const n=(o.$tagName$,()=>{});t.$flags$|=8;try{new s(t)}catch(e){c(e)}t.$flags$&=-9,t.$flags$|=128,n()}else{s=e.constructor;const r=e.localName;customElements.whenDefined(r).then((()=>t.$flags$|=128))}if(s&&s.style){let e;"string"==typeof s.style&&(e=s.style);const t=J(o);if(!m.has(t)){const r=(o.$tagName$,()=>{});((e,t,r)=>{let o=m.get(e);g&&r?(o=o||new CSSStyleSheet,"string"==typeof o?o=t:o.replaceSync(t)):o=t,m.set(e,o)})(t,e,!!(1&o.$flags$)),r()}}}const a=t.$ancestorComponent$,i=()=>pe(t,!0);a&&a["s-rc"]?a["s-rc"].push(i):i()},ke=(e,t={})=>{var r;const o=()=>{},n=[],s=t.exclude||[],l=f.customElements,u=$.head,c=u.querySelector("meta[charset]"),d=$.createElement("style"),m=[];let g,_=!0;Object.assign(h,t),h.$resourcesUrl$=new URL(t.resourcesUrl||"./",$.baseURI).href;let v=!1;if(e.map((e=>{e[1].map((t=>{var r;const o={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};4&o.$flags$&&(v=!0),o.$members$=t[2],o.$attrsToReflect$=[],o.$watchers$=null!=(r=t[4])?r:{};const u=o.$tagName$,c=class extends HTMLElement{constructor(e){if(super(e),this.hasRegisteredEventListeners=!1,((e,t)=>{const r={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};r.$onReadyPromise$=new Promise((e=>r.$onReadyResolve$=e)),e["s-p"]=[],e["s-rc"]=[],a.set(e,r)})(e=this,o),1&o.$flags$)if(e.shadowRoot){if("open"!==e.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${o.$tagName$}! Mode is set to ${e.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else e.attachShadow({mode:"open"})}connectedCallback(){i(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),g&&(clearTimeout(g),g=null),_?m.push(this):h.jmp((()=>(e=>{if(!(1&h.$flags$)){const t=i(e),r=t.$cmpMeta$,o=(r.$tagName$,()=>{});if(1&t.$flags$)(null==t?void 0:t.$lazyInstance$)||(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>{}));else{t.$flags$|=1;{let r=e;for(;r=r.parentNode||r.host;)if(r["s-p"]){me(t,t.$ancestorComponent$=r);break}}r.$members$&&Object.entries(r.$members$).map((([t,[r]])=>{if(31&r&&e.hasOwnProperty(t)){const r=e[t];delete e[t],e[t]=r}})),xe(e,t,r)}o()}})(this)))}disconnectedCallback(){h.jmp((()=>(async e=>{if(!(1&h.$flags$)){const t=i(e);(null==t?void 0:t.$lazyInstance$)||(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>{}))}})(this)))}componentOnReady(){return i(this).$onReadyPromise$}};o.$lazyBundleId$=e[0],s.includes(u)||l.get(u)||(n.push(u),l.define(u,je(c,o,1)))}))})),n.length>0&&(v&&(d.textContent+=p),d.textContent+=n.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",d.innerHTML.length)){d.setAttribute("data-styles","");const e=null!=(r=h.$nonce$)?r:E($);null!=e&&d.setAttribute("nonce",e),u.insertBefore(d,c?c.nextSibling:u.firstChild)}_=!1,m.length?m.map((e=>e.connectedCallback())):h.jmp((()=>g=setTimeout(ye,30))),o()},Re=(e,t)=>t},620:(e,t,r)=>{var o={"./credit-estimator.entry.js":[102,"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-1ff989"],"./detail-table_3.entry.js":[618,"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-f65b46","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-a9e396","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-d76b3b","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-95ce93"],"./error-detail-modal_2.entry.js":[833,"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-a9e396","extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-2040c9"],"./feature-report.entry.js":[491,"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-f65b46","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-a9e396","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-d76b3b","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-d3c1a4"],"./features-preview_5.entry.js":[402,"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-f65b46","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-a9e396","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-d76b3b","vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-08dfc7"],"./file-option-chooser.entry.js":[178,"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-f65b46","extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-fb2c56"],"./report-base.entry.js":[282,"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-5fb91c"],"./sample-report-generator.entry.js":[513,"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-46081b"],"./view-report-link.entry.js":[13,"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-f65b46","extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-903671"]};function n(e){if(!r.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],n=t[0];return Promise.all(t.slice(1).map(r.e)).then((()=>r(n)))}n.keys=()=>Object.keys(o),n.id=620,e.exports=n},213:function(e,t,r){var o,n,s;n=[],void 0===(s="function"==typeof(o=function(){"use strict";function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function o(e,t,r){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){l(o.response,t,r)},o.onerror=function(){console.error("could not download file")},o.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r.g&&r.g.global===r.g?r.g:void 0,i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,r){var i=a.URL||a.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?s(l):n(l.href)?o(e,t,r):s(l,l.target="_blank")):(l.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(l.href)}),4e4),setTimeout((function(){s(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,r,a){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),r);else if(n(e))o(e,r,a);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){s(i)}))}}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return o(e,t,r);var s="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&l||i)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},c.readAsDataURL(e)}else{var d=a.URL||a.webkitURL,m=d.createObjectURL(e);n?n.location=m:location.href=m,n=null,setTimeout((function(){d.revokeObjectURL(m)}),4e4)}});a.saveAs=l.saveAs=l,e.exports=l})?o.apply(t,n):o)||(e.exports=s)},815:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path fill="#000" d="M4.5 3a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1zM4.5 5a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1z"></path><path fill="#000" fill-rule="evenodd" d="M4 7.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5zM5 11v2h3v-2zm4 0v2h2v-2zm0 3h2v2H9zm6 0v2h-3v-2zm-3-3v2h3v-2zm3-3v2h-3V8zM9 8h2v2H9zm-1 6H5v2h3zm0-6v2H5V8z" clip-rule="evenodd"></path><path fill="#000" fill-rule="evenodd" d="M3.5 0A1.5 1.5 0 0 0 2 1.5v17A1.5 1.5 0 0 0 3.5 20h13a1.5 1.5 0 0 0 1.5-1.5v-14a.5.5 0 0 0-.146-.354l-4-4A.5.5 0 0 0 13.5 0zM3 1.5a.5.5 0 0 1 .5-.5H13v3a1 1 0 0 0 1 1h3v13.5a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5zM16.293 4 14 1.707V4z" clip-rule="evenodd"></path></svg>'},244:e=>{"use strict";e.exports=r},321:e=>{"use strict";e.exports=o}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return n[e].call(r.exports,r,r.exports,a),r.exports}a.m=n,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,r)=>(a.f[r](e,t),t)),[])),a.u=e=>"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-1ff989"===e?"widgets/common/feature-report/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-compone-1ff989.js":"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-f65b46"===e?"widgets/common/feature-report/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-f65b46.js":"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-a9e396"===e?"widgets/common/feature-report/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-a9e396.js":"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-d76b3b"===e?"widgets/common/feature-report/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-d76b3b.js":"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-95ce93"===e?"widgets/common/feature-report/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-95ce93.js":"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-2040c9"===e?"widgets/common/feature-report/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-compone-2040c9.js":"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-d3c1a4"===e?"widgets/common/feature-report/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-d3c1a4.js":"vendors-extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-08dfc7"===e?"widgets/common/feature-report/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-08dfc7.js":"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-fb2c56"===e?"widgets/common/feature-report/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-compone-fb2c56.js":"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-5fb91c"===e?"widgets/common/feature-report/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-compone-5fb91c.js":"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-46081b"===e?"widgets/common/feature-report/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-compone-46081b.js":"extensions_widgets_common_feature-report_node_modules_arcgis-survey123_feature-report-compone-903671"===e?"widgets/common/feature-report/chunks/common_feature-report_node_modules_arcgis-survey123_feature-report-compone-903671.js":void 0,a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="exb-client:",a.l=(r,o,n,s)=>{if(e[r])e[r].push(o);else{var i,l;if(void 0!==n)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+n){i=d;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+n),i.src=r),e[r]=[o];var m=(t,o)=>{i.onerror=i.onload=null,clearTimeout(p);var n=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(o))),t)return t(o)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="",(()=>{var e={"widgets/common/feature-report/dist/runtime/widget":0};a.f.j=(t,r)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var n=new Promise(((r,n)=>o=e[t]=[r,n]));r.push(o[2]=n);var s=a.p+a.u(t),i=new Error;a.l(s,(r=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var n=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",i.name="ChunkLoadError",i.type=n,i.request=s,o[1](i)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,n,[s,i,l]=r,u=0;if(s.some((t=>0!==e[t]))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(l)l(a)}for(t&&t(r);u<s.length;u++)n=s[u],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0},r=self.webpackChunkexb_client=self.webpackChunkexb_client||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var i={};return a.p=window.jimuConfig.baseUrl,(()=>{"use strict";a.r(i),a.d(i,{__set_webpack_public_path__:()=>c,default:()=>u});var e=a(244),t=a(321);const r="Feature Report";var o=a(815),n=a.n(o);a(213);var s=a(183);!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}(),(async(e,t)=>{if("undefined"!=typeof window)await void 0,(0,s.b)([["feature-report",[[1,"feature-report",{token:[1],portalUrl:[1,"portal-url"],apiUrl:[1,"api-url"],featureLayerUrl:[1,"feature-layer-url"],surveyItemId:[1,"survey-item-id"],templateItemId:[1,"template-item-id"],queryParameters:[1,"query-parameters"],mergeFiles:[1,"merge-files"],outputFormat:[1,"output-format"],outputReportName:[1,"output-report-name"],outputPackageName:[1,"output-package-name"],packageFiles:[8,"package-files"],uploadInfo:[1,"upload-info"],webmapItemId:[1,"webmap-item-id"],mapScale:[1,"map-scale"],locale:[1],utcOffset:[1,"utc-offset"],show:[1],hide:[1],inputFeatureTemplate:[1,"input-feature-template"],label:[1],reportTemplateIds:[1,"report-template-ids"],clientId:[1,"client-id"],requestSource:[1,"request-source"],where:[32],username:[32],state:[32],visibleConf:[32],checkingList:[32],jobs:[32],error:[32],langTasks:[32],langCommon:[32],langCustomPrint:[32],surveyItemInfo:[32]},null,{templateItemId:["templateItemIdChanged"],queryParameters:["queryParametersChanged"],mergeFiles:["mergeFilesChanged"],outputFormat:["outputFormatChanged"],locale:["localeChanged"],show:["showChanged"],hide:["hideChanged"],inputFeatureTemplate:["inputFeatureTemplateChanged"],label:["labelChanged"],reportTemplateIds:["reportTemplateIdsChanged"],requestSource:["requestSourceChanged"]}]]],["credit-estimator",[[1,"credit-estimator"]]],["report-base",[[1,"report-base",{featureLayerUrl:[1,"feature-layer-url"],token:[1],url:[1],username:[1],surveyItemId:[1,"survey-item-id"],portalUrl:[1,"portal-url"],f:[1],locale:[1]}]]],["sample-report-generator",[[1,"sample-report-generator"]]],["view-report-link",[[1,"view-report-link",{checkingList:[16],langTasks:[32]}]]],["file-option-chooser",[[1,"file-option-chooser",{fileOption:[513,"file-option"],translator:[32],langReport:[32]}]]],["error-detail-modal_2",[[1,"error-detail-modal",{job:[8],open:[4],maxFailedOIDLength:[32]}],[1,"success-detail-modal",{job:[8],open:[4]}]]],["detail-table_3",[[1,"task-info",{job:[8],showDetail:[1,"show-detail"],detailedStatus:[1,"detailed-status"],detailedStatusEle:[1,"detailed-status-ele"],isWaitingToConfirmRemove:[32],isRemoving:[32],isCanceling:[32]}],[1,"detail-table",{job:[8],errorMsg:[32]}],[1,"report-icon",{icon:[8],size:[8],pathData:[32]}]]],["features-preview_5",[[1,"task-list",{jobs:[16],langReport:[32],langCommon:[32],langTasks:[32],state:[32]}],[1,"report-settings",{mergeFiles:[1,"merge-files"],outputFormat:[1,"output-format"],conflictBehavior:[1,"conflict-behavior"],fileName:[1,"file-name"],visibleElems:[16],translator:[32],langReport:[32],helperObj:[32],featureCount:[32],printTemplates:[32]},null,{fileName:["onFileNameChange"]}],[1,"features-preview",{queryParameters:[1,"query-parameters"],inputFeatureTemplate:[1,"input-feature-template"],featureCount:[32],featureStr:[32],translator:[32],reportLang:[32],commonLang:[32]}],[1,"report-generator",{langObj:[8,"lang-obj"],visibleConf:[8,"visible-conf"],templateItemId:[1,"template-item-id"],featureCount:[32],supportShowCredits:[32],printTemplates:[32],creditsInfo:[32],creditStatus:[32],testModeJobObj:[32],isTestModePrinting:[32],isPrinting:[32],translator:[32]}],[1,"template-chooser",{langObj:[8,"lang-obj"],selectedTemplateId:[8,"selected-template-id"],templateIds:[1,"template-ids"],templates:[32],translator:[32]},null,{selectedTemplateId:["selectedTemplateIdChanged"],templateIds:["templateIdsChanged"]}]]]],t)})(window,{resourcesUrl:`${e.urlUtils.getFixedRootPath()}widgets/common/feature-report/dist/runtime/report-component/`});class l extends e.React.PureComponent{constructor(t){super(t),this._dsManager=e.DataSourceManager.getInstance(),this.paramStore=null,this.calciteLoaded=!1,this.prepare=()=>this.loadCalcite(),this.loadCalcite=()=>this.calciteLoaded?Promise.resolve(!0):e.moduleLoader.loadModule("../calcite-components/index.js").then((e=>(this.calciteLoaded=!0,!0))),this.onDataSourceCreated=e=>{},this.onDataSourceInfoChange=t=>{var r;if(!t||"LOADED"!==t.status)return;const o={},n=this._dsManager.getDataSource(this.props.useDataSources[0].dataSourceId);if(n){const t=function(t){let r="",o="",n="";if(!t)return{};r=t.url;let s=!1;if(t.isDataView&&(r=t.getMainDataSource().url,t.dataViewId===e.CONSTANTS.SELECTION_DATA_VIEW_ID)){s=!0,o="";const e=t.getSelectedRecords(),a=t.getIdField()||"objectid";return n=e.map((e=>{const t=e.feature,r=a;return t.attributes[r]})).join(","),{url:r,objectIds:n}}if(!s){const n=t.getCurrentQueryParams();if(t.type===e.AllDataSourceTypes.SubtypeSublayer){const e=t.layer.subtypeCode,r=`${t.layer.subtypeField} = ${e}`;o=n.where?`(${n.where}) and ${r}`:r}else o=n.where;return o=o||"1=1",{url:r,where:o,orderByFields:n.orderByFields}}}(n);"where"in t&&(o.where=t.where),"objectIds"in t&&(o.objectIds=t.objectIds),(null===(r=t.orderByFields)||void 0===r?void 0:r.length)&&(o.orderByFields=t.orderByFields.join(",")),this.setState({featureLayerUrl:t.url,queryParameters:JSON.stringify(o)}),this.updateReportParams()}},this.updateReportParams=()=>{var e,t;const r=this.props.config,o=[].concat(r.hides)||[];this.paramStore={"survey-item-id":r.surveyItemId,"feature-layer-url":null===(e=this.state)||void 0===e?void 0:e.featureLayerUrl,hide:o.join(","),"merge-files":r.mergeFiles,"output-format":r.outputFormat,"output-report-name":r.reportName,locale:this.props.locale,"report-template-ids":(r.reportTemplateIds||[]).join(","),"query-parameters":null===(t=this.state)||void 0===t?void 0:t.queryParameters,"input-feature-template":r.inputFeatureTemplate,"portal-url":this.props.portalUrl||"https://www.arcgis.com"};const n=window.jimuConfig.hostEnv;["dev","qa","beta"].includes(n)&&(this.paramStore["api-url"]=`https://survey123${n}.arcgis.com/api/featureReport`),o.includes("reportSetting")&&(["fileOptions","reportName","saveToAGSAccount","outputFormat"].forEach((e=>{o.includes(e)||o.push(e)})),this.paramStore.hide=o.join(","));const s={};return["inputFeatures","selectTemplate","fileOptions","reportName","saveToAGSAccount","generateReport","showCredits","recentReports","outputFormat","reportSetting"].forEach((e=>{const t=e+"Label";r[t]&&r[t].trim()&&(s[e]=r[t])})),this.paramStore.label=JSON.stringify(s),this.paramStore.hide||delete this.paramStore.hide,this.paramStore.label&&"{}"!==this.paramStore.label||delete this.paramStore.label,"https://www.arcgis.com"===this.paramStore["portal-url"]&&delete this.paramStore["portal-url"],this.paramStore},this.state={featureLayerUrl:"",queryParameters:""}}componentDidMount(){this.prepare()}renderDS(){return(0,e.jsx)("div",null)}render(){var o,s;const a=null===(o=e.SessionManager.getInstance().getMainSession())||void 0===o?void 0:o.token,i=this.props.config,l=this.props.useDataSources&&this.props.useDataSources[0];let u=null;return l&&i.surveyItemId&&(null===(s=this.state)||void 0===s?void 0:s.featureLayerUrl)?(this.updateReportParams(),u=(0,e.jsx)("div",{className:"widget-featureReport"},(0,e.jsx)("feature-report",Object.assign({},this.paramStore,{token:a,"request-source":"ExB/FeatureReportWidget"})))):u=(0,e.jsx)("div",{className:"widget-featureReport"},(0,e.jsx)(t.WidgetPlaceholder,{icon:n(),message:this.props.intl.formatMessage({id:"_widgetLabel",defaultMessage:r}),widgetId:this.props.id})),(0,e.jsx)("div",{css:(this.props.theme,e.css`
  .widget-featureReport{
    // min-width: min-content;
    width: 100%;
    height: 100%;
    overflow: auto;
    feature-report{
      height: 100%;
    }
  }
  `),className:"jimu-widget"},u,(0,e.jsx)("div",{style:{position:"absolute",display:"none"}},(0,e.jsx)(e.DataSourceComponent,{useDataSource:l,query:{},widgetId:this.props.widgetId,onDataSourceCreated:this.onDataSourceCreated,onDataSourceInfoChange:this.onDataSourceInfoChange})))}}l.mapExtraStateProps=e=>({queryObject:e.queryObject});const u=l;function c(e){a.p=e}})(),i})())}}}));