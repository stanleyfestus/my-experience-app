System.register(["jimu-core","jimu-ui","widgets/shared-code/lrs","jimu-ui/advanced/setting-components","jimu-ui/basic/list-tree","jimu-core/react"],(function(e,t){var i={},s={},a={},n={},r={},o={};return{setters:[function(e){i.DataSourceManager=e.DataSourceManager,i.DataSourceTypes=e.DataSourceTypes,i.Immutable=e.Immutable,i.React=e.React,i.ReactRedux=e.ReactRedux,i.SessionManager=e.SessionManager,i.classNames=e.classNames,i.css=e.css,i.getAppStore=e.getAppStore,i.hooks=e.hooks,i.jsx=e.jsx,i.polished=e.polished,i.urlUtils=e.urlUtils},function(e){s.Alert=e.Alert,s.Button=e.Button,s.Checkbox=e.Checkbox,s.Select=e.Select,s.Switch=e.Switch,s.TextInput=e.TextInput,s.Tooltip=e.Tooltip,s.defaultMessages=e.defaultMessages},function(e){a.LrsLayerType=e.LrsLayerType,a.SearchMethod=e.SearchMethod,a.errorMessageDelay=e.errorMessageDelay,a.formatMessage=e.formatMessage,a.getFeatureLayer=e.getFeatureLayer,a.isConflictPreventionEnabled=e.isConflictPreventionEnabled,a.isDefined=e.isDefined,a.isParentNetworkAvailable=e.isParentNetworkAvailable,a.requestService=e.requestService},function(e){n.MapWidgetSelector=e.MapWidgetSelector,n.SettingRow=e.SettingRow,n.SettingSection=e.SettingSection,n.SidePopper=e.SidePopper},function(e){r.List=e.List,r.TreeItemActionType=e.TreeItemActionType},function(e){o.Fragment=e.Fragment}],execute:function(){e((()=>{var e={31027:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M12 6.5c0 .527-.074 1.036-.212 1.518l.912.438a6.5 6.5 0 1 0-6.586 4.533l-.077-1.008A5.5 5.5 0 1 1 12 6.5m-9 0a3.5 3.5 0 0 0 2.88 3.445L5.8 8.901a2.501 2.501 0 1 1 3.194-2.224l.949.456A3.5 3.5 0 1 0 3 6.5M15.5 11l-5 1-3 4-1-9.5zm-5.57.094-1.702 2.269-.542-5.152 4.76 2.38z" clip-rule="evenodd"></path></svg>'},62838:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m8.745 8 6.1 6.1a.527.527 0 1 1-.745.746L8 8.746l-6.1 6.1a.527.527 0 1 1-.746-.746l6.1-6.1-6.1-6.1a.527.527 0 0 1 .746-.746l6.1 6.1 6.1-6.1a.527.527 0 0 1 .746.746z"></path></svg>'},8547:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M7.5 0A3.5 3.5 0 0 1 11 3.5V6h1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1V3.5A3.5 3.5 0 0 1 7.5 0M5 6h5V3.5a2.5 2.5 0 0 0-2.336-2.495L7.5 1a2.5 2.5 0 0 0-2.495 2.336L5 3.5zm6 1H3v8h9V7zm-3.5 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3" clip-rule="evenodd"></path></svg>'},51334:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M16 3.5a3.5 3.5 0 1 0-7 0V6H3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-2V3.5l.005-.164A2.5 2.5 0 0 1 12.5 1l.164.005A2.5 2.5 0 0 1 15 3.5a.5.5 0 0 0 1 0M9 7H3v8h9V7H9m-1.5 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3" clip-rule="evenodd"></path></svg>'},28996:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},79244:e=>{"use strict";e.exports=i},68972:e=>{"use strict";e.exports=o},14321:e=>{"use strict";e.exports=s},79298:e=>{"use strict";e.exports=n},98640:e=>{"use strict";e.exports=r},47626:e=>{"use strict";e.exports=a}},t={};function l(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,l),a.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var i in t)l.o(t,i)&&!l.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="";var d={};return l.p=window.jimuConfig.baseUrl,(()=>{"use strict";l.r(d),l.d(d,{__set_webpack_public_path__:()=>C,default:()=>N});var e,t=l(79244),i=l(14321),s=l(47626);!function(e){e.single="SINGLE",e.multiple="MULTIPLE"}(e||(e={}));const a={blankStatus:"Select a map to import LRS networks",defaultSettings:"Default Settings",defaultEvent:"Event",defaultFromMethod:"From Method",defaultToMethod:"To Method",defaultType:"Type",methodMeasure:"Route and Measure",methodCoordinate:"Coordinate",methodLocationOffset:"Location Offset",operationTypeSingle:"Single Line",operationTypeMultiple:"Multiple Line",loadLayers:"Load Layers",clearLayers:"Clear Layers",useFieldAlias:"Use field alias",configureFields:"Configure Fields",layerConfig:"Layer Configuration",selectMap:"Select Map",noNetworkLayersTips:"No LRS Network layers are present in the selected map. Select a map with LRS network layer/s present in the webmap.",noLineEventLayersTips:"No Line Event layer is present in the selected map. Select a map with Line Event layer/s present in the webmap.",missingParentNetwork:"Parent network is missing",attributeEditable:"Editable",attributeNotEditable:"Not editable",defaultAttributeSet:"Attribute Set",defaultEventSingle:"Event (Single Line)",defaultNetworkMultiple:"Network (Multiple Line)",hideMeasureTooltip:"Routes start/end measures will be used for new events."};var n=l(79298),r=l(98640),o=l(68972),u=l(28996),p=l.n(u),c=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(i[s[a]]=e[s[a]])}return i};const h=e=>{const i=window.SVG,{className:s}=e,a=c(e,["className"]),n=(0,t.classNames)("jimu-icon jimu-icon-component",s);return i?t.React.createElement(i,Object.assign({className:n,src:p()},a)):t.React.createElement("svg",Object.assign({className:n},a))};var g=l(31027),m=l.n(g),f=function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(i[s[a]]=e[s[a]])}return i};const y=e=>{const i=window.SVG,{className:s}=e,a=f(e,["className"]),n=(0,t.classNames)("jimu-icon jimu-icon-component",s);return i?t.React.createElement(i,Object.assign({className:n,src:m()},a)):t.React.createElement("svg",Object.assign({className:n},a))};const v=l(8547),S=l(51334);function b(e){var o;const{widgetId:l,index:d,lrsLayer:u,onLayerChanged:p}=e,c=t.hooks.useTranslation(a),[h,g]=t.React.useState(null==u?void 0:u.name),m=function(e){const{widgetId:i,useDataSourceId:s}=e;return t.ReactRedux.useSelector((e=>{var t;let a;return a=window.jimuConfig.isBuilder?e.appStateInBuilder.appConfig:e.appConfig,(null!==(t=a.widgets[i].useDataSources)&&void 0!==t?t:[]).some((e=>e.dataSourceId===s))}))}({widgetId:l,useDataSourceId:null===(o=null==u?void 0:u.useDataSource)||void 0===o?void 0:o.dataSourceId});t.React.useEffect((()=>{(null==u?void 0:u.name)&&h!==(null==u?void 0:u.name)&&g(null==u?void 0:u.name)}),[null==u?void 0:u.name]);const f=t.React.useCallback(((e,t,i=!1)=>{let s;s=null==t?u.without(e):u.set(e,t),p(d,s,i)}),[p,d,u]),y=t.React.useCallback(((e,t,i=!1)=>{const s=u.eventInfo.set(e,t),a=u.set("eventInfo",s);p(d,a,i)}),[p,d,u]),b=t.React.useCallback((e=>{g(e.target.value)}),[]),w=t.React.useCallback((e=>{e.trim().length>0?f("name",e,!0):g(null==u?void 0:u.name)}),[null==u?void 0:u.name,f]),x=e=>u.eventInfo.attributeFields[e].enabled,L=e=>{const t=u.eventInfo.attributeFields.asMutable({deep:!0});t[e].enabled=!t[e].enabled,y("attributeFields",t,!0)},I={overrideItemBlockInfo:({itemBlockInfo:e},t)=>({name:r.TreeItemActionType.RenderOverrideItem,children:[{name:r.TreeItemActionType.RenderOverrideItemDroppableContainer,withListGroupItemWrapper:!1,children:[{name:r.TreeItemActionType.RenderOverrideItemDraggableContainer,children:[{name:r.TreeItemActionType.RenderOverrideItemBody,children:[{name:r.TreeItemActionType.RenderOverrideItemMainLine,children:[{name:r.TreeItemActionType.RenderOverrideItemDragHandle},{name:r.TreeItemActionType.RenderOverrideItemDetailToggle},{name:r.TreeItemActionType.RenderOverrideItemTitle},{name:r.TreeItemActionType.RenderOverrideItemCommands}]}]}]}]}]})};return(0,t.jsx)("div",{className:"h-100"},(0,t.jsx)("div",{css:t.css`height: 100%; overflow:auto;`},u&&m&&(0,t.jsx)(t.React.Fragment,null,(0,t.jsx)(n.SettingSection,{role:"group","aria-label":c("label"),title:c("label")},(0,t.jsx)(n.SettingRow,null,(0,t.jsx)(i.TextInput,{size:"sm",type:"text",className:"w-100",value:h,onChange:b,onAcceptValue:w,"aria-label":c("label")})),u.layerType===s.LrsLayerType.event&&(0,t.jsx)(n.SettingRow,{flow:"no-wrap",label:c("useFieldAlias")},(0,t.jsx)(i.Switch,{"aria-label":c("useFieldAlias"),checked:u.useFieldAlias,onChange:(e,t)=>{f("useFieldAlias",t,!1)}}))),u.layerType===s.LrsLayerType.event&&(0,t.jsx)(n.SettingSection,{role:"group"},(0,t.jsx)(n.SettingRow,{flow:"wrap",label:c("configureFields")},(0,t.jsx)(r.List,Object.assign({className:"list-routeid-fields pt-2 w-100",showCheckbox:!0,itemsJson:Array.from(u.eventInfo.attributeFields).map(((e,t)=>({itemStateDetailContent:e,itemKey:`${t}`,itemStateChecked:x(t),itemStateTitle:u.useFieldAlias?e.field.alias:e.field.name,itemStateCommands:[{label:e.editable?c("attributeEditable"):c("attributeNotEditable"),iconProps:()=>({icon:e.editable?S:v,size:12}),action:({data:e})=>{const{itemJsons:[t]}=e;(e=>{const t=u.eventInfo.attributeFields.asMutable({deep:!0});t[e].editable=!t[e].editable,y("attributeFields",t,!0)})(+t.itemKey)}}]}))),renderOverrideItemDetailToggle:(e,s)=>{const{itemJsons:a,itemJsons:[{itemStateDetailVisible:n,itemStateDetailContent:r}]}=s.props,[o]=a,l=+o.itemKey;return r?(0,t.jsx)(i.Checkbox,{"aria-expanded":!!n,className:"jimu-tree-item__detail-toggle mr-2",checked:u.eventInfo.attributeFields[l].enabled,onClick:e=>{L(l)}}):null},dndEnabled:!0,onUpdateItem:(e,t)=>{const{itemJsons:i}=t.props,[,s]=i;var a;a=s.map((e=>e.itemStateDetailContent)),y("attributeFields",a,!0)},onClickItemBody:(e,t)=>{const{itemJsons:[i]}=t.props;L(+i.itemKey)}},I)))))))}var w=function(e,t,i,s){return new(i||(i=Promise))((function(a,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function o(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,o)}l((s=s.apply(e,t||[])).next())}))};const x=l(62838);function L(e){const{runningQuery:l,widgetId:d,layers:u=[],mapWidgetIds:p,portalUrl:c,theme:g,setRunningQuery:m,onLayersAdded:f,onLayerRemoved:v,onClearAll:S,onLayerChanged:L,onLayerOrderChanged:I,onMapWidgetedChanged:M,onAttributeSetsChanged:N,intl:C}=e,T=t.React.useRef(null),[j,F]=t.React.useState(!1),[R,D]=t.React.useState(!1),[k,E]=t.React.useState(!1),[O,A]=t.React.useState(!1),[P,H]=t.React.useState(-1),[U,B]=t.React.useState(!1),_=t.hooks.useTranslation(a);let z=l;const J=()=>{const e=null==p?void 0:p[0],t=W(e),i=[];return t.forEach((e=>{var t;const s=null===(t=null==e?void 0:e.getDataSourceJson())||void 0===t?void 0:t.url,a=$(s);i.includes(a)||i.push(a)})),i},W=e=>{var i,s,a,n,r;let o=[];if(!e)return o;const l=(null===(i=null===window||void 0===window?void 0:window.jimuConfig)||void 0===i?void 0:i.isBuilder)?null===(a=null===(s=(0,t.getAppStore)().getState())||void 0===s?void 0:s.appStateInBuilder)||void 0===a?void 0:a.appConfig:null===(n=(0,t.getAppStore)().getState())||void 0===n?void 0:n.appConfig;if(!l)return o;const d=null===(r=l.widgets[e])||void 0===r?void 0:r.useDataSources;if(void 0!==d){d.map((e=>e.dataSourceId)).forEach((e=>{const i=t.DataSourceManager.getInstance().getDataSource(e),s=null==i?void 0:i.getDataSourcesByType(t.DataSourceTypes.FeatureLayer);s&&(o=o.concat(s))}))}return o},V=(e,i)=>w(this,void 0,void 0,(function*(){z=!0,m(!0);let a=!1;const n=e[i];let r=null;const o=t.SessionManager.getInstance().getSessionByUrl(c),l=o&&o.token?o.token:"";return r=l?{f:"json",token:l}:{f:"json"},a=yield(0,s.requestService)({method:"GET",url:n,params:r}).then((e=>{if(!e.hasOwnProperty("lrs"))return F(!0),setTimeout((()=>{F(!1)}),s.errorMessageDelay),!1;q(e),Q(n)})).catch((e=>!1)),a})),q=e=>{const t=null==p?void 0:p[0],i=W(t),a=[],n=[],r=[],o=[],l=[],d=[],c=[];i.forEach((e=>{c.push(e)})),e.networkLayers.forEach((e=>{c.findIndex((t=>t.layerId===e.id.toString()))>-1&&(r.push(e.id),n.push(e.id))})),e.eventLayers.forEach((e=>{c.findIndex((t=>t.layerId===e.id.toString()))>-1&&(o.push(e.id),n.push(e.id),"esriLRSLinearEventLayer"===e.type&&d.push(e))})),e.intersectionLayers.forEach((e=>{c.findIndex((t=>t.layerId===e.id.toString()))>-1&&(l.push(e.id),n.push(e.id))})),i.forEach((e=>{var t,i;const s=null===(t=null==e?void 0:e.getDataSourceJson())||void 0===t?void 0:t.url,r=null==e?void 0:e.getLayerDefinition(),o=-1===u.findIndex((t=>t.id===e.id)),l=n.findIndex((e=>e===r.id))>-1;s&&o&&l&&a.push({dataSourceId:e.id,mainDataSourceId:e.id,dataViewId:e.dataViewId,rootDataSourceId:null===(i=e.getRootDataSource())||void 0===i?void 0:i.id})})),0===u.length&&0===a.length?(F(!0),setTimeout((()=>{F(!1)}),s.errorMessageDelay)):0===r.length?(D(!0),setTimeout((()=>{D(!1)}),s.errorMessageDelay)):0===d.length?(E(!0),setTimeout((()=>{E(!1)}),s.errorMessageDelay)):a.length>0&&K(a,r,o,l)},K=(e,i,s,a)=>w(this,void 0,void 0,(function*(){if(0===(null==e?void 0:e.length))return;const n=yield(()=>w(this,void 0,void 0,(function*(){let n=[];const r=[];return e.forEach((e=>{r.push(t.DataSourceManager.getInstance().createDataSourceByUseDataSource((0,t.Immutable)(e)).then((r=>w(this,void 0,void 0,(function*(){const o=null==r?void 0:r.getLayerDefinition(),l=i.findIndex((e=>e===o.id))>-1,d=s.findIndex((e=>e===o.id))>-1,u=a.findIndex((e=>e===o.id))>-1,p=null==r?void 0:r.url,c=$(p);let h="";l?h=c+"/networkLayers/"+o.id:d?h=c+"/eventLayers/"+o.id:u&&(h=c+"/intersectionLayers/"+o.id),h.length>0&&(yield G(r,e,h,c,l,d,u).then((e=>(e&&(n=n.concat([(0,t.Immutable)(e)])),n))))})))))})),yield Promise.all(r),n})))();f(n)})),G=(e,i,a,n,r,o,l)=>(0,s.getFeatureLayer)(e).then((d=>{const u=t.SessionManager.getInstance().getSessionByUrl(c),p=u&&u.token?u.token:"";let h=null;return h=p?{f:"json",token:p}:{f:"json"},new Promise(((u,p)=>{(0,s.requestService)({method:"POST",url:a,params:h}).then((p=>{p||u(null);const c=d.geometryType,h=d.fields,g=p.type;if("esriLRSNetworkLayer"===g||"esriLRSLinearEventLayer"===g||"esriLRSIntersectionLayer"===g||"point"===c){const d={},c={},g={},m=null==e?void 0:e.getSchema(),f=(null==m?void 0:m.fields)?Object.values(null==m?void 0:m.fields):[],y=p.id;let v=s.LrsLayerType.nonLrs;if(r&&!p.isDerived){v=s.LrsLayerType.network,d.networkUrl=a,d.datasetName=p.datasetName,d.lrsNetworkId=p.lrsNetworkId;const e=p.routeIdFieldName;d.routeIdFieldSchema=f.find((t=>e===t.name));const t=p.routeNameFieldName;d.routeNameFieldSchema=f.find((e=>t===e.name)),d.supportsLines=p.supportsLines;const i=p.lineIdFieldName;d.lineIdFieldSchema=f.find((e=>i===e.name));const n=p.lineNameFieldName;d.lineNameFieldSchema=f.find((e=>n===e.name));const r=p.lineOrderFieldName;d.lineOrderFieldSchema=f.find((e=>r===e.name));const o=p.fromDateFieldName;d.fromDateFieldSchema=f.find((e=>o===e.name));const l=p.toDateFieldName;d.toDateFieldSchema=f.find((e=>l===e.name)),d.useRouteName=p.supportsLines,(0,s.isDefined)(t)&&e.length&&(d.useRouteName=!0),d.measurePrecision=p.measurePrecision,d.unitsOfMeasure=p.unitsOfMeasure;const u=[],c=p.eventLayers;c.length>0&&c.forEach((e=>{u.push(e.name)})),d.eventLayers=u;const h=[],g=p.intersectionLayers;g.length>0&&g.forEach((e=>{h.push(e.name)})),d.intersectionLayers=h}else if(o){v=s.LrsLayerType.event,c.datasetName=p.datasetName,c.eventUrl=a,c.fromDateFieldName=p.fromDateFieldName,c.toDateFieldName=p.toDateFieldName,c.derivedFromMeasureFieldName=p.derivedFromMeasureFieldName,c.derivedRouteIdFieldName=p.derivedRouteIdFieldName,c.derivedRouteNameFieldName=p.derivedRouteNameFieldName,c.derivedToMeasureFieldName=p.derivedToMeasureFieldName,c.fromReferentLocationFieldName=p.fromReferentLocationFieldName,c.fromReferentMethodFieldName=p.fromReferentMethodFieldName,c.fromReferentOffsetFieldName=p.fromReferentOffsetFieldName,c.toReferentLocationFieldName=p.toReferentLocationFieldName,c.toReferentMethodFieldName=p.toReferentMethodFieldName,c.toReferentOffsetFieldName=p.toReferentOffsetFieldName,c.locErrorFieldName=p.locErrorFieldName,c.eventIdFieldName=p.eventIdFieldName,c.routeIdFieldName=p.routeIdFieldName,c.routeNameFieldName=p.routeNameFieldName,c.fromMeasureFieldName=p.fromMeasureFieldName,c.toRouteIdFieldName=p.toRouteIdFieldName,c.toRouteNameFieldName=p.toRouteNameFieldName,c.toMeasureFieldName=p.toMeasureFieldName,c.isPointEvent="esriLRSPointEventLayer"===p.type,c.canSpanRoutes=p.canSpanRoutes;const t=[c.fromDateFieldName,c.toDateFieldName,c.derivedFromMeasureFieldName,c.derivedRouteIdFieldName,c.derivedRouteNameFieldName,c.derivedToMeasureFieldName,c.fromReferentLocationFieldName,c.fromReferentMethodFieldName,c.fromReferentOffsetFieldName,c.toReferentLocationFieldName,c.toReferentMethodFieldName,c.toReferentOffsetFieldName,c.locErrorFieldName,c.eventIdFieldName,c.routeIdFieldName,c.routeNameFieldName,c.fromMeasureFieldName,c.toRouteIdFieldName,c.toRouteNameFieldName,c.toMeasureFieldName],i=null==e?void 0:e.getLayerDefinition(),n=null==i?void 0:i.objectIdField,r=null==i?void 0:i.globalIdField,o=null==i?void 0:i.editFieldsInfo,l="esriGeometryPolyline"===(null==i?void 0:i.geometryType),d=[n,r];if(o&&(d.push(o.creationDateField),d.push(o.creatorField),d.push(o.editDateField),d.push(o.editorField)),l){const e=(null==i?void 0:i.fields).find((e=>"Shape__Length"===e.name));e&&d.push(e.name)}const u=t.map((e=>(0,s.isDefined)(e)?e.toLowerCase():e)),h=d.map((e=>(0,s.isDefined)(e)?e.toLowerCase():e));c.lrsFields=f.filter((e=>u.includes(e.name.toLowerCase())));const g=f.filter((e=>!u.includes(e.name.toLowerCase())&&!h.includes(e.name.toLowerCase()))),m=[];g.forEach((e=>{const t={field:e,enabled:!0,editable:!0,description:""};m.push(t)})),c.attributeFields=m,c.parentNetworkId=p.lrsNetworkId}else if(l){v=s.LrsLayerType.intersection;const e=p.routeIdFieldName;g.routeIdFieldSchema=h.find((t=>e===t.name)),g.parentNetworkId=p.lrsNetworkId}const S={id:e.id,serviceId:y,name:e.getLabel(),originName:e.getLayerDefinition().name,lrsUrl:n,useDataSource:i,layerType:v,networkInfo:d||void 0,eventInfo:c||void 0,intersectionInfo:g||void 0,useFieldAlias:!0},b=(0,t.Immutable)(Object.assign({},S,{layerInfo:S}));u(b)}else u(null)}))}))})),Q=e=>w(this,void 0,void 0,(function*(){const i=e+"/attributeSets";let a=null;const n=t.SessionManager.getInstance().getSessionByUrl(c),r=n&&n.token?n.token:"";a=r?{f:"json",token:r}:{f:"json"};const o={attributeSet:[]};yield(0,s.requestService)({method:"GET",url:i,params:a}).then((e=>{console.log("attribute sets",e);const t=e.attributeSets;(0,s.isDefined)(t)&&t.forEach((e=>{if(!e.isPoint){const t={title:e.title,isDefault:e.isDefault,isPoint:e.isPoint,defaultSettings:e.defaultSettings,layers:e.layers};o.attributeSet.push(t)}})),N(o)})).catch((e=>!1))})),$=e=>{let t=e;return t.includes("FeatureServer")&&(t=t.substring(0,t.indexOf("FeatureServer"))),t.includes("MapServer")&&(t=t.substring(0,t.indexOf("MapServer"))),t+"MapServer/exts/LRServer"},X=t.React.useCallback((()=>{H(-1)}),[]),Y=t.css`
    border-bottom: 1px 
    solid var(--ref-palette-neutral-700);
        
    &.h-100 > 
    .jimu-widget-setting--section {
      border-bottom: none;
    }

    .error-tips {
      font-style: italic;
      font-size: 12px;
      color: var(--ref-palette-neutral-1000);
      margin-top: 5px;
      .display-error-tips {
        width: calc(100% - 20px);
        margin: 0 4px;
        color: ${g.sys.color.error.main};
      }
    }

    .empty-placeholder {
      display: flex;
      flex-flow: column;
      justify-content: center;
      height: calc(100% - 255px);
      overflow: hidden;
      .empty-placeholder-inner {
        padding: 0px 20px;
        flex-direction: column;
        align-items: center;
        display: flex;

        .empty-placeholder-text {
          color: ${g.ref.palette.neutral[1e3]};
          font-size: ${t.polished.rem(14)};
          margin-top: 16px;
          text-align: center;
        }
        .empty-placeholder-icon {
          color: ${g.ref.palette.neutral[800]};
        }
      }
    }
  `,Z={overrideItemBlockInfo:({itemBlockInfo:e},t)=>({name:r.TreeItemActionType.RenderOverrideItem,children:[{name:r.TreeItemActionType.RenderOverrideItemDroppableContainer,withListGroupItemWrapper:!1,children:[{name:r.TreeItemActionType.RenderOverrideItemDraggableContainer,children:[{name:r.TreeItemActionType.RenderOverrideItemBody,children:[{name:r.TreeItemActionType.RenderOverrideItemMainLine,children:[{name:r.TreeItemActionType.RenderOverrideItemDragHandle},{name:r.TreeItemActionType.RenderOverrideItemTitle},{name:r.TreeItemActionType.RenderOverrideItemDetailToggle},{name:r.TreeItemActionType.RenderOverrideItemCommands}]}]}]}]}]})};return(0,t.jsx)("div",{ref:T,css:Y,className:(0,t.classNames)("d-flex flex-column",{"h-100":0===u.length})},(0,t.jsx)(n.SettingSection,{className:"border-0"},(0,t.jsx)(o.Fragment,null,(0,t.jsx)(n.SettingRow,{label:_("selectMap")}),(0,t.jsx)(n.SettingRow,null,(0,t.jsx)(n.MapWidgetSelector,{onSelect:e=>{M(e)},useMapWidgetIds:p})),(0,t.jsx)(n.SettingRow,null,(0,t.jsx)(i.Button,{role:"button",className:"w-100 text-dark",type:"primary",onClick:()=>{if(F(!1),A(!1),D(!1),B(!1),void 0===(null==p?void 0:p[0]))B(!0),setTimeout((()=>{B(!1)}),s.errorMessageDelay);else{const e=J();e.length>1?(A(!0),setTimeout((()=>{A(!1)}),s.errorMessageDelay)):e.length>0?z||V(e,0):(F(!0),setTimeout((()=>{F(!1)}),s.errorMessageDelay))}},title:_("loadLayers"),"aria-label":_("loadLayers")},_("loadLayers"))),u&&u.length>0&&(0,t.jsx)(n.SettingRow,null,(0,t.jsx)(i.Button,{role:"button",className:"w-100 text-dark",type:"primary",onClick:S,title:_("clearLayers"),"aria-label":_("clearLayers")},_("clearLayers"))),j&&(0,t.jsx)("div",{className:"text-break error-tips d-flex align-items-center"},(0,t.jsx)(o.Fragment,null,(0,t.jsx)(h,{color:g.sys.color.error.main}),(0,t.jsx)("div",{className:"display-error-tips"},(0,s.formatMessage)(C,"noLrsLayersTips")))),U&&(0,t.jsx)("div",{className:"text-break error-tips d-flex align-items-center"},(0,t.jsx)(o.Fragment,null,(0,t.jsx)(h,{color:g.sys.color.error.main}),(0,t.jsx)("div",{className:"display-error-tips"},(0,s.formatMessage)(C,"noMapSelectedTips")))),R&&(0,t.jsx)("div",{className:"text-break error-tips d-flex align-items-center"},(0,t.jsx)(o.Fragment,null,(0,t.jsx)(h,{color:g.sys.color.error.main}),(0,t.jsx)("div",{className:"display-error-tips"},_("noNetworkLayersTips")))),k&&(0,t.jsx)("div",{className:"text-break error-tips d-flex align-items-center"},(0,t.jsx)(o.Fragment,null,(0,t.jsx)(h,{color:g.sys.color.error.main}),(0,t.jsx)("div",{className:"display-error-tips"},_("noLineEventLayersTips")))),O&&(0,t.jsx)("div",{className:"text-break error-tips d-flex align-items-center"},(0,t.jsx)(o.Fragment,null,(0,t.jsx)(h,{color:g.sys.color.error.main}),(0,t.jsx)("div",{className:"display-error-tips"},(0,s.formatMessage)(C,"multipleServicesTips")))))),(0,t.jsx)(n.SettingSection,{className:(0,t.classNames)("pt-0 border-0",{"h-100":0===u.length})},(0,t.jsx)(n.SettingRow,null,(0,t.jsx)("div",{className:"setting-ui-unit-list w-100"},(0,t.jsx)(r.List,Object.assign({className:"setting-ui-unit-list-exsiting",itemsJson:u.map(((e,t)=>({itemStateDetailContent:e,itemKey:`${t}`,itemStateChecked:P===t,itemStateTitle:e.name,itemStateCommands:[{label:_("remove"),iconProps:()=>({icon:x,size:12}),action:({data:e})=>{const{itemJsons:[t]}=e,i=+t.itemKey;i===P&&X(),v(i)}}]}))),renderOverrideItemDetailToggle:(e,a)=>{const{itemJsons:n}=a.props,[r]=n;return(0,s.isParentNetworkAvailable)(+r.itemKey,u)?"":(0,t.jsx)(i.Alert,{buttonType:"tertiary",form:"tooltip",size:"small",type:"error",text:_("missingParentNetwork")})},dndEnabled:!0,onUpdateItem:(e,t)=>{const{itemJsons:i}=t.props,[,s]=i;I(s.map((e=>e.itemStateDetailContent)))},onClickItemBody:(e,t)=>{const{itemJsons:[i]}=t.props;var s;s=+i.itemKey,H(s===P?-1:s)}},Z)),u.length===P&&(0,t.jsx)(r.List,Object.assign({className:"setting-ui-unit-list-new",css:t.css`.jimu-tree-item__detail-toggle { display: none !important; }`,itemsJson:[{name:"......"}].map((e=>({itemStateDetailContent:e,itemKey:`${P}`,itemStateChecked:!0,itemStateTitle:e.name,itemStateCommands:[]}))),dndEnabled:!1},Z)))),0===u.length&&(0,t.jsx)("div",{className:"empty-placeholder w-100 h-100"},(0,t.jsx)("div",{className:"empty-placeholder-inner"},(0,t.jsx)("div",{className:"empty-placeholder-icon"},(0,t.jsx)(y,{size:48})),(0,t.jsx)("div",{className:"empty-placeholder-text",id:"edit-blank-msg",dangerouslySetInnerHTML:{__html:_("blankStatus")}}))),(0,t.jsx)(n.SidePopper,{isOpen:P>=0&&!t.urlUtils.getAppIdPageIdFromUrl().pageId,toggle:X,position:"right",trigger:null==T?void 0:T.current,title:_("layerConfig")},(0,t.jsx)(b,{widgetId:d,index:P,total:u.length,lrsLayer:u[P],onLayerChanged:L}))))}var I=function(e,t,i,s){return new(i||(i=Promise))((function(a,n){function r(e){try{l(s.next(e))}catch(e){n(e)}}function o(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,o)}l((s=s.apply(e,t||[])).next())}))};let M;class N extends t.React.PureComponent{constructor(e){super(e),this.updateWidgetJson=(...e)=>{const[t,...i]=e,s=Object.assign(Object.assign({id:this.props.id},t));this.props.onSettingChange(s,...i)},this.updateConfigForOptions=(...e)=>I(this,void 0,void 0,(function*(){let t=null,i=e.reduce(((e,[i,s,a])=>("lrsLayers"===i&&(null==a?void 0:a.dsUpdateRequired)&&(t=this.getAllDataSources(s)),e.set(i,s))),this.props.config);const a=[],n=[],r=[],o=[];if(i.lrsLayers.forEach((e=>{e.layerType===s.LrsLayerType.network?a.push(e.name):e.layerType===s.LrsLayerType.event?(n.push(e.name),e.eventInfo.isPointEvent||r.push(e.name)):e.layerType===s.LrsLayerType.intersection&&o.push(e.name)})),i=i.setIn(["networkLayers"],a),i=i.setIn(["eventLayers"],n),i=i.setIn(["lineEventLayers"],r),i=i.setIn(["intersectionLayers"],o),0===i.lrsLayers.length){const e={index:-1,name:""};i=i.setIn(["defaultEvent"],e),i=i.setIn(["defaultNetwork"],e)}if(a.length>0){const e=i.lrsLayers.find((e=>e.layerType===s.LrsLayerType.network));if((0,s.isDefined)(e)){const t=yield(0,s.isConflictPreventionEnabled)(e.lrsUrl);i=i.setIn(["conflictPreventionEnabled"],t)}}t?this.updateWidgetJson({config:i,useDataSources:Object.values(t.useDataSourceMap)}):this.updateWidgetJson({config:i})})),this.updateLrsList=()=>{},this.getAllDataSources=e=>(0,t.Immutable)(e).asMutable({deep:!0}).reduce(((e,t)=>{const i=t.useDataSource,s=i.dataSourceId;return e.useDataSourceMap[s]=e.useDataSourceMap[s]||i,e.useDataSourceMap[s].fields=i.fields,e}),{useDataSourceMap:{}}),this.addLayers=(e,i=!0)=>{var s,a,n;let r=null!==(s=this.props.config.lrsLayers)&&void 0!==s?s:(0,t.Immutable)([]),o=null!==(n=null===(a=this.props.config.lrsLayers)||void 0===a?void 0:a.length)&&void 0!==n?n:0;e.forEach((e=>{r=t.Immutable.set(r,o,e),o++})),this.updateConfigForOptions(["lrsLayers",r,{dsUpdateRequired:i}])},this.updateLayerItem=(e,i,s=!1)=>{var a;let n=null!==(a=this.props.config.lrsLayers)&&void 0!==a?a:(0,t.Immutable)([]);n=t.Immutable.set(n,e,i),this.updateConfigForOptions(["lrsLayers",n,{dsUpdateRequired:s}])},this.reOrderLayers=e=>{this.updateConfigForOptions(["lrsLayers",e])},this.removeAllLayers=(e=!1)=>{this.setRunningQuery(!1);const t={dsUpdateRequired:e};this.updateConfigForOptions(["lrsLayers",[],t])},this.removeLayer=(e,t=!1)=>{const i={dsUpdateRequired:t},s=this.props.config.lrsLayers.asMutable({deep:!0});s.splice(e,1),this.updateConfigForOptions(["lrsLayers",s,i])},this.mapWidgetIdUpdated=e=>{this.props.onSettingChange({id:this.props.id,useMapWidgetIds:e}),this.removeAllLayers()},this.getI18nMessage=(e,t)=>{const s=Object.assign({},a,i.defaultMessages);return this.props.intl.formatMessage({id:e,defaultMessage:s[e]},t)},this.updateAttributeSets=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("attributeSets",e)})},this.handleDefaultEventChanged=e=>{let t=-1;e.length>0&&this.props.config.lrsLayers.length>0&&(t=this.props.config.lrsLayers.findIndex((t=>t.name===e)));const i={index:t,name:t>=0?this.props.config.lrsLayers[t].name:""};this.props.onSettingChange({id:this.props.id,config:this.props.config.set("defaultEvent",i)})},this.handleDefaultNetworkChanged=e=>{let t=-1;e.length>0&&this.props.config.lrsLayers.length>0&&(t=this.props.config.lrsLayers.findIndex((t=>t.name===e)));const i={index:t,name:this.props.config.lrsLayers[t].name};this.props.onSettingChange({id:this.props.id,config:this.props.config.set("defaultNetwork",i)})},this.handleDefaultFromMethodChanged=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("defaultFromMethod",e)})},this.handleDefaultToMethodChanged=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("defaultToMethod",e)})},this.handleDefaultTypeChanged=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("defaultType",e)})},this.handleDefaultAttributeSetChanged=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("defaultAttributeSet",e)})},this.handleHideMethodChange=(e,t)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("hideMethod",t)})},this.handleHideEventChange=(e,t)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("hideEvent",t)})},this.handleHideNetworkChange=(e,t)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("hideNetwork",t)})},this.handleHideTypeChange=(e,t)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("hideType",t)})},this.handleHideAttributeSetChange=(e,t)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("hideAttributeSet",t)})},this.handleHideMeasuresChange=(e,t)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("hideMeasures",t)})},this.handleHideDatesChange=(e,t)=>{t||this.props.config.useRouteStartEndDate&&this.props.onSettingChange({id:this.props.id,config:this.props.config.set("useRouteStartEndDate",!1)}),setTimeout((()=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("hideDates",t)})}),200)},this.handleUseRouteStartEndDatesChange=(e,t)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("useRouteStartEndDate",t)})},this.setRunningQuery=e=>{M=e},this.state={showLayerPanel:!1,noLrsLayers:!1,noLrsEvents:!1,dsToRemove:null}}componentDidMount(){M=!1}getDefaultEvent(){const e=this.props.config;if(e.defaultEvent.index>=e.lrsLayers.length)return"";if(e.defaultEvent&&e.defaultEvent.index>=0){const t=e.defaultEvent.index,i=e.defaultEvent.name;return i===e.lrsLayers[t].name?i:(this.handleDefaultEventChanged(e.lrsLayers[t].name),e.lrsLayers[t].name)}{const e=this.props.config.lrsLayers.find((e=>e.layerType===s.LrsLayerType.event&&!e.eventInfo.isPointEvent));return this.handleDefaultEventChanged(e.name),e.name}}getDefaultNetworkConfig(){const e=this.props.config;if(e.defaultNetwork.index>=e.lrsLayers.length)return"";if(e.defaultNetwork&&-1!==e.defaultNetwork.index){const t=e.defaultNetwork.index,i=e.defaultNetwork.name;return i===e.lrsLayers[t].name?i:(this.handleDefaultNetworkChanged(e.lrsLayers[t].name),e.lrsLayers[t].name)}{const e=this.props.config.lrsLayers.find((e=>e.layerType===s.LrsLayerType.network));return this.handleDefaultNetworkChanged(e.name),e.name}}getDefaultFromMethod(){return this.props.config.defaultFromMethod||this.handleDefaultFromMethodChanged(this.props.config.defaultFromMethod),this.props.config.defaultFromMethod}getDefaultToMethod(){return this.props.config.defaultToMethod||this.handleDefaultToMethodChanged(this.props.config.defaultToMethod),this.props.config.defaultToMethod}getDefaultType(){return this.props.config.defaultType||this.handleDefaultTypeChanged(this.props.config.defaultType),this.props.config.defaultType}getDefaultAttributeSet(){return this.props.config.defaultAttributeSet?this.props.config.defaultAttributeSet:(this.handleDefaultAttributeSetChanged(this.props.config.attributeSets.attributeSet[0].title),this.props.config.attributeSets.attributeSet[0].title)}getHideMethodConfig(){return this.props.config.hideMethod}getHideEventConfig(){return this.props.config.hideEvent}getHideNetworkConfig(){return this.props.config.hideNetwork}getHideTypeConfig(){return this.props.config.hideType}getHideAttributeSetConfig(){return this.props.config.hideAttributeSet}getHideMeasuresConfig(){return this.props.config.hideMeasures}getHideDatesConfig(){return this.props.config.hideDates}getUseRouteStartEndDatesConfig(){return this.props.config.useRouteStartEndDate}render(){const{config:a}=this.props;return(0,t.jsx)("div",{className:"setting-add-line-event h-100"},(0,t.jsx)("div",{className:"jimu-widget-setting setting-add-line-event__setting-content h-100"},(0,t.jsx)(L,{runningQuery:M,setRunningQuery:this.setRunningQuery,intl:this.props.intl,widgetId:this.props.id,layers:this.props.config.lrsLayers,mapWidgetIds:this.props.useMapWidgetIds,portalUrl:this.props.portalUrl,theme:this.props.theme,onLayersAdded:this.addLayers,onLayerChanged:this.updateLayerItem,onClearAll:this.removeAllLayers,onLayerRemoved:this.removeLayer,onLayerOrderChanged:this.reOrderLayers,onMapWidgetedChanged:this.mapWidgetIdUpdated,onAttributeSetsChanged:this.updateAttributeSets}),a.eventLayers&&0!==a.eventLayers.length&&(0,t.jsx)("div",null,(0,t.jsx)(n.SettingSection,{role:"group",title:this.getI18nMessage("defaultSettings"),"aria-label":this.getI18nMessage("defaultSettings")},(0,t.jsx)(n.SettingRow,{flow:"wrap",label:this.getI18nMessage("defaultEventSingle")},(0,t.jsx)(i.Select,{"aria-label":this.getI18nMessage("defaultEventSingle"),className:"w-100",size:"sm",value:this.getDefaultEvent(),onChange:e=>{this.handleDefaultEventChanged(e.target.value)}},a.lineEventLayers.map(((e,i)=>(0,t.jsx)("option",{key:i,value:e},e))))),(0,t.jsx)(n.SettingRow,{flow:"wrap",label:this.getI18nMessage("defaultNetworkMultiple")},(0,t.jsx)(i.Select,{"aria-label":this.getI18nMessage("defaultNetworkMultiple"),className:"w-100",size:"sm",value:this.getDefaultNetworkConfig(),onChange:e=>{this.handleDefaultNetworkChanged(e.target.value)}},a.networkLayers.map(((e,i)=>(0,t.jsx)("option",{key:i,value:e},e))))),(0,t.jsx)(n.SettingRow,{flow:"wrap",label:this.getI18nMessage("defaultFromMethod")},(0,t.jsx)(i.Select,{"aria-label":this.getI18nMessage("defaultFromMethod"),className:"w-100",size:"sm",value:this.getDefaultFromMethod(),onChange:e=>{this.handleDefaultFromMethodChanged(e.target.value)}},(0,t.jsx)("option",{value:s.SearchMethod.Measure},this.getI18nMessage("methodMeasure")))),(0,t.jsx)(n.SettingRow,{flow:"wrap",label:this.getI18nMessage("defaultToMethod")},(0,t.jsx)(i.Select,{"aria-label":this.getI18nMessage("defaultToMethod"),className:"w-100",size:"sm",value:this.getDefaultToMethod(),onChange:e=>{this.handleDefaultToMethodChanged(e.target.value)}},(0,t.jsx)("option",{value:s.SearchMethod.Measure},this.getI18nMessage("methodMeasure")))),(0,t.jsx)(n.SettingRow,{flow:"wrap",label:this.getI18nMessage("defaultType")},(0,t.jsx)(i.Select,{"aria-label":this.getI18nMessage("defaultType"),className:"w-100",size:"sm",value:this.getDefaultType(),onChange:e=>{this.handleDefaultTypeChanged(e.target.value)}},(0,t.jsx)("option",{value:e.single},this.getI18nMessage("operationTypeSingle")),(0,t.jsx)("option",{value:e.multiple},this.getI18nMessage("operationTypeMultiple")))),(0,s.isDefined)(a.attributeSets)&&(0,s.isDefined)(a.attributeSets.attributeSet)&&(0,t.jsx)(n.SettingRow,{flow:"wrap",label:this.getI18nMessage("defaultAttributeSet")},(0,t.jsx)(i.Select,{"aria-label":this.getI18nMessage("defaultAttributeSet"),className:"w-100",size:"sm",value:this.getDefaultAttributeSet(),onChange:e=>{this.handleDefaultAttributeSetChanged(e.target.value)}},a.attributeSets.attributeSet.map(((e,i)=>(0,t.jsx)("options",{key:i,value:e.title},e.title)))))),(0,t.jsx)(n.SettingSection,{role:"group",title:(0,s.formatMessage)(this.props.intl,"displaySettings"),"aria-label":(0,s.formatMessage)(this.props.intl,"displaySettings")},(0,t.jsx)(n.SettingRow,{label:(0,s.formatMessage)(this.props.intl,"hideType")},(0,t.jsx)(i.Switch,{"aria-label":(0,s.formatMessage)(this.props.intl,"hideType"),checked:this.getHideTypeConfig(),onChange:this.handleHideTypeChange})),(0,t.jsx)(n.SettingRow,{label:(0,s.formatMessage)(this.props.intl,"hideEvent")},(0,t.jsx)(i.Switch,{"aria-label":(0,s.formatMessage)(this.props.intl,"hideEvent"),checked:this.getHideEventConfig(),onChange:this.handleHideEventChange})),(0,t.jsx)(n.SettingRow,{label:(0,s.formatMessage)(this.props.intl,"hideNetwork")},(0,t.jsx)(i.Switch,{"aria-label":(0,s.formatMessage)(this.props.intl,"hideNetwork"),checked:this.getHideNetworkConfig(),onChange:this.handleHideNetworkChange})),(0,t.jsx)(n.SettingRow,{label:(0,s.formatMessage)(this.props.intl,"hideMethod")},(0,t.jsx)(i.Switch,{"aria-label":(0,s.formatMessage)(this.props.intl,"hideMethod"),checked:this.getHideMethodConfig(),onChange:this.handleHideMethodChange})),(0,t.jsx)(n.SettingRow,{label:(0,s.formatMessage)(this.props.intl,"hideAttributeSet")},(0,t.jsx)(i.Switch,{"aria-label":(0,s.formatMessage)(this.props.intl,"hideAttributeSet"),checked:this.getHideAttributeSetConfig(),onChange:this.handleHideAttributeSetChange})),(0,t.jsx)(n.SettingRow,{label:(0,s.formatMessage)(this.props.intl,"hideMeasures")},(0,t.jsx)(i.Tooltip,{title:this.getI18nMessage("hideMeasureTooltip")},(0,t.jsx)(i.Switch,{"aria-label":(0,s.formatMessage)(this.props.intl,"hideMeasures"),checked:this.getHideMeasuresConfig(),onChange:this.handleHideMeasuresChange}))),(0,t.jsx)("div",{style:{display:"none"}},(0,t.jsx)(n.SettingRow,{label:(0,s.formatMessage)(this.props.intl,"hideDates")},(0,t.jsx)(i.Switch,{"aria-label":(0,s.formatMessage)(this.props.intl,"hideDates"),checked:this.getHideDatesConfig(),onChange:this.handleHideDatesChange})),a.hideDates&&(0,t.jsx)(n.SettingRow,{label:(0,s.formatMessage)(this.props.intl,"useRoutesStartEndDates")},(0,t.jsx)(i.Tooltip,{title:(0,s.formatMessage)(this.props.intl,"useRoutesStartEndDatesTooltip")},(0,t.jsx)(i.Switch,{"aria-label":(0,s.formatMessage)(this.props.intl,"useRoutesStartEndDates"),checked:this.getUseRouteStartEndDatesConfig(),onChange:this.handleUseRouteStartEndDatesChange}))))))))}}function C(e){l.p=e}})(),d})())}}}));