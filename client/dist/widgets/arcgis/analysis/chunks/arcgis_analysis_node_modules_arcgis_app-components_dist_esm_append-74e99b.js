/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_append-74e99b.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_append-74e99b"],{99004:(e,i,r)=>{r.d(i,{c:()=>n,g:()=>t});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},94881:(e,i,r)=>{r.d(i,{c:()=>o,g:()=>s,h:()=>c});var n=r(1391),t=r(10493),a=r(34472),l=r(19832),d=function(e,i){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&i.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)i.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(r[n[t]]=e[n[t]])}return r};function o(e,i){var r;const n=(null==e?void 0:e.type)||null,t=(null==i?void 0:i.type)||null;return t&&(t===n||(null===(r={esriFieldTypeSmallInteger:["esriFieldTypeSmallInteger"],esriFieldTypeInteger:["esriFieldTypeInteger","esriFieldTypeSmallInteger"],esriFieldTypeSingle:["esriFieldTypeSingle","esriFieldTypeDouble"],esriFieldTypeDouble:["esriFieldTypeDouble","esriFieldTypeSingle","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],esriFieldTypeDate:["esriFieldTypeDate"],esriFieldTypeString:["esriFieldTypeString","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeDate","esriFieldTypeGUID","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset","esriFieldTypeBigInteger"],esriFieldTypeGUID:["esriFieldTypeGUID","esriFieldTypeString"],esriFieldTypeOID:["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeInteger"],esriFieldTypeGlobalID:["esriFieldTypeGlobalID","esriFieldTypeGUID","esriFieldTypeString"],esriFieldTypeDateOnly:["esriFieldTypeDateOnly"],esriFieldTypeTimeOnly:["esriFieldTypeTimeOnly"],esriFieldTypeTimestampOffset:["esriFieldTypeTimestampOffset"],esriFieldTypeBigInteger:["esriFieldTypeBigInteger"]}[n])||void 0===r?void 0:r.includes(t)))}function s(e){var i;const{timezone:r,analyzeResults:o,type:s,fieldMappings:c,dataLayer:p,id:u,uidPair:y,addAppendSelectOption:f,sourceDataLayer:T}=e;let m,F;const{publishParameters:g}=o,v=d(o,["publishParameters"]),b="upsert"===f||"update"===f,O=function(e){const i=e.filter((e=>e.source!==`<${l.u.i18n.appendKeyValuePair.noneField}>`)),r=i.map((({source:e,name:i})=>({source:e,name:i})));return r}(c),I=function(e){const i=e.map((e=>e.name));return i}(O),h={dateFieldsTimeReference:{timeZone:r||"UTC",respectsDaylightSaving:!0}},S={sourceTableName:p.name,fieldMappings:(null==O?void 0:O.length)?JSON.stringify(O):null,upsert:b,skipInserts:"update"===f,skipUpdates:!1,useGlobalIds:b&&"esriFieldTypeGlobalID"===(null==y?void 0:y.type),updateGeometry:!b||"attributeAndGeometry"===n.a.addAppendSelectUpdateTypeOption,appendFields:I.length?JSON.stringify(I):null,appendItemId:u,appendUploadFormat:a.a[n.a.type].appendUploadFormat,rollbackOnFailure:!0};"Table"===T.type&&(g.locationType="none");const w=d(g,["layers"]);if("CSV"===s)g.layerInfo.dateFieldsTimeReference=h.dateFieldsTimeReference,F=Object.assign(Object.assign(Object.assign({},h),g),v);else if("Microsoft Excel"===s){const e=function(e,i){const r=Object.assign({},e);r.locationType=(null==i?void 0:i.locationType)||e.locationType,"address"===r.locationType?(r.addressFields=i.addressFields,r.sourceCountry=i.sourceCountry):"coordinates"===r.locationType&&(r.coordinateFieldType=i.coordinateFieldType,"LatitudeAndLongitude"===r.coordinateFieldType?(r.latitudeFieldName=i.latitudeFieldName,r.longitudeFieldName=i.longitudeFieldName):r.coordinateFieldName=i.coordinateFieldName);return r}((0,t.a)({},!0),w);e.dateFieldsTimeReference=h.dateFieldsTimeReference,w.name=p.name,F=Object.assign(Object.assign(Object.assign(Object.assign({},h),{layers:[e]}),w),v)}else F=Object.assign(Object.assign(Object.assign({},h),g),v);return m=Object.assign(Object.assign({},S),{appendSourceInfo:JSON.stringify(F)}),"add"===f?m.upsertMatchingField=T.objectIdField||(null===(i=T.uniqueField)||void 0===i?void 0:i.name):b&&(null==y?void 0:y.isUniqueIndex)&&(m.upsertMatchingField=null==y?void 0:y.name),m}function c(e,i){const r=i.appendErrorMessages;let n=l.u.i18n.error,t=r.appendError;switch(e.code){case"invalidUniqueIdentifier":n=r.invalidUniqueIdentifier.title,t=r.invalidUniqueIdentifier.description;break;case"cannotAddNullData":n=r.cannotAddNullData.title,t=r.cannotAddNullData.description;break;case"exceededMaxFieldLength":n=r.exceededMaxFieldLength.title,t=r.exceededMaxFieldLength.description;break;case"invalidFieldType":n=r.invalidFieldType.title,t=r.invalidFieldType.description}return{title:n,description:t}}},98034:(e,i,r)=>{r.d(i,{e:()=>a,l:()=>l});var n,t=r(99004),a={exports:{}};n=a.exports,t.c,function(e){var i={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",n="next";function t(e){if(e.toLowerCase()===n)return n;var i=e&&e.match(/^(\d)\.(\d+)/);return i&&{major:parseInt(i[1],10),minor:parseInt(i[2],10)}}function a(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function l(e){void 0===e&&(e=r);var i=a(e),l=t(e);if(l!==n&&3===l.major){var d=l.minor<=10?"js/":"";return"".concat(i).concat(d,"esri/css/esri.css")}return"".concat(i,"esri/themes/light/main.css")}function d(e){var i=document.createElement("link");return i.rel="stylesheet",i.href=e,i}function o(e,i){if(i){var r=document.querySelector(i);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function s(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function c(e){return!e||t(e)?l(e):e}function p(e,i){var r=c(e),n=s(r);return n||o(n=d(r),i),n}var u={};function y(e){var i=document.createElement("script");return i.type="text/javascript",i.src=e,i.setAttribute("data-esri-loader","loading"),i}function f(e,i,r){var n;r&&(n=T(e,r));var t=function(){i(e),e.removeEventListener("load",t,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",t,!1)}function T(e,i){var r=function(n){i(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function m(e){void 0===e&&(e={}),u=e}function F(){return document.querySelector("script[data-esri-loader]")}function g(){var e=window.require;return e&&e.on}function v(e){void 0===e&&(e={});var r={};[u,e].forEach((function(e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}));var n=r.version,t=r.url||a(n);return new i.Promise((function(e,i){var a=F();if(a){var l=a.getAttribute("src");l!==t?i(new Error("The ArcGIS API for JavaScript is already loaded (".concat(l,")."))):g()?e(a):f(a,e,i)}else if(g())i(new Error("The ArcGIS API for JavaScript is already loaded."));else{var d=r.css;d&&p(!0===d?n:d,r.insertCssBefore),f(a=y(t),(function(){a.setAttribute("data-esri-loader","loaded"),e(a)}),i),document.body.appendChild(a)}}))}function b(e){return new i.Promise((function(i,r){var n=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.remove(),i(e)}))}))}function O(e,i){if(void 0===i&&(i={}),g())return b(e);var r=F(),n=r&&r.getAttribute("src");return!i.url&&n&&(i.url=n),v(i).then((function(){return b(e)}))}e.utils=i,e.loadModules=O,e.getScript=F,e.isLoaded=g,e.loadScript=v,e.setDefaultOptions=m,e.loadCss=p,Object.defineProperty(e,"__esModule",{value:!0})}(n);const l=async(e,i)=>(await a.exports.loadModules(e,i)).map((e=>e.__esModule&&e.default?e.default:e))}}]);