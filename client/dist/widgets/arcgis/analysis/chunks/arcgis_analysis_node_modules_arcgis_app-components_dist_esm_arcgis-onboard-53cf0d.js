/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-onboard-53cf0d.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-onboard-53cf0d"],{27081:(e,t,i)=>{i.r(t),i.d(t,{arcgis_onboarding:()=>a});var n=i(20536),o=i(37568),r=i(58151);i(91102),i(73807),i(34752),i(98034),i(99004);const a=class{constructor(e){(0,n.r)(this,e),this.arcgisOnboardingHide=(0,n.c)(this,"arcgisOnboardingHide",7),this.arcgisOnboardingClose=(0,n.c)(this,"arcgisOnboardingClose",7),this.arcgisOnboardingLearnMore=(0,n.c)(this,"arcgisOnboardingLearnMore",7),this.alerts={},this.portal=void 0,this.user=void 0,this.features=void 0,this.validFeatures=void 0,this.activeFeature=void 0,this.currentPaneHeight=void 0,this.open=!0,this.showDetails=!1,this.hasRendered=void 0,this.hoverAction=!1}handleFeaturesChange(e){this.setValidFeatures(e)}closeAlert(){this.validFeatures=[]}async componentWillLoad(){const e=await(0,o.g)(this.el);this.i18n=e[0],this.setValidFeatures(this.features)}async componentDidLoad(){requestAnimationFrame((()=>this.hasRendered=!0))}setValidFeatures(e){this.validFeatures=e.filter((e=>{const{id:t,pages:i,expiration:n}=e;return!(0,r.d)(t,!0)&&!window.localStorage.getItem(t)&&(!(n.getTime()<(new Date).getTime())&&(!i||i.some((e=>{var t;return null===(t=window.location.pathname)||void 0===t?void 0:t.includes(e)}))))}))}renderFeatureContent(e){const{banner:t,title:i,id:o,icon:a,content:s,expiration:c}=e;return(0,n.h)("div",null,t&&(0,n.h)("img",{src:t,alt:"",role:"presentation",class:"arcgis-onboarding__banner"}),(0,n.h)("div",{class:"arcgis-onboarding__feature-content"},(0,n.h)("h3",{class:"arcgis-onboarding__title"},i),a&&(0,n.h)("div",{class:"arcgis-onboarding__icon-container"},(0,n.h)("calcite-icon",{scale:"m",class:"arcgis-onboarding__icon",icon:a})),(0,n.h)("div",{class:"arcgis-onboarding__text"},s,(0,n.h)("calcite-label",{layout:"inline",class:"arcgis-onboarding__label",scale:"l"},(0,n.h)("calcite-checkbox",{scale:"l",checked:!0,onCalciteCheckboxChange:e=>{(0,r.u)(o,c,e.currentTarget.checked)}}),this.i18n.dontShow))))}render(){var e;const{i18n:t,user:i,portal:o,activeFeature:a}=this;if(!i||!o||o.isPortal||(null===(e=this.validFeatures)||void 0===e?void 0:e.length)<1)return;const s=a?this.validFeatures[a]:this.validFeatures[0],c=this.hasRendered?this.validFeatures:[this.validFeatures[0]];return(0,n.h)(n.H,null,(0,n.h)("calcite-modal",{open:this.showDetails,class:"arcgis-onboarding__modal",onCalciteModalBeforeOpen:e=>{e.stopPropagation()}},(0,n.h)("h3",{slot:"header",class:"arcgis-onboarding__modal-title"},s.title),(0,n.h)("div",{slot:"content"},this.renderFeatureContent(s)),(0,n.h)("calcite-button",{slot:"back",scale:"l",appearance:"outline-fill",width:"full",onClick:()=>{this.showDetails=!1}},t.dismiss),(0,n.h)("calcite-button",{slot:"primary",scale:"l",appearance:"solid",href:s.learnMore,target:"_blank",width:"full"},t.learnMore)),c.map(((e,i)=>(0,n.h)("calcite-alert",{icon:e.icon,open:!0,label:e.title,kind:"info",key:e.id,onCalciteAlertClose:()=>{this.arcgisOnboardingClose.emit(),this.tooltip.open=!1},ref:t=>{this.alerts[e.id]=t}},(0,n.h)("div",{slot:"title"},e.title),(0,n.h)("div",{slot:"message"},e.description),(0,n.h)("calcite-action",{onMouseOver:e=>{this.hoverAction=!0,this.tooltip.referenceElement=e.target,this.tooltip.open=!0},onMouseOut:()=>{this.hoverAction=!1,this.tooltip.open=!1},onClick:async()=>{this.arcgisOnboardingHide.emit(),this.tooltip.open=!1,this.alerts[e.id]&&(this.alerts[e.id].open=!1),this.tooltip.open=!1,(0,r.u)(e.id,e.expiration,!0)},slot:"actions-end",text:"Don't show this message again",icon:this.hoverAction?"view-hide":"view-visible",textEnabled:!1,id:e.id}),e.content?(0,n.h)("calcite-link",{onClick:()=>{this.activeFeature=i,this.showDetails=!0,(0,r.u)(e.id,e.expiration,!0),this.arcgisOnboardingLearnMore.emit()},slot:"link"},t.learnMore):(0,n.h)("calcite-link",{href:e.learnMore,onClick:()=>{this.arcgisOnboardingLearnMore.emit()},target:"_blank",slot:"link"},e.learnMoreText||t.learnMore)))),(0,n.h)("calcite-tooltip",{ref:e=>{this.tooltip=e}},(0,n.h)("span",null,t.dontShow)))}get el(){return(0,n.d)(this)}static get watchers(){return{features:["handleFeaturesChange"]}}};a.style=".arcgis-onboarding__modal{--calcite-modal-content-padding:0;--calcite-modal-width:500px}.arcgis-onboarding__modal-title{margin:0px;padding:0px;font-size:1.25rem;font-weight:400;color:var(--calcite-color-text-1);line-height:1}.arcgis-onboarding__banner{display:block;height:auto;width:100%}.arcgis-onboarding__feature-content{background-color:var(--calcite-color-background);padding:2rem;padding-top:2rem}.arcgis-onboarding__title{margin:0px;margin-bottom:0.5rem;padding:0px;padding-bottom:1rem;text-align:center;font-size:2rem;font-weight:500;color:var(--calcite-color-text-1);line-height:1.25}.arcgis-onboarding__text{padding-left:1.25rem;padding-right:1.25rem;padding-top:1.25rem}.arcgis-onboarding__icon-container{margin-left:auto;margin-right:auto;margin-bottom:1rem;display:flex;height:6rem;width:6rem;align-items:center;justify-content:center;background-color:var(--calcite-color-foreground-1);border:3px solid var(--calcite-color-brand);border-radius:50%;color:var(--calcite-color-brand)}.arcgis-onboarding__icon{display:block;height:3rem;width:3rem}.arcgis-onboarding__label{padding-top:1.25rem}"},91616:(e,t,i)=>{i.d(t,{a:()=>l,b:()=>g,c:()=>o,d:()=>n,e:()=>r,f:()=>d,g:()=>m,h:()=>u,i:()=>a,m:()=>s,t:()=>c,u:()=>h});const n=(e,t)=>{let i,n="idle";const o=(...o)=>new Promise((r=>{switch(n){case"flushed":n="idle",i?(clearTimeout(i),r(e(...o))):r(null);break;case"invoked":clearTimeout(i),n="idle",r(e(...o));break;case"cancelled":clearTimeout(i),n="idle",r(null);break;default:i&&clearTimeout(i),n="pending",i=setTimeout((()=>(n="idle",r(e(...o)))),t)}}));return o.flush=function(...e){return n="flushed",o(...e)},o.invoke=function(...e){return n="invoked",o(...e)},o.cancel=function(...e){return n="cancelled",o(...e)},o.getStatus=function(){return n},o},o=(e,t)=>{let i;return(...n)=>new Promise((o=>{i||(i=setTimeout((()=>{clearTimeout(i),i=void 0,o(e(...n))}),t))}))};function r(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){return null!=e}async function s(e,t){return await Promise.all([e,c(t)]),e}function c(e){return new Promise((t=>setTimeout(t,e)))}const l=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:i,data:n}=t(e);return[i,n]}))),d=(e,t)=>e.length===t.length&&e.reduce(((e,i)=>e&&t.indexOf(i)>-1),!0);function h(e,t){const i=[],n={};return e.forEach((e=>{const o=t(e);null==n[o]&&(n[o]=e,i.push(e))})),i}function g(e){const t={boolean:{},number:{},string:{}},i=[];return e.filter((e=>{let n=typeof e;return n in t?!t[n].hasOwnProperty(e)&&(t[n][e]=!0):!(i.indexOf(e)>=0)&&i.push(e)}))}const u=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((i,n)=>e.slice(t*n,t+t*n))),m=(e,t)=>e.includes(t)},58151:(e,t,i)=>{i.d(t,{a:()=>d,b:()=>l,c:()=>h,d:()=>r,e:()=>o,g:()=>s,r:()=>c,s:()=>a,u:()=>g});var n=i(91616);function o(e,t,i,n){!function(e,t,i){i=i||{};let n=null==i?void 0:i.expires;if("number"==typeof n){const e=new Date,t=24*n*60*60*1e3;e.setTime(Date.now()+t),n=i.expires=e}"string"!=typeof n&&(null==n?void 0:n.toUTCString)&&(i.expires=n.toUTCString());let o,r=`${e}=${encodeURIComponent(t)}`;for(o in i){r+=`; ${o}`;const e=i[o];!0!==e&&(r+=`=${e}`)}document.cookie=r}(e,n?JSON.stringify(t):t,i)}function r(e,t){const i=function(e){const t=document.cookie,i=new RegExp(`(?:^|; )${(0,n.e)(e)}=([^;]*)`),o=t.match(i);return o?decodeURIComponent(o[1]):void 0}(e);return i&&t?JSON.parse(i):i}function a(e,t,i){window.localStorage.setItem(e,i?JSON.stringify(t):t)}function s(e,t){const i=window.localStorage.getItem(e);return i&&t?JSON.parse(i):i}function c(e){window.localStorage.removeItem(e)}function l(e,t,i){window.sessionStorage.setItem(e,i?JSON.stringify(t):t)}function d(e,t){const i=window.sessionStorage.getItem(e);return i&&t?JSON.parse(i):i}function h(e){window.sessionStorage.removeItem(e)}function g(e,t,i){const n=new Date(t);n.setFullYear(t.getFullYear()+1),o(e,i,{expires:n}),i?a(e,"true",!1):c(e)}}}]);