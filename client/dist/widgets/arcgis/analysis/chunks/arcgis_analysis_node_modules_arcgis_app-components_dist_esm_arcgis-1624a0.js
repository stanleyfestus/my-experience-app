/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-1624a0.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-1624a0"],{99004:(e,t,r)=>{r.d(t,{c:()=>i,g:()=>n});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},1391:(e,t,r)=>{r.d(t,{a:()=>n,b:()=>s,c:()=>o,d:()=>i});const i=(0,r(10699).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),n=i.state,o=i.state,s=i.state},50178:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_developer_credentials_item_access:()=>p});var i=r(20536),n=r(44090),o=r(38973),s=r(76418),l=r(25972),a=r(1391),c=r(19832),u=r(16808),d=r(68537),v=r(91616);r(10699),r(91102),r(73807),r(98034),r(99004),r(369),r(79717),r(78231);const p=class{constructor(e){(0,i.r)(this,e),this.newItemUpdatePage=(0,i.c)(this,"newItemUpdatePage",7),this.newItemSetButtonState=(0,i.c)(this,"newItemSetButtonState",7),this.workflowComplete=(0,i.c)(this,"workflowComplete",7),this.handleItemBrowserSelect=(0,v.d)((async e=>{var t,r,i;const{developerCredentialsType:n}=a.a,s=[],u=[...e.detail],d=(0,o.g)(this.portal),v=e=>e.owner===this.user.username;if("apiToken"===n){this.newItemSetButtonState.emit({targetButton:"primary",state:{loading:!0,disabled:!0}});for(let e=0;e<u.length;++e){const n=u[e];if("Web Map"===n.type){const e=`${d}content/items/${n.id}/data`,o=await(0,l.r)(e);null===(t=o.baseMap.baseMapLayers)||void 0===t||t.forEach((e=>{e.itemId&&s.push(e.itemId)})),null===(r=o.operationalLayers)||void 0===r||r.forEach((e=>e.itemId&&s.push(e.itemId))),null===(i=o.tables)||void 0===i||i.forEach((e=>e.itemId&&s.push(e.itemId)))}}if(s.length){const e={q:`id:(${s.join(" OR ")})`,num:100},t=await(0,l.r)(`${d}search`,e);t.results.length>0&&t.results.forEach((e=>{return t=e,!u.some((e=>((e=>"id"in e)(e)?e.id:e.item.id)===t.id))&&v(e)&&u.push(e);var t}))}}if(u.length>100)return this.newItemSetButtonState.emit({targetButton:"primary",state:{loading:!1,disabled:!0}}),void(this.alertInfo={title:this.i18n.errors.itemLimitWarningTitle,description:this.i18n.errors.itemLimitWarningDescription,kind:"warning"});this.newItemSetButtonState.emit({targetButton:"primary",state:{loading:!1,disabled:!1}}),this.selectedItems=[...u],c.u.nextText=this.selectedItems.length>0?this.nextTextOnSelectItems:"skip"}),500),this.selected=void 0,this.selectedItems=[],this.items=void 0,this.isLoading=!1,this.pagination=void 0,this.showItemBrowser=!1,this.alertInfo=void 0}componentWillLoad(){const{portal:e,user:t}=n.c,{selectedItemPrivileges:r,selectedAppPrivileges:i}=a.a;this.i18n=c.u.i18n.developerCredentialsItemAccess,this.privilegesI18n=c.u.i18n.developerCredentialsPrivilegePicker,this.portal=e,this.user=t,this.selectedItems=r||[],this.selectedAppPrivileges=i,this.isGlobalPrivileges=i.includes("features:user:edit")&&i.includes("features:user:fullEdit"),this.nextTextOnSelectItems=this.isGlobalPrivileges?"updateItemAccess":"addItems",c.u.nextText=this.selectedItems.length>0?this.nextTextOnSelectItems:"skip"}async handleNext(){const{selectedAppPrivileges:e,developerCredentialsType:t}=a.a;"apiToken"!==t||e.length||this.selectedItems.length||(0,d.n)(n.c.subscriptionInfo)?(a.a.selectedItemPrivileges=this.selectedItems,a.a.formattedItemPrivileges=(0,u.x)(this.selectedItems),this.newItemUpdatePage.emit("itemProperties")):this.alertInfo={title:this.i18n.errors.errorTitle,description:this.i18n.errors.emptyPrivilegesError}}handleButtonClick(){this.showItemBrowser=!this.showItemBrowser}render(){const{portal:e,user:t,pagination:r,selectedItems:o,showItemBrowser:l,isGlobalPrivileges:c,i18n:u,privilegesI18n:v,alertInfo:p,selectedAppPrivileges:f}=this,{breadcrumbs:m}=a.a,g=(0,d.f)(n.c.subscriptionInfo),h=(0,d.o)(f),b=h?u.restrictItemAccess:u.grantItemAccess,y=h?u.restrictItemAccess:u.browseItems;let w={openType:"general",closedType:"general"};switch(!0){case c&&g:w={openType:"global",closedType:"globalWithLocationPlatform"};break;case c:w={openType:"global",closedType:"global"};break;case h:w={openType:"itemPrivilegesEnabled",closedType:"itemPrivilegesEnabled"}}return(0,i.h)(i.H,{key:"98f82fac920261070c96b8d277c3236bcf51ab4a"},(0,i.h)("div",{key:"81fbf288cbef1eacf6a92172bb34b9dcbb624c82",class:"breadcrumbs"},(0,i.h)("arcgis-new-item-breadcrumbs",{key:"3f0d85c8fc38a870cc5f9dc4bebe9dcd85b7ec1d",breadcrumbs:m})),!l&&(0,i.h)("div",{key:"51b9dc7dd7e4196fcf5f802f04772c5d5521eed0",class:"header-wrap"},(0,i.h)("calcite-label",{key:"f3475a84727b5b93eee9ab9b171146f772565da0",class:"header-container",layout:"inline"},h&&(0,i.h)("calcite-icon",{key:"676bc1a6e96ee5049acbbe326411f87e8c8d697f",scale:"s",class:"global-access-icon",icon:"exclamation-mark-triangle"}),(0,i.h)("p",{key:"4c4cbb1f2ef0df6c2b901bf62430d764b29b1157",class:"header"},b)),(0,i.h)("p",{key:"7cda9458b90a9739fb41abfc9daf71ccc76d9ead",class:"description",innerHTML:(0,s.a)(u.closedBrowserDescription[w.closedType])}),(0,i.h)("p",{key:"dd9c105898561a27517e1c25edadd916e8bf3d6a",class:"credentials-type-notice"},v.credentialsTypeNotice),(0,i.h)("div",{key:"af2c22a5f08f7dd6200c71ecb874fd308695fa1c",class:"items-selected-container"},(0,i.h)("p",{key:"572287d64336df12932e5521f981c5eeaf0f06ab",class:"selected-items-text",innerHTML:u.itemsSelected.replace("${startBoldText}","<b>").replace("${endBoldText}","</b>").replace("${itemsLength}",`${o.length}`)}),(0,i.h)("calcite-button",{key:"c3c42cb54fbf2b480669bfecd5fdc6d7d8dacc8b",iconStart:"list-radio",iconFlipRtl:"start",appearance:"outline-fill",onClick:()=>this.handleButtonClick()},y))),l&&(0,i.h)("div",{key:"448dbdc73e7f49828aeef588c8ffacce3491de3c",class:"open-item-browser h-full"},(0,i.h)("div",{key:"4d6f4f939e74667d480b0019f5ce6dad9971316f",class:"header-wrap"},(0,i.h)("p",{key:"f09c61cd8b0dfc5b7c5027038d393bab5ada188c",class:"header"},b),(0,i.h)("p",{key:"bcfa36b1dc2a34d2d521c508ed0159e6ff684452",class:"description",innerHTML:(0,s.a)(u.openBrowserDescription[w.openType])}),(0,i.h)("p",{key:"0a2e09e7eccdee6d58bf2d69eea3437933fc816b",class:"credentials-type-notice"},v.credentialsTypeNotice)),(0,i.h)("div",{key:"b6763c6969d9cd7e9418abba1283cb3dec8753f2",class:"item-browser"},(0,i.h)("arcgis-item-browser",{key:"1b6cee9d82bf26157a5b947e4c4317a6bcb98755",class:"h-full min-h-0",onArcgisItemBrowserUpdate:e=>{const{results:t,num:r,start:i,total:n}=e.detail;this.items=t,this.selectedItems=o,this.pagination={start:i,num:r,total:n}},onArcgisItemBrowserSelect:e=>{const t=e.detail[0];t&&(this.selected={id:t.id,name:t.title}),this.handleItemBrowserSelect(e)},portal:e,user:t,api:4,selection:"multiple",bucket:"my",q:"-listed:true OR -implicitlyListed:true",selectedItems:o,height:"full",hidePreviewFooters:!0},(0,i.h)("arcgis-item-browser-top-bar",{key:"92065548a7d0cf83e94006f543ea6b4b3afa8ff6",slot:"top-bar"},(0,i.h)("arcgis-item-browser-search",{key:"a125c0377e4553869eba1187784559131fb46330",slot:"search",term:"",placeholder:u.search})),(0,i.h)("arcgis-item-browser-sort",{key:"7c8724018b401c7a07f421c56437b25d5b21f35e",options:["modified","title","relevance","owner"],slot:"sort"}),(0,i.h)("arcgis-item-browser-content",{key:"0ed0a78e71ce6d9c4ee0d2d67d9c01adc446c64e",slot:"content"},this.items&&(0,i.h)("arcgis-item-browser-table",{key:"cfd1a9200b76b54578a9b0c65ff10e8ce7a7d598"},(this.items||[]).map(((r,n)=>(0,i.h)("arcgis-item-browser-table-row",{key:n,index:n,item:r,name:"test",preview:"title",allowSharing:!0,portal:e,user:t,api:4}))))),(0,i.h)("arcgis-item-browser-pagination",{key:"7c367952b2362cf3c45711009109aac9d4d7eb0f",total:null==r?void 0:r.total,start:null==r?void 0:r.start,num:null==r?void 0:r.num,slot:"pagination"})))),(0,i.h)("arcgis-new-item-alert",{key:"de01f9a058fe35a1a58e4b19b247459c400f18f7",heading:null==p?void 0:p.title,description:null==p?void 0:p.description,active:!!p,kind:null==p?void 0:p.kind,onAlertDismiss:()=>this.alertInfo=null}))}get hostElement(){return(0,i.d)(this)}};p.style=":host{height:100%;overflow:hidden;background-color:var(--calcite-color-foreground-1)}.header{padding:0px;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1)}.header-wrap{padding-left:1rem;padding-right:1rem;padding-bottom:1rem;padding-top:0.5rem}.header-container{--calcite-label-margin-bottom:0}.description{margin-top:0px;margin-bottom:0px;font-size:0.875rem}.global-access-icon{--calcite-ui-icon-color:var(--calcite-color-status-warning)}.items-selected-container{display:flex;align-items:center}.selected-items-text{margin-inline-end:5rem}.credentials-type-notice{margin-top:0.25rem;font-size:0.875rem;line-height:1.5}.open-item-browser{display:flex;height:100%;flex-direction:column}.item-browser{height:100%;min-height:0px;flex:1 1 0%;overflow:hidden}.app-privileges-notice{margin-left:0.75rem;margin-right:0.75rem}.breadcrumbs{margin-inline-start:0.75rem;margin-top:0.75rem}"},91102:(e,t,r)=>{r.d(t,{a:()=>a,c:()=>n,d:()=>c,g:()=>o,i:()=>s,s:()=>l});var i=r(73807);function n(e,t){return function e(r){return r?r.closest(t)||e(function(e){return e.getRootNode()}(r).host||null):null}(e)}function o(e){const t=n(e,".calcite-mode-dark, .calcite-mode-light");return(null==t?void 0:t.classList.contains("calcite-mode-dark"))?"dark":"light"}function s(e){let t=e;for(;null==t?void 0:t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1}function l(e){return(new i.S).sanitize(e)}function a(e){const t=l(e),r=document.createElement("div");return r.innerHTML=t,r.textContent||r.innerText||""}function c(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}},78231:(e,t,r)=>{r.d(t,{a:()=>l,b:()=>s,c:()=>u,d:()=>d,e:()=>v,f:()=>m,g:()=>k,h:()=>g,i:()=>a,j:()=>y,k:()=>w,l:()=>h,m:()=>P,n:()=>I,o:()=>f,p:()=>b,q:()=>p,u:()=>c});var i=r(98034),n=r(38973);function o(e){var t;return!!(null===(t=e.owner)||void 0===t?void 0:t.toLowerCase().includes("esri"))}function s(e){var t;return o(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Credits"))}function l(e){var t;return o(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Subscription"))}function a(e,t){return e.owner===t.username}function c(e,t){return a(e,t)||function(e,t){var r;if(null!=e.isAdmin)return!!e.isAdmin;const i=e.owner,n="admin"===e.itemControl,o=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(r=e.portal)||void 0===r?void 0:r.isPortal)&&!a(e,t)&&n&&i.includes("esri_")&&!o.includes(i))return!1;return n}(e,t)}const u=(e,t)=>!!t.orgId&&e.every((e=>e.isOrgItem)),d=(e,t)=>`${(0,n.a)(t)}item.html?id=${e}`,v=(e,t)=>`${(0,n.g)(t)}/content/users/${e}`,p=e=>e.reduce(((e,t)=>(e[t.owner]=e[t.owner]?[...e[t.owner],t.id]:[t.id],e)),{});function f(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Spatiotemporal")}function m(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("View Service")}function g(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Hosted Service")}function h(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Multi Services View")}function b(e){return(null==e?void 0:e.hasViews)&&!e.sourceSchemaChangesAllowed}async function y(e){var t;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[s]=await(0,i.l)(["esri/request"]);if(null==o?void 0:o.user){return s(`${(0,n.g)(o)}community/users/${o.user.username}`,{query:{f:"json",token:null===(t=r.portal.credential)||void 0===t?void 0:t.token},responseType:"json"}).then((e=>{var t,r;const i=null!==(r=null===(t=e.data)||void 0===t?void 0:t.groups)&&void 0!==r?r:[];return Promise.resolve(i)}),(()=>Promise.reject()))}return Promise.resolve(null)}async function w(e){var t;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[s]=await(0,i.l)(["esri/request"]);return s(`${(0,n.g)(o)}content/items/${r.id}/groups`,{query:{f:"json",token:null===(t=r.portal.credential)||void 0===t?void 0:t.token},responseType:"json"}).then((e=>{var t,r,i,n,o,s;const l=[...null!==(r=null===(t=e.data)||void 0===t?void 0:t.admin)&&void 0!==r?r:[],...null!==(n=null===(i=e.data)||void 0===i?void 0:i.member)&&void 0!==n?n:[],...null!==(s=null===(o=e.data)||void 0===o?void 0:o.other)&&void 0!==s?s:[]];return Promise.resolve(l)}),(()=>Promise.reject()))}async function I(e,t,{relationshipType:r,direction:o}){const s=`${(0,n.g)(t)}content/items/${e}/relatedItems`,[l]=await(0,i.l)(["esri/request"]);return await l(s,{query:{f:"json",relationshipType:r,direction:o},method:"get",responseType:"json"})}function P(e,t){return null==e?void 0:e.some((e=>null==t?void 0:t.some((t=>e.id===t.id&&e.capabilities.includes("updateitemcontrol")))))}const k=(e,t)=>`${t}/content/items/${e}`},98034:(e,t,r)=>{r.d(t,{e:()=>o,l:()=>s});var i,n=r(99004),o={exports:{}};i=o.exports,n.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",i="next";function n(e){if(e.toLowerCase()===i)return i;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function o(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function s(e){void 0===e&&(e=r);var t=o(e),s=n(e);if(s!==i&&3===s.major){var l=s.minor<=10?"js/":"";return"".concat(t).concat(l,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function l(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function a(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function c(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function u(e){return!e||n(e)?s(e):e}function d(e,t){var r=u(e),i=c(r);return i||a(i=l(r),t),i}var v={};function p(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function f(e,t,r){var i;r&&(i=m(e,r));var n=function(){t(e),e.removeEventListener("load",n,!1),i&&e.removeEventListener("error",i,!1)};e.addEventListener("load",n,!1)}function m(e,t){var r=function(i){t(i.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function g(e){void 0===e&&(e={}),v=e}function h(){return document.querySelector("script[data-esri-loader]")}function b(){var e=window.require;return e&&e.on}function y(e){void 0===e&&(e={});var r={};[v,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var i=r.version,n=r.url||o(i);return new t.Promise((function(e,t){var o=h();if(o){var s=o.getAttribute("src");s!==n?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(s,")."))):b()?e(o):f(o,e,t)}else if(b())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=r.css;l&&d(!0===l?i:l,r.insertCssBefore),f(o=p(n),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),t),document.body.appendChild(o)}}))}function w(e){return new t.Promise((function(t,r){var i=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];i.remove(),t(e)}))}))}function I(e,t){if(void 0===t&&(t={}),b())return w(e);var r=h(),i=r&&r.getAttribute("src");return!t.url&&i&&(t.url=i),y(t).then((function(){return w(e)}))}e.utils=t,e.loadModules=I,e.getScript=h,e.isLoaded=b,e.loadScript=y,e.setDefaultOptions=g,e.loadCss=d,Object.defineProperty(e,"__esModule",{value:!0})}(i);const s=async(e,t)=>(await o.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},79717:(e,t,r)=>{r.d(t,{a:()=>v,b:()=>u,c:()=>l,d:()=>a,e:()=>p,f:()=>o,g:()=>d,h:()=>s,i:()=>f,q:()=>c});var i=r(25972),n=r(38973);function o(e){var t;return"ArcGISEnterpriseOnKubernetes"===(e.portalDeploymentType||(null===(t=e.sourceJSON)||void 0===t?void 0:t.portalDeploymentType))}function s(e){var t,r;return e.isPortal?"modern"===(null===(r=e.portalProperties)||void 0===r?void 0:r.homePage)||function(e){var t;return e.isPortal&&"modernOnly"===(null===(t=e.portalProperties)||void 0===t?void 0:t.homePage)}(e):"modern"===(null===(t=e.portalProperties)||void 0===t?void 0:t.homePage)||function(e){const t=new Date("June 30, 2020").getTime();return!e.isPortal&&e.created>=t}(e)}async function l(e){try{return{result:await(0,i.f)((()=>(0,i.r)(`${(0,n.g)(e)}portals/self/resources/home.page.json`)),"homePageConfig",e.id)}}catch(e){return{result:void 0}}}async function a(e){return(0,i.f)((()=>(0,i.r)(`${(0,n.g)(e)}portals/self/userDefaultSettings`)),"memberDefaults",e.id)}async function c(e={},t){return(0,i.r)(`${(0,n.g)(t)}/community/groups`,e)}const u=async(e,t)=>{var r;if(!e)return[];const o=`${(0,n.a)(null!==(r=t.restUrl)&&void 0!==r?r:t.portalUrl)}portals/self/servers`,s=await(0,i.f)((()=>(0,i.r)(o)),"selfServers",t.id);return null==s?void 0:s.servers},d=e=>v((0,n.c)(e)),v=e=>{var t;const r=`${(0,n.a)(null!==(t=(0,n.b)(e))&&void 0!==t?t:e)}info`;return(0,i.f)((()=>(0,i.r)(r,{},{addTokenManually:!1})),"portalInfo",r)};async function p(e,t){return!e.isPortal||await f(e,t)}async function f(e,t){if(!t||!e)return!1;if(!e.isPortal)return!0;const{result:r,error:n}=await(0,i.f)((()=>m(e,t)),"isPortalBackedBySDS",e.id);return!n&&r}const m=async(e,t)=>{if(e.isBackedBySDS)return{result:!0};if(!e.isPortal)return{result:!0};try{return{result:!!await g(t,e)}}catch(e){return console.error(e),{error:{code:"unhandledError",message:JSON.stringify(e)},result:!1}}},g=async(e,t)=>{var r;return(null!==(r=await u(e,t))&&void 0!==r?r:[]).filter((e=>e.isHosted))[0]}},16808:(e,t,r)=>{r.d(t,{A:()=>S,B:()=>q,a:()=>B,b:()=>b,c:()=>O,d:()=>v,e:()=>p,f:()=>I,g:()=>y,h:()=>f,i:()=>h,j:()=>P,k:()=>k,l:()=>$,m:()=>u,n:()=>_,o:()=>C,p:()=>d,q:()=>N,r:()=>A,s:()=>j,t:()=>L,u:()=>E,v:()=>M,w:()=>D,x:()=>G,y:()=>a,z:()=>T});var i=r(79717),n=r(38973),o=r(68537),s=r(44090),l=r(25972);async function a(){return new Promise((async e=>{const{portal:t}=s.c;if(null==t?void 0:t.isPortal){const r=t.helperServices.geocode,i=await function(e){const{config:t,portal:r}=s.c;return new Promise((async(i,n)=>{const o=e.filter((e=>c(e.url,r))).filter((e=>e.isEsriBatchGeocoder))[0];if(o){const e=o.url.split("/servers/")[1].split("/rest/services/")[0],r=`${t.restBaseUrl}/content/items/${e}`;try{i((await(0,l.r)(r)).url)}catch(e){n(e)}}else n("No world geocoder configured")}))}(r);e(i)}else{const r=function(e){const t=null==e?void 0:e.portalHostname;if(-1!==t.indexOf("dev"))return"dev";if(-1!==t.indexOf("qa"))return"qa";return""}(t);e(`https://geocode${r}.arcgis.com/arcgis/rest/services/World/GeocodeServer`)}}))}function c(e="",t){var r;const i=t.isPortal,n=e.toLowerCase(),o=n.indexOf("/geocodeserver")>-1&&n.indexOf("/rest/services/")>-1,s=i&&n.indexOf(null===(r=t.portalHostname)||void 0===r?void 0:r.toLowerCase())>-1,l=!i&&n.indexOf("utility")&&n.indexOf(".arcgis.com")>-1;return o&&(s||l)}function u(e){return(0,o.b)(e)||(null==e?void 0:e.privileges.includes("portal:user:createItem"))}function d(e){return(0,o.b)(e)||(null==e?void 0:e.privileges.includes("portal:user:receiveItems"))}async function v(e,t){return!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishFeatures"))&&await(0,i.i)(t,e)}const p=e=>!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishServerServices"));async function f(e,t){return!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishTiles"))&&await(0,i.i)(t,e)}const m=async(e,t)=>{var r;return await f(e,t)&&(!t.isPortal||!!t.supports3DTilesServices||!!(null===(r=t.sourceJSON)||void 0===r?void 0:r.supports3DTilesServices))};function g(e){return!(0,o.b)(e)&&!0}function h(e){var t;return!(0,o.b)(e)&&(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:publisher:publishScenes"))}const b=e=>!(0,o.b)(e);function y(e,t,r){var i,n;const o=!!(null===(n=null===(i=t.helperServices)||void 0===i?void 0:i.rasterAnalytics)||void 0===n?void 0:n.url),s=function(e,t,r){var i;return(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:publishDynamicImagery"))&&(t.isPortal||w(r))}(e,t,r),l=t.isPortal?s:s||function(e,t,r){var i;return(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:publishTiledImagery"))&&!t.isPortal&&w(r)}(e,t,r);return o&&l}function w(e){return null==e?void 0:e.some((e=>{var t;return null===(t=e.entitlements)||void 0===t?void 0:t.some((e=>"image"===e.toLowerCase()))}))}async function I(e){var t;const{userLicensedItems:r}=await(0,l.r)(`${null!==(t=e.restUrl)&&void 0!==t?t:e.portalUrl}/community/self?returnUserLicensedItems=true`);return r}function P(e,t){var r,i;const s=null===(r=t.helperServices)||void 0===r?void 0:r.geocode.some((({url:e})=>c(e,t))),l=null!==(i=null==e?void 0:e.privileges)&&void 0!==i?i:[];return!(0,o.b)(e)&&s&&(!t.isPortal||!(0,n.i)(t)&&l.includes("portal:user:viewOrgItems")&&l.includes("portal:user:createItem"))}const k=e=>!(0,o.b)(e);function S(e){return null==e?void 0:e.privileges.includes("premium:publisher:createAdvancedNotebooks")}function T(e){return null==e?void 0:e.privileges.includes("premium:publisher:createNotebooks")}function x(e){return["portal:publisher:createDataPipelines","portal:user:createItem","portal:publisher:publishFeatures"].every((t=>{var r;return null===(r=e.privileges)||void 0===r?void 0:r.includes(t)}))}function $(e,t){var r,i,n;return t.isPortal?!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:registerDataStores")):x(e)&&("1"===(null===(i=null==e?void 0:e.sourceJSON)||void 0===i?void 0:i.level)||"2"===(null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.level))}const _=e=>!(0,o.b)(e)&&x(e);function C(e){return!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("premium:user:geocode"))}const L=e=>null==e?void 0:e.privileges.includes("premium:user:geocode:stored");async function O(e,t,r){return!t.isPortal&&await v(e,t)&&await async function(e,t,r){return!(0,o.b)(e)&&!!t.supportsHostedServices&&u(e)&&(await f(e,t)||await v(e,t)||h(e)||g(e)||y(e,t,r))}(e,t,r)}async function B(e,t,r){switch(t){case"CSV":case"GeoJson":case"Microsoft Excel":case"Shapefile":case"File Geodatabase":case"Photos with Locations":return v(e,r);case"Tile Package":return f(e,r);case"3DTiles Package":return m(e,r);case"Vector Tile Package":return g(e);case"Scene Package":return h(e);case"Service Definition":return async function(e,t){return await v(e,t)&&await f(e,t)}(e,r);default:return!0}}function A(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageCredits"))}function E(e,t){var r,i,n;return(0,o.e)(e)||A(e)||!!((null!==(r=null==e?void 0:e.assignedCredits)&&void 0!==r?r:null===(i=null==e?void 0:e.sourceJSON)||void 0===i?void 0:i.assignedCredits)>-1&&(null===(n=null==t?void 0:t.portalProperties)||void 0===n?void 0:n.showCreditsOnProfile))}const D=e=>!1;function q(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewGroups"))}function j(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewUsers"))}function N(e){return(0,o.d)(e)||j(e)&&function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewItems"))}(e)&&(function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItems"))}(e)||function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:deleteItems"))}(e)||function(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:reassignItems"))}(e))}function G(e){return e.map((e=>`portal:app:access:item:${e.id}`))}const M=e=>e.privileges.includes("portal:user:assignPrivilegesToApps")},68537:(e,t,r)=>{r.d(t,{a:()=>l,b:()=>o,c:()=>s,d:()=>f,e:()=>p,f:()=>v,g:()=>m,h:()=>h,i:()=>c,j:()=>g,k:()=>x,l:()=>a,m:()=>b,n:()=>d,o:()=>L,p:()=>w,q:()=>I,r:()=>T,s:()=>k,t:()=>P,u:()=>S,v:()=>_,w:()=>u,x:()=>$});var i=r(78231);const n=e=>{var t,r,i;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(r=null!==(t=null==e?void 0:e.roleId)&&void 0!==t?t:null==e?void 0:e.id)&&void 0!==r?r:null===(i=null==e?void 0:e.sourceJSON)||void 0===i?void 0:i.id};function o(e){return e&&!e.orgId}function s(e,t){return(0,i.u)(e,t)||"update"===e.itemControl||(0,i.c)([e],t)&&p(t)}function l(e,t){const r=(0,i.c)([e],t),n=(0,i.u)(e,t)||p(t)&&r,o=m(t)&&y(t);return!!(n||r&&o)}const a=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageLicenses"))};function c(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function u(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function d(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const v=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("Developer")};function p(e){return"org_admin"===n(e)||"account_admin"===n(e)}function f(e){return["org_admin","account_admin"].includes(n(e))&&!(null==e?void 0:e.roleId)}function m(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function g(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItemCategorySchema"))}function h(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateGroups"))}function b(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:assignToGroups"))}const y=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:deleteItems"))};function w(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function I(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function P(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function k(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function S(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function T(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function x(e,t,r,i){const n=i&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(i.type),o=((null==t?void 0:t.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!t||!p(t)&&!o||!(null==r?void 0:r.isPortal)&&!n)}function $(e){return!!e&&(!m(e)||m(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const _=({items:e,user:t,portal:r})=>{const n=e[0],o=n.owner;if(r.isPortal&&o!==t.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const l=(0,i.u)(n,t),a=m(t),c=C(t),u=s(n,t)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(t)&&!a&&(function(e,t){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(t)||w(e)||I(e)||!!t.canSharePublic&&P(e)}(t,r)||C(t));return l||u||(0,i.c)(e,t)&&c};function C(e){return T(e)||k(e)||S(e)}function L(e){const t=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];return e.some((e=>t.includes(e)))}},76418:(e,t,r)=>{r.d(t,{a:()=>l,c:()=>a,g:()=>n,i:()=>o,r:()=>s});var i=r(91102);function n(e){return function(e){return null==e?void 0:e.replace(/&#10;&#13;|&#10;|&#13;|\r\n|\r|\n/g,"<br>")}(function(e){return null==e?void 0:e.replace(/(?:\r)/g,"&#10;").replace(/(?:\n)/g,"&#13;")}(function(e){return null==e?void 0:e.replace(/(https?:\/\/[^\s]+)/g,(e=>`<a href="${e}" target="_blank">${e}</a>`))}(function(e){return null==e?void 0:e.replace(/(?:&#10;)/g,"\r").replace(/(?:&#13;)/g,"\n")}(e))))}function o(e){return e.replace(/\$\{startSup\}/g,"<sup>").replace(/\$\{endSup\}/g,"</sup>")}function s(e,t,r){return e.replace(/\$\{startLink\}/g,`<calcite-link label="${r}" href="${t}" target="_blank">`).replace(/\$\{endLink\}/g,"</calcite-link>")}function l(e){return e.replace(/\$\{startStrong\}/g,"<strong>").replace(/\$\{endStrong\}/g,"</strong>")}function a(e){return(0,i.s)((null==e?void 0:e.trim())||"").replace(/[!*+\-&|()[\]{}^~?:"\\]/g,"\\$&")}},19832:(e,t,r)=>{r.d(t,{a:()=>i,u:()=>n});const i=(0,r(10699).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{}}),n=i.state}}]);