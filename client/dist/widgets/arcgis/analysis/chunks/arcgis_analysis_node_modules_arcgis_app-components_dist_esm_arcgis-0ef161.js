/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-0ef161.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-0ef161"],{99004:(e,t,r)=>{r.d(t,{c:()=>n,g:()=>a});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},1391:(e,t,r)=>{r.d(t,{a:()=>a,b:()=>i,c:()=>o,d:()=>n});const n=(0,r(10699).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),a=n.state,o=n.state,i=n.state},76246:(e,t,r)=>{r.d(t,{a:()=>n,i:()=>a});const n={FeatureServer:"Feature Service",GeocodeServer:"Geocoding Service",GeoDataServer:"Geodata Service",GeometryServer:"Geometry Service",GeoenrichmentServer:"Geoenrichment Service",GPServer:"Geoprocessing Service",GlobeServer:"Globe Service",ImageServer:"Image Service",MapServer:"Map Service",NAServer:"Network Analysis Service",ElevationServer:"Image Service",VectorTileServer:"Vector Tile Service",SceneServer:"Scene Service",StreamServer:"Stream Service",WMServer:"Workflow Manager Service",TiledImageServer:"Image Service",VideoServer:"Video Service",KnowledgeGraphServer:"Knowledge Graph Layer"},a=e=>!!Object.values(n).includes(e)},39582:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_data_store_select_folder:()=>s});var n=r(20536),a=r(1391),o=r(66301),i=r(19832);r(10699),r(25972),r(44090),r(98034),r(99004),r(38973),r(369),r(16093),r(76246),r(34472);const s=class{constructor(e){(0,n.r)(this,e),this.newItemUpdatePage=(0,n.c)(this,"newItemUpdatePage",7),this.serverFolderPath=null,this.publisherFolderPath="",this.publisherFolderPathIsDriveLetterLocation=!1,this.publisherFolderPathHostname="",this.newServerFolderPath="",this.nfsHostName="",this.nfsSharePath="",this.error=null}async componentWillLoad(){this.i18n=i.u.i18n.dataStoreSelectFolder,this.checkIfDriveLetterLocation(a.a.publisherFolderPath||""),this.publisherFolderPathHostname=a.a.publisherFolderPathHostname,this.serverFolderPath=a.a.serverFolderPath||null,this.newServerFolderPath=a.a.newServerFolderPath,this.nfsHostName=a.a.nfsHostName,this.nfsSharePath=a.a.nfsSharePath}checkIfDriveLetterLocation(e){this.publisherFolderPath=e,this.publisherFolderPathIsDriveLetterLocation=1===e.split(":")[0].length}validateFolderInputs(){if(!this.publisherFolderPath)return this.error="invalidPublisherFolderPath",!1;if(this.publisherFolderPathIsDriveLetterLocation&&!this.publisherFolderPathHostname)return this.error="invalidPublisherHostName",!1;if("newPath"===this.serverFolderPath&&!this.newServerFolderPath)return this.error="invalidServerFolderPath",!1;if("nfsHostAndPath"===this.serverFolderPath){if(!this.nfsHostName&&!this.nfsSharePath)return this.error="invalidNfsHostAndPath",!1;if(!this.nfsHostName&&this.nfsSharePath)return this.error="invalidNfsHostName",!1;if(this.nfsHostName&&!this.nfsSharePath)return this.error="invalidNfsPath",!1}return!0}renderErrorItem(){var e,t;const{i18n:r,error:a}=this;return(0,n.h)("arcgis-new-item-alert",{heading:null===(e=r.errors[a])||void 0===e?void 0:e.heading,description:null===(t=r.errors[a])||void 0===t?void 0:t.description,active:null!==a,onAlertDismiss:()=>{this.error=null}})}handleNext(){this.validateFolderInputs()&&(a.a.publisherFolderPath=this.publisherFolderPath,a.a.serverFolderPath=this.serverFolderPath,this.publisherFolderPathIsDriveLetterLocation&&this.publisherFolderPathHostname?a.a.publisherFolderPathHostname=this.publisherFolderPathHostname:a.a.publisherFolderPathHostname=null,"newPath"===this.serverFolderPath&&this.newServerFolderPath?a.a.newServerFolderPath=this.newServerFolderPath:a.a.newServerFolderPath=null,"nfsHostAndPath"===this.serverFolderPath?(a.a.nfsHostName=this.nfsHostName,a.a.nfsSharePath=this.nfsSharePath):(a.a.nfsHostName=null,a.a.nfsSharePath=null),this.newItemUpdatePage.emit("dataStoreSelectServerList"))}render(){const{i18n:e,publisherFolderPathIsDriveLetterLocation:t}=this;return(0,n.h)("div",{key:"ad546417cc3e1216993efd9bb96d22290a08e577"},(0,n.h)("arcgis-new-item-description",{key:"43767400def061f6f075f8d236bc25f097a2f303",header:e.heading}),(0,n.h)("div",{key:"e8dc4cfc2e35f2c5f4b0fb203de3e544d247a517",class:"input-label"},(0,n.h)("calcite-label",{key:"d7c9ff180b8ea166daa14b63d677e8c03e77ab7d"},e.publisherFolderPath.heading,(0,n.h)("calcite-input",{key:"publisher-folder-path",placeholder:e.publisherFolderPath.placeholder,value:this.publisherFolderPath,required:!0,onCalciteInputChange:e=>{const t=e.target.value;this.checkIfDriveLetterLocation(t)}}))),t&&(0,n.h)("div",{key:"653bfcb512f896f2c464ca41935c4e0e48b30b2e",class:"input-label"},(0,n.h)("calcite-label",{key:"d6d3d232b94fb8ceaa66f0af443b738f3a7c2743"},e.publisherFolderPath.hostname,(0,n.h)("calcite-input",{key:"publisher-folder-path-hostname",type:"textarea",value:this.publisherFolderPathHostname,onCalciteInputChange:e=>{const t=e.target.value;this.publisherFolderPathHostname=t}}),(0,n.h)("div",{key:"97fc63020affb94b342343e90d5861fa53680fe7",class:"hostname-info"},e.publisherFolderPath.hostnameInfo))),(0,n.h)("div",{key:"e226fa4c7f16bc6f7d83a05306c30d2abfe2f167",class:"input-label"},(0,n.h)("calcite-label",{key:"906b6f15966feb4937f8f4b45ac22598d0ceb1ff"},e.serverFolderPath.heading)),(0,n.h)("calcite-tile-select-group",{layout:"vertical",key:"server-folder-path-select"},(0,n.h)("calcite-tile-select",{class:"tile-select",key:"publisher-folder-path-select",checked:null===this.serverFolderPath,description:e.serverFolderPath.sameAsPublisher,name:"same-as-publisher-folder-path","input-enabled":!0,width:"full",type:"radio",value:null,onCalciteTileSelectChange:()=>{this.serverFolderPath=null}}),(0,n.h)("calcite-tile-select",{class:"tile-select",key:"new-server-folder-path-select",checked:"newPath"===this.serverFolderPath,description:e.serverFolderPath.newPath,name:"new-path","input-enabled":!0,width:"full",type:"radio",value:"newPath",onCalciteTileSelectChange:()=>{this.serverFolderPath="newPath"}}),(0,o.i)()&&(0,n.h)("calcite-tile-select",{key:"nfs-host-and-path-select",checked:"nfsHostAndPath"===this.serverFolderPath,description:e.serverFolderPath.nfsHostAndPath.description,name:"nfs-host-and-path","input-enabled":!0,width:"full",type:"radio",value:"nfsHostAndPath",onCalciteTileSelectChange:()=>{this.serverFolderPath="nfsHostAndPath"}})),"newPath"===this.serverFolderPath&&(0,n.h)("div",{key:"420d250d17a06d3da9d511a2300d96f375379d78",class:"input-label"},(0,n.h)("calcite-input",{key:"new-server-folder-path",placeholder:e.serverFolderPath.placeholder,value:this.newServerFolderPath,onCalciteInputChange:e=>{const t=e.target.value;this.newServerFolderPath=t}})),"nfsHostAndPath"===this.serverFolderPath&&(0,n.h)("div",{key:"bfafe4279f9b88083cd10d25a0bd681528d92a5a"},(0,n.h)("div",{key:"c55b615fed1b57ce3a636d7658ab88de328d6bb5",class:"input-label"},(0,n.h)("calcite-label",{key:"9d05f62d90e8f63423248ca3e9ddce1105ef8ddc"},e.serverFolderPath.nfsHostAndPath.hostname,(0,n.h)("calcite-input",{key:"nfs-hostname",type:"textarea",value:this.nfsHostName,placeholder:"mynfshost.domain.com",onCalciteInputChange:e=>{const t=e.target.value;this.nfsHostName=t}}))),(0,n.h)("div",{key:"005cf82c385d1c38ac9f70cb98bef7132e2b01d9",class:"input-label"},(0,n.h)("calcite-label",{key:"9e7575955dd5131462b1945ad741f310e4b14b65"},e.serverFolderPath.nfsHostAndPath.sharePath,(0,n.h)("calcite-input",{key:"nfs-sharepath",type:"textarea",value:this.nfsSharePath,placeholder:"/data",onCalciteInputChange:e=>{const t=e.target.value;this.nfsSharePath=t}})))),this.renderErrorItem())}};s.style=".input-label{margin-top:1.25rem}.tile-select{margin-bottom:0.125rem}.hostname-info{font-size:0.75rem}"},66301:(e,t,r)=>{r.d(t,{a:()=>s,b:()=>h,c:()=>i,d:()=>d,e:()=>b,f:()=>c,g:()=>p,h:()=>l,i:()=>m});var n=r(25972),a=r(44090),o=r(16093);function i(e,t){const r={type:"folder",path:`/fileShares/${t}`,info:{datastoreConnectionType:"shared",path:e.publisherFolderPath,hostName:e.publisherFolderPathHostname}};return"newPath"===e.serverFolderPath?(r.clientPath=e.publisherFolderPath,r.info.path=e.newServerFolderPath,r.info.datastoreConnectionType="replicated"):"nfsHostAndPath"===e.serverFolderPath&&(r.clientPath=e.publisherFolderPath,r.provider="UserManaged",r.info.datastoreConnectionType="replicated",r.info.fileServerPath=e.nfsSharePath,r.info.fileServerHost=e.nfsHostName,r.info.fileServerType="nfs"),r}function s(e,t){const r={type:"egdb",path:"/enterpriseDatabases/"+t,info:{dataStoreConnectionType:"shared"}};return"newConnection"===e.serverDatabaseOption?(r.info.connectionString=e.serverConnectionString,r.info.clientConnectionString=e.publisherConnectionString,r.info.dataStoreConnectionType="replicated"):"bigQuery"===e.databaseProvider||"snowflake"===e.databaseProvider?r.info.JDBCConnection=e.jdbcConnection:r.info.connectionString=e.publisherConnectionString,r}const c=async(e,t,r,n)=>{let a,o;if((null==r?void 0:r.length)>0){try{o=JSON.parse(r)}catch(e){return{error:{code:"invalidJSON"}}}a=function(e,t){const{type:r,project_id:n,private_key_id:a,private_key:o,client_email:i,client_id:s,auth_uri:c,token_uri:l,auth_provider_x509_cert_url:d,client_x509_cert_url:h}=t,u={oAuthType:0,projectId:e,url:"jdbc:bigquery://https://www.googleapis.com/bigquery/v2:443",oAuthPvtKeyFile:{type:r,project_id:n,private_key_id:a,private_key:o,client_email:i,client_id:s,auth_uri:c,token_uri:l,auth_provider_x509_cert_url:d,client_x509_cert_url:h}};return u}(e,o)}else(null==n?void 0:n.length)>0&&(a=function(e,t,r){const n={name:"BigqueryArcgisPlatform_RefreshToken",className:"com.esri.sds.bigquery.jdbc.GBQDataSource",oAuthType:2,projectId:e,defaultDataset:t,url:"jdbc:bigquery://https://www.googleapis.com/bigquery/v2:443",oAuthRefreshToken:r};return n}(e,t,n));return{result:{type:"egdb",path:"/enterpriseDatabases/bigQuerySvrDevDataJdbc",id:null,clientPath:null,info:{JDBCConnection:a}}}};function l(e){const{user:t,password:r,database:n,role:a,server:o,warehouse:i,schema:s}=e;return{path:"/enterpriseDatabases/snowflakeJdbc",type:"egdb",info:{JDBCConnection:{user:t,password:r,database:n,role:a,connectionUrl:`jdbc:snowflake://${o}`,warehouse:i,schema:s}}}}function d(e,t){if("Arango"===e.noSqlProvider){const t={type:"nosql",path:"/nosqlDatabases/Arango_enterprise",info:{systemManaged:!1,dsFeature:"graphStore",isManagedData:!1,category:"database",factory:"nosql",provider:"ArangoDB",implementation:"ArangoDB",purposes:["knowledge-graph"],connectionProperties:{hosts:[],useSsl:e.useSsl,username:e.username,password:e.password,database:e.database}}};return""!==e.hosts?t.info.connectionProperties.hosts=e.hosts.split(","):delete t.info.connectionProperties.hosts,t}const r={type:"nosql",path:`/nosqlDatabases/${t}`,info:{provider:"Neo4J",isManaged:!1,dsFeature:"graphStore",factory:"nosql",implementation:"Neo4j",category:"database",systemManaged:!1,isManagedData:!1,purposes:["knowledge-graph"],connectionProperties:{connectionUri:e.connectionUri,username:e.username,password:e.password,database:e.database,fallbackServerAddresses:[]}}};return""!==e.fallBackServers?r.info.connectionProperties.fallbackServerAddresses.push(e.fallBackServers.split(",")):delete r.info.connectionProperties.fallbackServerAddresses,r}function h(e,t){const r=e.provider,n={info:{}},a={credentialType:"accesskey"};return"amazon"===r&&("accessKey"===e.credentialType?(a.accessKeyId=e.accessKey,a.secretAccessKey=e.secretKey):a.credentialType=e.credentialType,"custom"===e.selectedRegion.id?a.regionEndpointUrl=e.storageURL:(a.regionEndpointUrl=u(e.regions,e.selectedRegion),a.region=e.selectedRegion.id),n.info.objectStore=e.bucketName,n.provider="amazon"),"google"===r&&(a.accessKeyId=e.accessKey,a.secretAccessKey=e.secretKey,a.regionEndpointUrl="https://storage.googleapis.com",n.info.objectStore=e.bucketName,n.provider="Google"),"azure"!==r&&"azuredatalakegen2store"!==r||("sharedKey"===e.azureAuthenticationType?(a.credentialType="accessKey",a.accountKey=e.accountKey):"activeDirectory"===e.azureAuthenticationType?(a.credentialType=e.azureIdentityType,"servicePrincipal"===e.azureIdentityType?(a.tenantId=e.tenantId,a.clientId=e.clientId,a.clientSecret=e.clientSecret,a.authorityHost=e.authorityHost):"userAssignedIdentity"===e.azureIdentityType&&(a.managedIdentityClientId=e.clientId)):"sasToken"===e.azureAuthenticationType?(a.credentialType=e.azureAuthenticationType,a.sasToken=e.token):"anonymous"===e.azureAuthenticationType&&(a.credentialType=e.azureAuthenticationType),"other"===e.environment.id||"anonymous"===e.azureAuthenticationType?a.regionEndpointUrl=e.endpoint:a.accountEndpoint=u(e.regions,e.environment),a.accountName=e.accountName,"azure"===r?(n.info.objectStore=e.containerName,n.provider="azure"):(n.info.folder=e.cloudFolder?`${e.containerName}/${(0,o.j)(e.cloudFolder)}`:e.containerName,n.provider="azureDataLakeStore")),"alibaba"===r&&(a.accessKeyId=e.accessKey,a.secretAccessKey=e.secretKey,n.info.objectStore=e.bucketName,n.provider="Alibaba",a.regionEndpointUrl="custom"===e.selectedRegion.id?e.storageURL:u(e.regions,e.selectedRegion)),a.defaultEndpointsProtocol="https",e.cloudFolder&&"azuredatalakegen2store"!==r&&(n.info.objectStore=n.info.objectStore+"/"+(0,o.j)(e.cloudFolder)),n.type="cloudStore",n.path="/cloudStores/"+t,n.info.connectionString=JSON.stringify(a),n}function u(e,t){let r;return e.forEach((function(e){e.id===t.id&&(r=e.blobStoreEndpoint||e.storageEndpointSuffix)})),r}const p=async(e,t)=>{const r=e.results.out_connectionString.paramUrl,a=`${t}/Get%20Database%20Connection%20String/jobs/${e.jobId}/${r}`,o=await(0,n.r)(a);return f(o)},f=e=>{const t=e.value;return{connectionStringProps:v(t),connectionString:t}},v=e=>{let t=[];return e&&e.split(";").forEach((e=>{const r=e.split("=");2!==r.length||g(t,r[0])||t.push({key:r[0],value:r[1]})})),t},g=(e,t)=>e.some((e=>e.key===t)),m=()=>{var e;const t=a.c.portal,r=t.portalDeploymentType||(null===(e=t.sourceJSON)||void 0===e?void 0:e.portalDeploymentType);return t.isPortal&&"ArcGISEnterpriseOnKubernetes"===r},b=e=>{if(!e)return"";return`${e}/rest/services/System/PublishingTools/GPServer`}},98034:(e,t,r)=>{r.d(t,{e:()=>o,l:()=>i});var n,a=r(99004),o={exports:{}};n=o.exports,a.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",n="next";function a(e){if(e.toLowerCase()===n)return n;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function o(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function i(e){void 0===e&&(e=r);var t=o(e),i=a(e);if(i!==n&&3===i.major){var s=i.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function s(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function c(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function l(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function d(e){return!e||a(e)?i(e):e}function h(e,t){var r=d(e),n=l(r);return n||c(n=s(r),t),n}var u={};function p(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function f(e,t,r){var n;r&&(n=v(e,r));var a=function(){t(e),e.removeEventListener("load",a,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",a,!1)}function v(e,t){var r=function(n){t(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function g(e){void 0===e&&(e={}),u=e}function m(){return document.querySelector("script[data-esri-loader]")}function b(){var e=window.require;return e&&e.on}function y(e){void 0===e&&(e={});var r={};[u,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var n=r.version,a=r.url||o(n);return new t.Promise((function(e,t){var o=m();if(o){var i=o.getAttribute("src");i!==a?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(i,")."))):b()?e(o):f(o,e,t)}else if(b())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=r.css;s&&h(!0===s?n:s,r.insertCssBefore),f(o=p(a),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),t),document.body.appendChild(o)}}))}function S(e){return new t.Promise((function(t,r){var n=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.remove(),t(e)}))}))}function P(e,t){if(void 0===t&&(t={}),b())return S(e);var r=m(),n=r&&r.getAttribute("src");return!t.url&&n&&(t.url=n),y(t).then((function(){return S(e)}))}e.utils=t,e.loadModules=P,e.getScript=m,e.isLoaded=b,e.loadScript=y,e.setDefaultOptions=g,e.loadCss=h,Object.defineProperty(e,"__esModule",{value:!0})}(n);const i=async(e,t)=>(await o.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},58151:(e,t,r)=>{r.d(t,{a:()=>d,b:()=>l,c:()=>h,d:()=>o,e:()=>a,g:()=>s,r:()=>c,s:()=>i,u:()=>u});var n=r(91616);function a(e,t,r,n){!function(e,t,r){r=r||{};let n=null==r?void 0:r.expires;if("number"==typeof n){const e=new Date,t=24*n*60*60*1e3;e.setTime(Date.now()+t),n=r.expires=e}"string"!=typeof n&&(null==n?void 0:n.toUTCString)&&(r.expires=n.toUTCString());let a,o=`${e}=${encodeURIComponent(t)}`;for(a in r){o+=`; ${a}`;const e=r[a];!0!==e&&(o+=`=${e}`)}document.cookie=o}(e,n?JSON.stringify(t):t,r)}function o(e,t){const r=function(e){const t=document.cookie,r=new RegExp(`(?:^|; )${(0,n.e)(e)}=([^;]*)`),a=t.match(r);return a?decodeURIComponent(a[1]):void 0}(e);return r&&t?JSON.parse(r):r}function i(e,t,r){window.localStorage.setItem(e,r?JSON.stringify(t):t)}function s(e,t){const r=window.localStorage.getItem(e);return r&&t?JSON.parse(r):r}function c(e){window.localStorage.removeItem(e)}function l(e,t,r){window.sessionStorage.setItem(e,r?JSON.stringify(t):t)}function d(e,t){const r=window.sessionStorage.getItem(e);return r&&t?JSON.parse(r):r}function h(e){window.sessionStorage.removeItem(e)}function u(e,t,r){const n=new Date(t);n.setFullYear(t.getFullYear()+1),a(e,r,{expires:n}),r?i(e,"true",!1):c(e)}},19832:(e,t,r)=>{r.d(t,{a:()=>n,u:()=>a});const n=(0,r(10699).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{}}),a=n.state},16093:(e,t,r)=>{r.d(t,{a:()=>S,b:()=>g,c:()=>v,d:()=>h,e:()=>b,f:()=>y,g:()=>p,h:()=>m,i:()=>P,j:()=>d,r:()=>l,s:()=>f,u:()=>u});var n=r(38973),a=r(44090),o=r(98034),i=r(58151),s=r(76246),c=r(34472);function l(e){return"/"===(null==e?void 0:e.slice(-1))?e.slice(0,e.length-1):e}function d(e){return e.startsWith("/")||e.startsWith("\\")?e.slice(1):e}async function h(e){var t;const r=null!==(t=null===a.c||void 0===a.c?void 0:a.c.api)&&void 0!==t?t:4,[n]=await(0,o.l)([4===r?"esri/core/urlUtils":"esri/urlUtils"]);let i=n.urlToObject(e);i.query=i.query||{};for(let e in i.query||{})i.query.hasOwnProperty(e)&&(Array.isArray(i.query[e])||(i.query[e]=i.query[e].replace(/(&lt;|&gt;|<|>|%3C|%3E)/g,"")));return i}function u(e){return(null==e?void 0:e.replace(/^.*\//,"").replace(/.[^.]*$/,""))||""}function p(e){const t=(null==e?void 0:e.replace(/^.*\//,"").replace(/\?+.*/,""))||"",r=t.replace(/^.*\./,"").toLowerCase();return c.b.includes(r)?t:""}function f(e){return["WFS","GeoJson","CSV","GeoRSS","KML","OGCFeatureServer","WMS","WMTS"].includes(e)}function v(e){const{config:t,portal:r}=a.c;let n=!1;if(!e)return!1;if((t.httpsDomains||[]).forEach((t=>{(e.indexOf(`.${t}/`)>-1||e.indexOf(`/${t}/`)>-1)&&(n=!0)})),!n){let t=r.portalHostname;t.indexOf("/")>-1&&(t=t.substring(0,t.indexOf("/"))),e.indexOf(t)>-1&&(n=!0)}return n}function g(e){if(!e)return!1;const{config:t,portal:r}=a.c,o=(0,n.g)(r),i=new URL(o).hostname,s=!1===t.isMultiTenant,c=-1!==e.indexOf(".arcgis.com/"),l=-1!==e.indexOf("//services")||-1!==e.indexOf("//tiles")||-1!==e.indexOf("//features")||-1!==e.indexOf("//locationservices"),d=r.supportsHostedServices&&-1!==e.indexOf(i)&&!s;return c&&l||!c&&d}function m(){var e;if(-1===window.location.protocol.toLowerCase().indexOf("https")){const t=(0,i.d)("esri_auth",!0);return"web"!==(null===(e=null==t?void 0:t.auth_tier)||void 0===e?void 0:e.toLowerCase())}return!0}function b(e){let t=e.toLowerCase();-1==t.indexOf("http://")&&-1==t.indexOf("https://")&&(t=(e="https://"+e).toLowerCase());let r=t.indexOf("//");r=t.indexOf("/",r+2),-1==r?t=(e+="/arcgis/rest/services").toLowerCase():r==t.length-1&&(t=(e+="arcgis/rest/services").toLowerCase());let n=t.indexOf("/arcgis",r);n==t.length-7?t=(e+="/rest/services").toLowerCase():n==t.length-8&&(t=(e+="rest/services").toLowerCase()),n=t.indexOf("/server",r),t.endsWith("/server")?t=(e+="/rest/services").toLowerCase():t.endsWith("/server/")&&(t=(e+="rest/services").toLowerCase());const a=t.indexOf("/rest/services",r),o=t.indexOf("/services",r),i=t.indexOf("/rest",r);return-1==a&&o>-1?t=(e=`${e.substring(0,o)}/rest/services${e.substring(o+9)}`).toLowerCase():-1==a&&i>-1&&(t=(e=`${e.substring(0,i)}/rest/services${e.substring(i+5)}`).toLowerCase()),t.indexOf("/rest/services"),e}const y=(e,t=!1)=>(e=l(e=e.trim()),/(http|https|ftp):\/\/?/.exec(e)||(e=`https://${e}`),!t&&"https:"!==location.protocol||!g(e)&&!v(e)||(e=e.replace("http:/","https:/")),e=e.indexOf("/dynamicLayer?")>-1?e.substring(0,e.indexOf("/dynamicLayer?")):e),S=(e,t=!1)=>{var r,a,o;if(!e)return{error:{code:"invalidUrl"}};if(P(e,t))return{error:{code:"httpWarning"}};const i=decodeURIComponent(e),c=i.replace(n.v,"").match(/((\.|\/)*(kml|kmz))/gi),l=i.replace(n.v,"").match(/((\/|\=)(wmts|wms|wfs))/gi),d=i.replace(n.v,"").match(/((\/|\=)(OGC|OGCFeatureServer))/gi),h=i.replace(n.v,"").match(/((\.|\/)*(rss))/gi),u=null===(r=i.replace(n.v,"").match(n.r))||void 0===r?void 0:r[1],p=i.replace(n.v,"").match(n.h),f=i.replace(n.v,"").match(/((\.|\/)*(csv))/gi),v=i.replace(n.v,"").match(/(\.|\/)((\$?{(z|level)})\/*(\$?{(x|col)})\/*(\$?{(y|row)}))/gi);let g=null;if(i.match(n.f))g="GeoJson";else if(!d||l||u)if(u&&!l)g=s.a[u];else if(p)g="Map Service";else if(l){const e="/"===(null==l?void 0:l[0].charAt(0))?"/":"=";g=null===(o=null===(a=null==l?void 0:l[0])||void 0===a?void 0:a.split(e)[1])||void 0===o?void 0:o.toUpperCase()}else c?g="KML":h?g="GeoRSS":f?g="CSV":v?g="Tile Layer":i.endsWith("KnowledgeGraphServer")&&(g="Knowledge Graph");else g="OGCFeatureServer";return{result:g}},P=(e,t)=>!t&&e.includes("http://")}}]);