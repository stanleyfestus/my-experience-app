/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-ed68c1.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-ed68c1"],{99004:(e,n,t)=>{t.d(n,{c:()=>r,g:()=>o});var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},91063:(e,n,t)=>{t.r(n),t.d(n,{arcgis_member_browser_filter_login_type:()=>a});var r=t(20536),o=t(9055),i=t(44090),s=t(68537),l=t(33198),u=t(39489);t(10699),t(78231),t(98034),t(99004),t(38973),t(25972),t(369),t(91589),t(91102),t(73807);const a=class{constructor(e){(0,r.r)(this,e),this.arcgisMemberBrowserFilter=(0,r.c)(this,"arcgisMemberBrowserFilter",7),this.loadLoginTypeInfo=async()=>{const{user:e,portal:n}=null!==i.c&&void 0!==i.c?i.c:{};!this.loginTypeInfo&&e&&n&&!n.isPortal&&(0,s.l)(e)&&(this.loginTypeInfo=await(0,l.h)(n))},this.loginType=void 0,this.expanded=void 0,this.loginTypeInfo=void 0}componentWillLoad(){this.store=(0,o.g)(this.el),this.i18n=this.store.state.i18n.filterLoginType}async componentDidLoad(){this.loadLoginTypeInfo(),(0,i.o)("user",this.loadLoginTypeInfo),(0,i.o)("portal",this.loadLoginTypeInfo),(0,u.a)("loginType",this.store,(()=>this.loginType=null))}getEventDetail(){const{loginType:e}=this;if(!e)return{id:"loginType",param:"provider",value:"",label:""};const n={social:{text:this.i18n.social,value:this.loginTypeInfo.socialProviders.join(",")},saml:{text:"SAML",value:"enterprise"},oidc:{text:"OpenID Connect",value:`oidc_${this.loginTypeInfo.oidcId}`},arcgis:{text:"ArcGIS",value:"arcgis"}}[this.loginType]||{text:"ArcGIS",value:"arcgis"};return{id:"loginType",param:"provider",value:n.value,label:this.i18n.label.replace("${type}",n.text)}}emitEvent(){const e=this.getEventDetail();this.arcgisMemberBrowserFilter.emit(e)}render(){var e;const{user:n}=i.c,{loginTypeInfo:t}=this;if(this.store.state.groupId&&!this.store.state.myOrgView||!n||!t||this.store.state.includeExternalUsers)return null;const o=[{text:"ArcGIS",value:"arcgis"},...t.hasSAML?[{text:"SAML",value:"saml"}]:[],...Boolean(t.oidcId)?[{text:"OIDC",value:"oidc"}]:[],...(null===(e=t.socialProviders)||void 0===e?void 0:e.length)>0?[{text:this.i18n.social,value:"social"}]:[]];return o.length<=1?null:(0,r.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,active:!!this.loginType,onArcgisBrowserFilterRemove:()=>{this.loginType=null},filterID:"loginType"},(0,r.h)("calcite-tree",{selectionMode:"single",onCalciteTreeSelect:e=>{var n;const t=null===(n=e.target.selectedItems)||void 0===n?void 0:n[0].dataset.loginType;this.loginType===t?this.loginType=null:this.loginType=t,this.emitEvent()}},o.map((e=>(0,r.h)("calcite-tree-item",{key:e.value,"data-login-type":e.value,selected:this.loginType===e.value},(0,r.h)("a",null,e.text))))))}get el(){return(0,r.d)(this)}}},91102:(e,n,t)=>{t.d(n,{a:()=>u,c:()=>o,d:()=>a,g:()=>i,i:()=>s,s:()=>l});var r=t(73807);function o(e,n){return function e(t){return t?t.closest(n)||e(function(e){return e.getRootNode()}(t).host||null):null}(e)}function i(e){const n=o(e,".calcite-mode-dark, .calcite-mode-light");return(null==n?void 0:n.classList.contains("calcite-mode-dark"))?"dark":"light"}function s(e){let n=e;for(;null==n?void 0:n.parentNode;){if(n.parentNode===document)return!0;n=n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}return!1}function l(e){return(new r.S).sanitize(e)}function u(e){const n=l(e),t=document.createElement("div");return t.innerHTML=n,t.textContent||t.innerText||""}function a(e){const n=document.createElement("textarea");return n.innerHTML=e,n.value}},78231:(e,n,t)=>{t.d(n,{a:()=>l,b:()=>s,c:()=>c,d:()=>d,e:()=>v,f:()=>m,g:()=>S,h:()=>g,i:()=>u,j:()=>w,k:()=>b,l:()=>h,m:()=>I,n:()=>T,o:()=>f,p:()=>y,q:()=>p,u:()=>a});var r=t(98034),o=t(38973);function i(e){var n;return!!(null===(n=e.owner)||void 0===n?void 0:n.toLowerCase().includes("esri"))}function s(e){var n;return i(e)&&!!(null===(n=e.typeKeywords)||void 0===n?void 0:n.includes("Requires Credits"))}function l(e){var n;return i(e)&&!!(null===(n=e.typeKeywords)||void 0===n?void 0:n.includes("Requires Subscription"))}function u(e,n){return e.owner===n.username}function a(e,n){return u(e,n)||function(e,n){var t;if(null!=e.isAdmin)return!!e.isAdmin;const r=e.owner,o="admin"===e.itemControl,i=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(t=e.portal)||void 0===t?void 0:t.isPortal)&&!u(e,n)&&o&&r.includes("esri_")&&!i.includes(r))return!1;return o}(e,n)}const c=(e,n)=>!!n.orgId&&e.every((e=>e.isOrgItem)),d=(e,n)=>`${(0,o.a)(n)}item.html?id=${e}`,v=(e,n)=>`${(0,o.g)(n)}/content/users/${e}`,p=e=>e.reduce(((e,n)=>(e[n.owner]=e[n.owner]?[...e[n.owner],n.id]:[n.id],e)),{});function f(e){var n;return null===(n=e.typeKeywords)||void 0===n?void 0:n.includes("Spatiotemporal")}function m(e){var n;return null===(n=e.typeKeywords)||void 0===n?void 0:n.includes("View Service")}function g(e){var n;return null===(n=e.typeKeywords)||void 0===n?void 0:n.includes("Hosted Service")}function h(e){var n;return null===(n=e.typeKeywords)||void 0===n?void 0:n.includes("Multi Services View")}function y(e){return(null==e?void 0:e.hasViews)&&!e.sourceSchemaChangesAllowed}async function w(e){var n;const t=null==e?void 0:e.portalItem;if(!t)return Promise.resolve(null);const i=t.portal,[s]=await(0,r.l)(["esri/request"]);if(null==i?void 0:i.user){return s(`${(0,o.g)(i)}community/users/${i.user.username}`,{query:{f:"json",token:null===(n=t.portal.credential)||void 0===n?void 0:n.token},responseType:"json"}).then((e=>{var n,t;const r=null!==(t=null===(n=e.data)||void 0===n?void 0:n.groups)&&void 0!==t?t:[];return Promise.resolve(r)}),(()=>Promise.reject()))}return Promise.resolve(null)}async function b(e){var n;const t=null==e?void 0:e.portalItem;if(!t)return Promise.resolve(null);const i=t.portal,[s]=await(0,r.l)(["esri/request"]);return s(`${(0,o.g)(i)}content/items/${t.id}/groups`,{query:{f:"json",token:null===(n=t.portal.credential)||void 0===n?void 0:n.token},responseType:"json"}).then((e=>{var n,t,r,o,i,s;const l=[...null!==(t=null===(n=e.data)||void 0===n?void 0:n.admin)&&void 0!==t?t:[],...null!==(o=null===(r=e.data)||void 0===r?void 0:r.member)&&void 0!==o?o:[],...null!==(s=null===(i=e.data)||void 0===i?void 0:i.other)&&void 0!==s?s:[]];return Promise.resolve(l)}),(()=>Promise.reject()))}async function T(e,n,{relationshipType:t,direction:i}){const s=`${(0,o.g)(n)}content/items/${e}/relatedItems`,[l]=await(0,r.l)(["esri/request"]);return await l(s,{query:{f:"json",relationshipType:t,direction:i},method:"get",responseType:"json"})}function I(e,n){return null==e?void 0:e.some((e=>null==n?void 0:n.some((n=>e.id===n.id&&e.capabilities.includes("updateitemcontrol")))))}const S=(e,n)=>`${n}/content/items/${e}`},98034:(e,n,t)=>{t.d(n,{e:()=>i,l:()=>s});var r,o=t(99004),i={exports:{}};r=i.exports,o.c,function(e){var n={Promise:"undefined"!=typeof window?window.Promise:void 0},t="4.24",r="next";function o(e){if(e.toLowerCase()===r)return r;var n=e&&e.match(/^(\d)\.(\d+)/);return n&&{major:parseInt(n[1],10),minor:parseInt(n[2],10)}}function i(e){return void 0===e&&(e=t),"https://js.arcgis.com/".concat(e,"/")}function s(e){void 0===e&&(e=t);var n=i(e),s=o(e);if(s!==r&&3===s.major){var l=s.minor<=10?"js/":"";return"".concat(n).concat(l,"esri/css/esri.css")}return"".concat(n,"esri/themes/light/main.css")}function l(e){var n=document.createElement("link");return n.rel="stylesheet",n.href=e,n}function u(e,n){if(n){var t=document.querySelector(n);t.parentNode.insertBefore(e,t)}else document.head.appendChild(e)}function a(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function c(e){return!e||o(e)?s(e):e}function d(e,n){var t=c(e),r=a(t);return r||u(r=l(t),n),r}var v={};function p(e){var n=document.createElement("script");return n.type="text/javascript",n.src=e,n.setAttribute("data-esri-loader","loading"),n}function f(e,n,t){var r;t&&(r=m(e,t));var o=function(){n(e),e.removeEventListener("load",o,!1),r&&e.removeEventListener("error",r,!1)};e.addEventListener("load",o,!1)}function m(e,n){var t=function(r){n(r.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",t,!1)};return e.addEventListener("error",t,!1),t}function g(e){void 0===e&&(e={}),v=e}function h(){return document.querySelector("script[data-esri-loader]")}function y(){var e=window.require;return e&&e.on}function w(e){void 0===e&&(e={});var t={};[v,e].forEach((function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}));var r=t.version,o=t.url||i(r);return new n.Promise((function(e,n){var i=h();if(i){var s=i.getAttribute("src");s!==o?n(new Error("The ArcGIS API for JavaScript is already loaded (".concat(s,")."))):y()?e(i):f(i,e,n)}else if(y())n(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=t.css;l&&d(!0===l?r:l,t.insertCssBefore),f(i=p(o),(function(){i.setAttribute("data-esri-loader","loaded"),e(i)}),n),document.body.appendChild(i)}}))}function b(e){return new n.Promise((function(n,t){var r=window.require.on("error",t);window.require(e,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r.remove(),n(e)}))}))}function T(e,n){if(void 0===n&&(n={}),y())return b(e);var t=h(),r=t&&t.getAttribute("src");return!n.url&&r&&(n.url=r),w(n).then((function(){return b(e)}))}e.utils=n,e.loadModules=T,e.getScript=h,e.isLoaded=y,e.loadScript=w,e.setDefaultOptions=g,e.loadCss=d,Object.defineProperty(e,"__esModule",{value:!0})}(r);const s=async(e,n)=>(await i.exports.loadModules(e,n)).map((e=>e.__esModule&&e.default?e.default:e))},68537:(e,n,t)=>{t.d(n,{a:()=>l,b:()=>i,c:()=>s,d:()=>f,e:()=>p,f:()=>v,g:()=>m,h:()=>h,i:()=>a,j:()=>g,k:()=>L,l:()=>u,m:()=>y,n:()=>d,o:()=>E,p:()=>b,q:()=>T,r:()=>_,s:()=>S,t:()=>I,u:()=>P,v:()=>x,w:()=>c,x:()=>$});var r=t(78231);const o=e=>{var n,t,r;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(t=null!==(n=null==e?void 0:e.roleId)&&void 0!==n?n:null==e?void 0:e.id)&&void 0!==t?t:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.id};function i(e){return e&&!e.orgId}function s(e,n){return(0,r.u)(e,n)||"update"===e.itemControl||(0,r.c)([e],n)&&p(n)}function l(e,n){const t=(0,r.c)([e],n),o=(0,r.u)(e,n)||p(n)&&t,i=m(n)&&w(n);return!!(o||t&&i)}const u=e=>{var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:manageLicenses"))};function a(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function c(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function d(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const v=e=>{var n;return null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.includes("Developer")};function p(e){return"org_admin"===o(e)||"account_admin"===o(e)}function f(e){return["org_admin","account_admin"].includes(o(e))&&!(null==e?void 0:e.roleId)}function m(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function g(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:updateItemCategorySchema"))}function h(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:updateGroups"))}function y(e){var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:assignToGroups"))}const w=e=>{var n;return!!(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:admin:deleteItems"))};function b(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function T(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function I(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function S(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function P(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function _(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function L(e,n,t,r){const o=r&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(r.type),i=((null==n?void 0:n.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!n||!p(n)&&!i||!(null==t?void 0:t.isPortal)&&!o)}function $(e){return!!e&&(!m(e)||m(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const x=({items:e,user:n,portal:t})=>{const o=e[0],i=o.owner;if(t.isPortal&&i!==n.username&&i.includes("esri_")&&!["esri_livingatlas"].includes(i))return!1;const l=(0,r.u)(o,n),u=m(n),a=C(n),c=s(o,n)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(n)&&!u&&(function(e,n){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(n)||b(e)||T(e)||!!n.canSharePublic&&I(e)}(n,t)||C(n));return l||c||(0,r.c)(e,n)&&a};function C(e){return _(e)||S(e)||P(e)}function E(e){const n=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];return e.some((e=>n.includes(e)))}},91589:(e,n,t)=>{t.d(n,{f:()=>o});var r=t(25972);async function o(e,n,t="results",o=!1){let i,s,l,u,a=1,c=[];n.start=a,n.num||(n.num=100);try{const d=await(0,r.r)(e,n);if(!(null==d?void 0:d[t]))return c;for(c=[...c,...d[t]],a=d.nextStart,i=d.total-c.length,s=Math.ceil(i/n.num),l=[],u=0;u<s;u++)if(n.start=a+u*n.num,o){const o=await(0,r.r)(e,n);(null==o?void 0:o[t])&&(c=[...c,...o[t]])}else l.push((0,r.r)(e,n));if(!o){(await Promise.all(l)).forEach((e=>{c=[...c,...e[t]]}))}return c}catch(e){return c}}},33198:(e,n,t)=>{t.d(n,{a:()=>l,b:()=>u,c:()=>p,d:()=>f,e:()=>m,f:()=>a,g:()=>h,h:()=>g,i:()=>c,j:()=>d,k:()=>v,l:()=>s});var r=t(38973),o=t(25972),i=t(91589);async function s(e){const n=(0,r.c)(e);try{return(await(0,o.r)(`${n}portals/self/users/counts`,{type:"userLicenseType"})).results}catch(e){return[]}}async function l(e){const n=(0,r.c)(e);return await(0,i.f)(`${n}portals/self/userLicenseTypes`,{num:10},"userLicenseTypes")}async function u(e){const n=(0,r.c)(e),t=await(0,i.f)(`${n}portals/self/roles`,{returnPrivileges:!0},"roles");return t.sort(((e,n)=>{const t=e.name.toLowerCase(),r=n.name.toLowerCase();return t>r?1:t<r?-1:0})),t}async function a(e,n){const t=(0,r.c)(e);let s;try{s=(await(0,o.r)(`${t}community/groups/${n}/userlist`,{num:0})).owner}catch(e){}return{admins:await(0,i.f)(`${t}community/groups/${n}/userlist`,{memberType:"admin"},"users"),owner:null==s?void 0:s.username}}async function c(e,n){const t=(0,r.c)(e),i=await(0,o.r)(`${t}community/users/${n}`),s=(null==i?void 0:i.groups)||[];return s.sort(((e,n)=>{const t="owner"===e.userMembership.memberType?1:-1,r="owner"===n.userMembership.memberType?1:-1,o=e.title.toLowerCase(),i=n.title.toLowerCase();return t!==r?r-t:o>i?1:o<i?-1:0})),s}async function d(e,n){const t=(0,r.c)(e);try{return await(0,o.r)(`${t}community/groups`,n)}catch(e){return}}async function v(e,n){const t=(0,r.c)(e);return await(0,i.f)(`${t}community/groups`,n)}async function p(e){const n=(0,r.c)(e);try{return(await(0,o.r)(`${n}portals/self/trustedOrgs`,{num:100})).trustedOrgs.filter((e=>e.from.established>-1&&e.to.established>-1)).sort(((e,n)=>e.to.name>n.to.name?1:e.to.name<n.to.name?-1:0))}catch(e){return[]}}async function f(e){const n=(0,r.c)(e);return await(0,i.f)(`${n}portals/self/contacts`,{type:"collaboration",collaborators:!0},"users")}async function m(e,n){var t,i;const s=(0,r.c)(e);try{return(null===(i=null===(t=(await(0,o.r)(`${s}community/users`,{searchUserAccess:"groupMember",groups:n,countFields:"accountid",num:0,countSize:200})).aggregations.counts)||void 0===t?void 0:t[0])||void 0===i?void 0:i.fieldValues)||[]}catch(e){return[]}}async function g(e){var n,t,i;const s=(0,r.c)(e);try{const[e,r,l,u]=await Promise.all([(0,o.r)(`${s}portals/self/idp`),(0,o.r)(`${s}portals/self/idp/federation`),(0,o.r)(`${s}portals/self/oidc`),(0,o.r)(`${s}portals/self/socialProviders`)]);return{hasSAML:Boolean((null==e?void 0:e.id)?e:(null==r?void 0:r.id)?r:null),socialProviders:null===(n=null==u?void 0:u.config)||void 0===n?void 0:n.providers,oidcId:null===(i=null===(t=null==l?void 0:l.oidcProviders)||void 0===t?void 0:t[0])||void 0===i?void 0:i.id}}catch(e){return{hasSAML:!1}}}async function h(e){const n=(0,r.c)(e);try{const e=await(0,o.r)(`${n}portals/self/purchases`),t=y(e.purchases),r=y(e.trials),i=[...t,...r];return i.sort(((e,n)=>{const t=e.title.toLowerCase(),r=n.title.toLowerCase();return t>r?1:t<r?-1:0})),i}catch(e){return[]}}function y(e){const n=[];return e.forEach((({listing:e,provision:t})=>{var r;(null==e?void 0:e.type.includes("Application"))&&(null===(r=null==t?void 0:t.orgEntitlements)||void 0===r?void 0:r.entitlements)&&n.push({id:e.itemId,title:e.title})})),n}},9055:(e,n,t)=>{t.d(n,{g:()=>i,o:()=>s});var r=t(10699),o=t(39489);function i(e){return(0,o.g)(e,"arcgis-member-browser")}(0,r.c)({type:"member-browser",includeExternalUsers:!1});const s=(e,n)=>{e.onChange("sort",(e=>{n(e)}))}},39489:(e,n,t)=>{t.d(n,{a:()=>i,b:()=>l,g:()=>a,i:()=>o,o:()=>s});var r=t(91102);const o=e=>"item-browser"===e.state.type,i=(e,n,t)=>{n.onChange("filters",(n=>{n[e]&&n[e].value||t()}))},s=(e,n)=>{e.onChange("preview",(e=>{n()}))},l=(e,n)=>{e.onChange("groupId",(e=>{n()}))},u=new Map;function a(e,n){const t=u.get(e);if(t)return t;const o=(0,r.c)(e,n);return o?(u.set(e,o.store),o.store):null}}}]);