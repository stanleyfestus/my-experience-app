/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-8de064.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-8de064"],{99004:(t,e,r)=>{r.d(e,{c:()=>n,g:()=>o});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}},34630:(t,e,r)=>{r.r(e),r.d(e,{arcgis_member_browser_filter_partner_collabs:()=>c});var n=r(20536),o=r(9055),i=r(44090),a=r(33198),s=r(52042);r(10699),r(39489),r(91102),r(73807),r(38973),r(25972),r(98034),r(99004),r(369),r(91589);const c=class{constructor(t){(0,n.r)(this,t),this.arcgisMemberBrowserFilter=(0,n.c)(this,"arcgisMemberBrowserFilter",7),this.arcgisMemberBrowserCoordinatorsSwitchCange=(0,n.c)(this,"arcgisMemberBrowserCoordinatorsSwitchCange",7),this.loadData=async()=>{await this.loadPartnerCollaborations(),await this.loadCoordinators()},this.loadPartnerCollaborations=async()=>{var t;const{portal:e}=null!==i.c&&void 0!==i.c?i.c:{},r=null===(t=null==e?void 0:e.sourceJSON)||void 0===t?void 0:t.subscriptionInfo;!this.partnerCollaborations&&r&&(0,s.c)(e)&&(this.partnerCollaborations=await(0,a.c)(e),this.partnerCollaborations.sort(((t,e)=>t.to.name>e.to.name?1:t.to.name<e.to.name?-1:0)))},this.loadCoordinators=async()=>{var t;const{portal:e}=null!==i.c&&void 0!==i.c?i.c:{},r=null===(t=null==e?void 0:e.sourceJSON)||void 0===t?void 0:t.subscriptionInfo;!this.coordinators&&r&&(0,s.c)(e)&&(this.coordinators=await(0,a.d)(e),this.store.state.collaborationCoordinators=this.coordinators)},this.handleSwitchChange=t=>{const e=t.target;this.store.state.coordinatorsOnly=e.checked,this.arcgisMemberBrowserCoordinatorsSwitchCange.emit({checked:t.target.checked})},this.partnerOrgId=void 0,this.expanded=void 0,this.partnerCollaborations=void 0,this.coordinators=void 0}componentWillLoad(){this.store=(0,o.g)(this.el),this.i18n=this.store.state.i18n.filterPartnerCollabs}componentDidLoad(){this.loadData(),(0,i.o)("portal",this.loadData)}getEventDetail(){var t;const{partnerOrgId:e}=this;if(!e)return{id:"partnerOrg",param:"orgid",value:"",label:""};const r=null===(t=this.partnerCollaborations)||void 0===t?void 0:t.find((t=>t.to.orgId===e));return{id:"partnerOrg",param:"orgid",value:r.to.orgId,label:this.i18n.label.replace("${name}",r.to.name)}}async emitEvent(){const t=await this.getEventDetail();this.arcgisMemberBrowserFilter.emit(t)}render(){var t,e,r;const{portal:o}=i.c;return o&&(null===(t=this.partnerCollaborations)||void 0===t?void 0:t.length)&&(0,s.c)(o)&&this.store.state.includeExternalUsers?(0,n.h)("div",null,(null===(e=this.store.state.collaborationCoordinators)||void 0===e?void 0:e.length)>0&&(0,n.h)("div",{class:"switch-label"},(0,n.h)("calcite-label",{for:"coordinators-only-switch"},this.i18n.coordinatorsOnly),(0,n.h)("arcgis-information",{label:this.i18n.coordinatorsInfoLabel,paddedContent:!0,class:"switch-information"},(0,n.h)("p",null,this.i18n.coordinatorsDescription)),(0,n.h)("calcite-switch",{id:"coordinators-only-switch",checked:this.store.state.coordinatorsOnly,onCalciteSwitchChange:this.handleSwitchChange})),(0,n.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,active:!!this.partnerOrgId,onArcgisBrowserFilterRemove:()=>{this.partnerOrgId=null},filterID:"partnerOrg"},(0,n.h)("div",{class:"tree-wrapper"},(0,n.h)("calcite-tree",{selectionMode:"single",onCalciteTreeSelect:t=>{var e;const r=(null===(e=t.target.selectedItems)||void 0===e?void 0:e[0].dataset.partnerOrg)||"";this.partnerOrgId===r?this.partnerOrgId=null:this.partnerOrgId=r,this.emitEvent()}},null===(r=this.partnerCollaborations)||void 0===r?void 0:r.map((t=>(0,n.h)("calcite-tree-item",{key:t.to.orgId,"data-partner-org":t.to.orgId,selected:t.to.orgId===this.partnerOrgId},(0,n.h)("a",null,t.to.name)))))))):null}get el(){return(0,n.d)(this)}};c.style=".switch-label{display:flex;align-items:flex-start;gap:0.25rem;padding-top:1rem;padding-bottom:0.25rem;border-top:1px solid var(--calcite-ui-border-1)}.switch-information{margin-inline-end:0.5rem;--arcgis-information-min-width:calc(var(--arcgis-browser-pane-width) * 0.75)}.tree-wrapper{max-height:14rem;overflow:auto}"},91102:(t,e,r)=>{r.d(e,{a:()=>c,c:()=>o,d:()=>l,g:()=>i,i:()=>a,s:()=>s});var n=r(73807);function o(t,e){return function t(r){return r?r.closest(e)||t(function(t){return t.getRootNode()}(r).host||null):null}(t)}function i(t){const e=o(t,".calcite-mode-dark, .calcite-mode-light");return(null==e?void 0:e.classList.contains("calcite-mode-dark"))?"dark":"light"}function a(t){let e=t;for(;null==e?void 0:e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1}function s(t){return(new n.S).sanitize(t)}function c(t){const e=s(t),r=document.createElement("div");return r.innerHTML=e,r.textContent||r.innerText||""}function l(t){const e=document.createElement("textarea");return e.innerHTML=t,e.value}},98034:(t,e,r)=>{r.d(e,{e:()=>i,l:()=>a});var n,o=r(99004),i={exports:{}};n=i.exports,o.c,function(t){var e={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",n="next";function o(t){if(t.toLowerCase()===n)return n;var e=t&&t.match(/^(\d)\.(\d+)/);return e&&{major:parseInt(e[1],10),minor:parseInt(e[2],10)}}function i(t){return void 0===t&&(t=r),"https://js.arcgis.com/".concat(t,"/")}function a(t){void 0===t&&(t=r);var e=i(t),a=o(t);if(a!==n&&3===a.major){var s=a.minor<=10?"js/":"";return"".concat(e).concat(s,"esri/css/esri.css")}return"".concat(e,"esri/themes/light/main.css")}function s(t){var e=document.createElement("link");return e.rel="stylesheet",e.href=t,e}function c(t,e){if(e){var r=document.querySelector(e);r.parentNode.insertBefore(t,r)}else document.head.appendChild(t)}function l(t){return document.querySelector('link[href*="'.concat(t,'"]'))}function d(t){return!t||o(t)?a(t):t}function u(t,e){var r=d(t),n=l(r);return n||c(n=s(r),e),n}var h={};function p(t){var e=document.createElement("script");return e.type="text/javascript",e.src=t,e.setAttribute("data-esri-loader","loading"),e}function f(t,e,r){var n;r&&(n=v(t,r));var o=function(){e(t),t.removeEventListener("load",o,!1),n&&t.removeEventListener("error",n,!1)};t.addEventListener("load",o,!1)}function v(t,e){var r=function(n){e(n.error||new Error("There was an error attempting to load ".concat(t.src))),t.removeEventListener("error",r,!1)};return t.addEventListener("error",r,!1),r}function m(t){void 0===t&&(t={}),h=t}function g(){return document.querySelector("script[data-esri-loader]")}function w(){var t=window.require;return t&&t.on}function y(t){void 0===t&&(t={});var r={};[h,t].forEach((function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}));var n=r.version,o=r.url||i(n);return new e.Promise((function(t,e){var i=g();if(i){var a=i.getAttribute("src");a!==o?e(new Error("The ArcGIS API for JavaScript is already loaded (".concat(a,")."))):w()?t(i):f(i,t,e)}else if(w())e(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=r.css;s&&u(!0===s?n:s,r.insertCssBefore),f(i=p(o),(function(){i.setAttribute("data-esri-loader","loaded"),t(i)}),e),document.body.appendChild(i)}}))}function b(t){return new e.Promise((function(e,r){var n=window.require.on("error",r);window.require(t,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];n.remove(),e(t)}))}))}function C(t,e){if(void 0===e&&(e={}),w())return b(t);var r=g(),n=r&&r.getAttribute("src");return!e.url&&n&&(e.url=n),y(e).then((function(){return b(t)}))}t.utils=e,t.loadModules=C,t.getScript=g,t.isLoaded=w,t.loadScript=y,t.setDefaultOptions=m,t.loadCss=u,Object.defineProperty(t,"__esModule",{value:!0})}(n);const a=async(t,e)=>(await i.exports.loadModules(t,e)).map((t=>t.__esModule&&t.default?t.default:t))},91589:(t,e,r)=>{r.d(e,{f:()=>o});var n=r(25972);async function o(t,e,r="results",o=!1){let i,a,s,c,l=1,d=[];e.start=l,e.num||(e.num=100);try{const u=await(0,n.r)(t,e);if(!(null==u?void 0:u[r]))return d;for(d=[...d,...u[r]],l=u.nextStart,i=u.total-d.length,a=Math.ceil(i/e.num),s=[],c=0;c<a;c++)if(e.start=l+c*e.num,o){const o=await(0,n.r)(t,e);(null==o?void 0:o[r])&&(d=[...d,...o[r]])}else s.push((0,n.r)(t,e));if(!o){(await Promise.all(s)).forEach((t=>{d=[...d,...t[r]]}))}return d}catch(t){return d}}},33198:(t,e,r)=>{r.d(e,{a:()=>s,b:()=>c,c:()=>p,d:()=>f,e:()=>v,f:()=>l,g:()=>g,h:()=>m,i:()=>d,j:()=>u,k:()=>h,l:()=>a});var n=r(38973),o=r(25972),i=r(91589);async function a(t){const e=(0,n.c)(t);try{return(await(0,o.r)(`${e}portals/self/users/counts`,{type:"userLicenseType"})).results}catch(t){return[]}}async function s(t){const e=(0,n.c)(t);return await(0,i.f)(`${e}portals/self/userLicenseTypes`,{num:10},"userLicenseTypes")}async function c(t){const e=(0,n.c)(t),r=await(0,i.f)(`${e}portals/self/roles`,{returnPrivileges:!0},"roles");return r.sort(((t,e)=>{const r=t.name.toLowerCase(),n=e.name.toLowerCase();return r>n?1:r<n?-1:0})),r}async function l(t,e){const r=(0,n.c)(t);let a;try{a=(await(0,o.r)(`${r}community/groups/${e}/userlist`,{num:0})).owner}catch(t){}return{admins:await(0,i.f)(`${r}community/groups/${e}/userlist`,{memberType:"admin"},"users"),owner:null==a?void 0:a.username}}async function d(t,e){const r=(0,n.c)(t),i=await(0,o.r)(`${r}community/users/${e}`),a=(null==i?void 0:i.groups)||[];return a.sort(((t,e)=>{const r="owner"===t.userMembership.memberType?1:-1,n="owner"===e.userMembership.memberType?1:-1,o=t.title.toLowerCase(),i=e.title.toLowerCase();return r!==n?n-r:o>i?1:o<i?-1:0})),a}async function u(t,e){const r=(0,n.c)(t);try{return await(0,o.r)(`${r}community/groups`,e)}catch(t){return}}async function h(t,e){const r=(0,n.c)(t);return await(0,i.f)(`${r}community/groups`,e)}async function p(t){const e=(0,n.c)(t);try{return(await(0,o.r)(`${e}portals/self/trustedOrgs`,{num:100})).trustedOrgs.filter((t=>t.from.established>-1&&t.to.established>-1)).sort(((t,e)=>t.to.name>e.to.name?1:t.to.name<e.to.name?-1:0))}catch(t){return[]}}async function f(t){const e=(0,n.c)(t);return await(0,i.f)(`${e}portals/self/contacts`,{type:"collaboration",collaborators:!0},"users")}async function v(t,e){var r,i;const a=(0,n.c)(t);try{return(null===(i=null===(r=(await(0,o.r)(`${a}community/users`,{searchUserAccess:"groupMember",groups:e,countFields:"accountid",num:0,countSize:200})).aggregations.counts)||void 0===r?void 0:r[0])||void 0===i?void 0:i.fieldValues)||[]}catch(t){return[]}}async function m(t){var e,r,i;const a=(0,n.c)(t);try{const[t,n,s,c]=await Promise.all([(0,o.r)(`${a}portals/self/idp`),(0,o.r)(`${a}portals/self/idp/federation`),(0,o.r)(`${a}portals/self/oidc`),(0,o.r)(`${a}portals/self/socialProviders`)]);return{hasSAML:Boolean((null==t?void 0:t.id)?t:(null==n?void 0:n.id)?n:null),socialProviders:null===(e=null==c?void 0:c.config)||void 0===e?void 0:e.providers,oidcId:null===(i=null===(r=null==s?void 0:s.oidcProviders)||void 0===r?void 0:r[0])||void 0===i?void 0:i.id}}catch(t){return{hasSAML:!1}}}async function g(t){const e=(0,n.c)(t);try{const t=await(0,o.r)(`${e}portals/self/purchases`),r=w(t.purchases),n=w(t.trials),i=[...r,...n];return i.sort(((t,e)=>{const r=t.title.toLowerCase(),n=e.title.toLowerCase();return r>n?1:r<n?-1:0})),i}catch(t){return[]}}function w(t){const e=[];return t.forEach((({listing:t,provision:r})=>{var n;(null==t?void 0:t.type.includes("Application"))&&(null===(n=null==r?void 0:r.orgEntitlements)||void 0===n?void 0:n.entitlements)&&e.push({id:t.itemId,title:t.title})})),e}},9055:(t,e,r)=>{r.d(e,{g:()=>i,o:()=>a});var n=r(10699),o=r(39489);function i(t){return(0,o.g)(t,"arcgis-member-browser")}(0,n.c)({type:"member-browser",includeExternalUsers:!1});const a=(t,e)=>{t.onChange("sort",(t=>{e(t)}))}},39489:(t,e,r)=>{r.d(e,{a:()=>i,b:()=>s,g:()=>l,i:()=>o,o:()=>a});var n=r(91102);const o=t=>"item-browser"===t.state.type,i=(t,e,r)=>{e.onChange("filters",(e=>{e[t]&&e[t].value||r()}))},a=(t,e)=>{t.onChange("preview",(t=>{e()}))},s=(t,e)=>{t.onChange("groupId",(t=>{e()}))},c=new Map;function l(t,e){const r=c.get(t);if(r)return r;const o=(0,n.c)(t,e);return o?(c.set(t,o.store),o.store):null}},52042:(t,e,r)=>{function n(t){var e;const r=null===(e=null==t?void 0:t.sourceJSON)||void 0===e?void 0:e.subscriptionInfo;return r&&["Organizational Plan","Community","In House","ConnectED","ELA","Education Site License","Education","HUP Online Entitlement","Demo and Marketing"].includes(r.type)}r.d(e,{c:()=>n})}}]);