/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-619287.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-619287"],{43856:(e,r,a)=>{a.r(r),a.d(r,{arcgis_smart_mapping:()=>l});var i=a(20536),s=a(37568),t=(a(74129),a(98034)),n=a(37219),p=a(28832),o=a(34752);a(91102),a(73807),a(99004),a(10699),a(98072);const l=class{constructor(e){(0,i.r)(this,e),this.smartMappingCompleteClose=(0,i.c)(this,"smartMappingCompleteClose",7),this.arcgisSmartMappingClose=(0,i.c)(this,"arcgisSmartMappingClose",7),this.arcgisSmartMappingBeforeBack=(0,i.c)(this,"arcgisSmartMappingBeforeBack",7),this.arcgisSmartMappingError=(0,i.c)(this,"arcgisSmartMappingError",7),this.arcgisSmartMappingClusterRequiresUpdate=(0,i.c)(this,"arcgisSmartMappingClusterRequiresUpdate",7),this.arcgisSmartMappingLoaded=(0,i.c)(this,"arcgisSmartMappingLoaded",7),this.closedViaEvent=!1,this.allFlowItemComponents="arcgis-smart-mapping,\n      arcgis-smart-mapping-panels-gallery,\n      arcgis-smart-mapping-panels-assist,\n      arcgis-smart-mapping-panels-simple,\n      arcgis-smart-mapping-panels-heatmap,\n      arcgis-smart-mapping-panels-predominance,\n      arcgis-smart-mapping-panels-predominance-size,\n      arcgis-smart-mapping-panels-relationship,\n      arcgis-smart-mapping-panels-relationship-size,\n      arcgis-smart-mapping-panels-size,\n      arcgis-smart-mapping-panels-chart,\n      arcgis-smart-mapping-panels-chart-size,\n      arcgis-smart-mapping-panels-color,\n      arcgis-smart-mapping-panels-color-size,\n      arcgis-smart-mapping-panels-color-size-univariate,\n      arcgis-smart-mapping-panels-compare,\n      arcgis-smart-mapping-panels-dot-density,\n      arcgis-smart-mapping-panels-type,\n      arcgis-smart-mapping-panels-type-size,\n      arcgis-smart-mapping-panels-raster-gallery,\n      arcgis-smart-mapping-panels-raster-flow,\n      arcgis-smart-mapping-panels-raster-vector-field,\n      arcgis-smart-mapping-panels-raster-stretch,\n      arcgis-smart-mapping-panels-raster-rgb,\n      arcgis-smart-mapping-panels-raster-shaded-relief,\n      arcgis-smart-mapping-panels-raster-class-breaks,\n      arcgis-smart-mapping-panels-raster-colormap,\n      arcgis-smart-mapping-panels-raster-unique-value",this.portal=void 0,this.config=void 0,this.mapView=void 0,this.layer=void 0,this.useFeatureReduction=!1,this.skipGallery=!1,this.stylePart=void 0,this.hideLayerTitle=!1,this.hideSvgUploadSymbols=!1,this.hideAddStyles=!1}arcgisSmartMappingCloseHandler(){this.closedViaEvent=!0}smartMappingCompleteCloseHandler(e){this.arcgisSmartMappingClose.emit(e.detail)}async setFocus(){this.flowNode.setFocus()}async componentWillLoad(){var e,r,a;console.warn("%capp-components","background: #007AC2; color: #fff; border-radius: 4px; padding: 2px 4px;",'[arcgis-smart-mapping] component in @arcgis/app-components is deprecated and will be removed in a future version. Use "arcgis-smart-mapping" from @arcgis/map-config-components instead.');const{mapView:i,layer:s}=this;if(!s||!i)return;if(n.s.layer=s,n.s.hideSvgUploadSymbols=null!==(e=this.hideSvgUploadSymbols)&&void 0!==e&&e,n.s.hideAddStyles=null!==(r=this.hideAddStyles)&&void 0!==r&&r,await async function(){if((0,n.i)()){const[e,r,a,i,s,p,o,l,m,g,c,d,S,h,u,M,C,y,b,z,E,P,A,f,R,w,v,U,F]=await(0,t.l)(["esri/layers/support/Field","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/smartMapping/raster/renderers/flow","esri/smartMapping/raster/renderers/vectorField","esri/smartMapping/raster/renderers/stretch","esri/smartMapping/raster/renderers/rgb","esri/smartMapping/raster/renderers/shadedRelief","esri/smartMapping/raster/renderers/classBreaks","esri/smartMapping/raster/renderers/colormap","esri/smartMapping/raster/renderers/uniqueValue","esri/smartMapping/raster/support/colorRamps","esri/smartMapping/raster/support/utils","esri/Color","esri/smartMapping/symbology/type","esri/smartMapping/symbology/color","esri/views/support/colorUtils","esri/smartMapping/symbology/flow","esri/rest/support/MultipartColorRamp","esri/rest/support/AlgorithmicColorRamp","esri/widgets/smartMapping/ColorSlider","esri/widgets/smartMapping/ClassedColorSlider","esri/widgets/Slider","esri/core/lang","esri/layers/support/fieldUtils","esri/symbols/support/previewSymbol2D","esri/smartMapping/raster/support/utils","esri/symbols/support/symbolUtils"]);n.s.modules={Field:e,SimpleMarkerSymbol:r,SimpleLineSymbol:a,SimpleFillSymbol:i,RasterFlowCreator:s,RasterVectorFieldCreator:p,RasterStretchCreator:o,RasterRGBCreator:l,RasterShadedReliefCreator:m,RasterClassBreaksCreator:g,RasterColormapCreator:c,RasterUniqueValueCreator:d,rasterColorRampUtils:S,RasterRendererUtils:h,esriColor:u,typeSchemes:M,colorSchemes:C,colorUtils:y,flowSchemes:b,MultipartColorRamp:z,AlgorithmicColorRamp:E,ColorSlider:P,ClassedColorSlider:A,Slider:f,esriLang:R,fieldUtils:w,previewSymbol2D:v,smartMappingRasterUtils:U,symbolUtils:F}}else{const[e,r,a,i,s,p,o,l,m,g,c,d,S,h,u,M,C,y,b,z,E,P,A,f,R,w,v,U,F,V,k,L,O,I,B,q,T,G,x,_,D,N,H,J,j,Q,$,W,K,X,Y,Z,ee,re,ae,ie,se,te,ne,pe,oe,le,me,ge,ce,de]=await(0,t.l)(["esri/renderers/support/AuthoringInfo","esri/renderers/SimpleRenderer","esri/renderers/support/AttributeColorInfo","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon","esri/Graphic","esri/geometry/SpatialReference","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/rest/support/Query","esri/rest/support/FeatureSet","esri/layers/support/Field","esri/intl","esri/smartMapping/renderers/opacity","esri/smartMapping/renderers/pieChart","esri/smartMapping/renderers/color","esri/smartMapping/renderers/univariateColorSize","esri/smartMapping/renderers/dotDensity","esri/smartMapping/renderers/heatmap","esri/smartMapping/renderers/location","esri/smartMapping/renderers/predominance","esri/smartMapping/renderers/relationship","esri/smartMapping/renderers/size","esri/smartMapping/renderers/type","esri/Color","esri/smartMapping/symbology/type","esri/smartMapping/symbology/heatmap","esri/smartMapping/symbology/relationship","esri/smartMapping/symbology/predominance","esri/smartMapping/symbology/pieChart","esri/smartMapping/symbology/color","esri/smartMapping/symbology/dotDensity","esri/views/support/colorUtils","esri/smartMapping/statistics/heatmapStatistics","esri/smartMapping/statistics/summaryStatistics","esri/smartMapping/statistics/histogram","esri/smartMapping/statistics/predominantCategories","esri/renderers/visualVariables/support/SizeStop","esri/renderers/visualVariables/RotationVariable","esri/renderers/visualVariables/SizeVariable","esri/renderers/support/HeatmapColorStop","esri/renderers/support/UniqueValue","esri/renderers/support/UniqueValueClass","esri/renderers/support/UniqueValueGroup","esri/widgets/smartMapping/OpacitySlider","esri/widgets/smartMapping/HeatmapSlider","esri/widgets/smartMapping/ColorSlider","esri/widgets/smartMapping/ClassedColorSlider","esri/widgets/smartMapping/SizeSlider","esri/widgets/smartMapping/ClassedSizeSlider","esri/widgets/smartMapping/ColorSizeSlider","esri/widgets/smartMapping/BinaryColorSizeSlider","esri/widgets/Slider","esri/core/lang","esri/core/urlUtils","esri/request","esri/layers/support/fieldUtils","esri/widgets/smartMapping/support/utils","esri/symbols/support/cimSymbolUtils","esri/symbols/support/previewSymbol2D","esri/core/reactiveUtils","esri/renderers/support/jsonUtils","esri/renderers/support/utils","esri/symbols/support/symbolUtils"]);n.s.modules={AuthoringInfo:e,SimpleRenderer:r,AttributeColorInfo:a,Point:i,Polyline:s,Polygon:p,Graphic:o,SpatialReference:l,SimpleMarkerSymbol:m,SimpleLineSymbol:g,SimpleFillSymbol:c,Query:d,FeatureSet:S,Field:h,intl:u,OpacityVariableCreator:M,PieChartCreator:C,ColorCreator:y,UnivariateColorSizeCreator:b,DotDensityCreator:z,HeatmapCreator:E,LocationCreator:P,PredominanceCreator:A,RelationshipCreator:f,SizeCreator:R,TypeCreator:w,esriColor:v,typeSchemes:U,heatmapSchemes:F,relationshipSchemes:V,predominanceSchemes:k,pieChartSchemes:L,colorSchemes:O,dotDensitySchemes:I,colorUtils:B,heatmapStatistics:q,summaryStatistics:T,histogram:G,predominantCategories:x,SizeStop:_,RotationVariable:D,SizeVariable:N,HeatmapColorStop:H,UniqueValue:J,UniqueValueClass:j,UniqueValueGroup:Q,OpacitySlider:$,HeatmapSlider:W,ColorSlider:K,ClassedColorSlider:X,SizeSlider:Y,ClassedSizeSlider:Z,ColorSizeSlider:ee,BinaryColorSizeSlider:re,Slider:ae,esriLang:ie,urlUtils:se,esriRequest:te,fieldUtils:ne,smartMappingUtils:pe,cimSymbolUtils:oe,previewSymbol2D:le,reactiveUtils:me,rendererJsonUtils:ge,rendererSupportUtils:ce,symbolUtils:de}}}(),"esri.layers.support.Sublayer"===s.declaredClass){let e=!1;const r=null===(a=s.layer.sourceJSON)||void 0===a?void 0:a.cimVersion;if(r){const a=r.split("."),i=parseFloat(1===a.length?r:a[0]+"."+a[1]);e=s.layer.version>=10.51&&i>=1.4}n.s.mapImageSublayer=s,delete n.s.layer,await n.s.modules.reactiveUtils.whenOnce((()=>!i.updating)).then((async()=>{await n.s.mapImageSublayer.createFeatureLayer().then((async r=>{this.layer=r,await r.load().then((async()=>{await this.loadStore(),n.s.supportsArcade=e,await this.processLayer()}))}))}))}else"knowledge-graph-sublayer"===s.type&&(n.s.supportsArcade=!1),n.s.mapImageSublayer=null,await this.loadStore(),await this.processLayer();const p=(0,n.f)(this.hostElement,"calcite-flow");p&&(n.s.containsFlow=!1,this.flowNode=p,this.flowNode.customItemSelectors=this.flowNode.customItemSelectors?`${this.flowNode.customItemSelectors},${this.allFlowItemComponents}`:this.allFlowItemComponents)}async componentDidLoad(){this.arcgisSmartMappingLoaded.emit()}disconnectedCallback(){this.closedViaEvent||this.arcgisSmartMappingClose.emit("save")}async loadStore(){const[e,r,a]=await(0,s.g)(this.hostElement);(0,n.c)(n.s);const{portal:i,config:t,mapView:p,layer:l,hideLayerTitle:m,useFeatureReduction:g,hideSvgUploadSymbols:c,hideAddStyles:d}=this;n.s.portal=i,n.s.config=t,n.s.mapView=p,n.s.layer=l,n.s.hideLayerTitle=m,n.s.strings=e,n.s.locale=r,n.s.fullLocale=a,n.s.isRTL="rtl"===(0,o.g)(this.hostElement),n.s.useFeatureReduction=g,n.s.hideSvgUploadSymbols=c,n.s.hideAddStyles=d}render(){const{containsFlow:e,isRTL:r}=n.s;return(0,i.h)(i.H,{key:"2b114cd7297bebfd9188e18bd95b1b51afbd03d2",class:"calcite-match-height"},e?(0,i.h)("calcite-flow",{class:{flow:!0,[o.C.rtl]:r},ref:e=>this.flowNode=e,customItemSelectors:this.allFlowItemComponents},this.renderContent()):this.renderContent())}renderContent(){const{skipGallery:e}=this,{layer:r,containsFlow:a}=n.s;return e?this.renderSkipGallery():"geo-rss"===r.type?(0,i.h)("arcgis-smart-mapping-panels-simple",{onArcgisSmartMappingPanelsSimpleClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSimpleBackClick:()=>this.arcgisSmartMappingClose.emit("save")}):(0,n.i)()?(0,i.h)("arcgis-smart-mapping-panels-raster-gallery",{onArcgisSmartMappingPanelsRasterGalleryClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterGalleryError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-gallery",{showBackButton:!a,beforeBack:async()=>{a||this.arcgisSmartMappingBeforeBack.emit("save")},onArcgisSmartMappingPanelsGalleryClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsGalleryError:({detail:e})=>this.arcgisSmartMappingError.emit(e),onArcgisSmartMappingPanelsGalleryClusterRequiresUpdate:()=>this.arcgisSmartMappingClusterRequiresUpdate.emit()})}renderSkipGallery(){const{originalRendererJSON:e,originalFeatureReduction:r,stylePart:a}=this;switch((0,n.i)()?(0,n.g)():(0,n.a)()){case"simple":return(0,i.h)("arcgis-smart-mapping-panels-simple",{onArcgisSmartMappingPanelsSimpleClose:({detail:a})=>{"cancel"===a&&e&&(0,n.l)(e,r),this.arcgisSmartMappingClose.emit(a)},onArcgisSmartMappingPanelsSimpleError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"heatmap":return(0,i.h)("arcgis-smart-mapping-panels-heatmap",{onArcgisSmartMappingPanelsHeatmapClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsHeatmapError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"color":case"color-age":return(0,i.h)("arcgis-smart-mapping-panels-color",{onArcgisSmartMappingPanelsColorClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"size":case"size-age":return(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"color-size":case"color-age-size":case"color-size-age":const s=(0,n.b)(),t=(0,n.d)(s,"color"),p=(0,n.d)(s,"size");return t.field===p.field&&t.valueExpression===p.valueExpression&&t.valueExpressionTitle===p.valueExpressionTitle?(0,i.h)("arcgis-smart-mapping-panels-color-size-univariate",{onArcgisSmartMappingPanelsColorSizeUnivariateClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorSizeUnivariateError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"color"===a?(0,i.h)("arcgis-smart-mapping-panels-color",{onArcgisSmartMappingPanelsColorClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-color-size",{onArcgisSmartMappingPanelsColorSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsColorSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"compare":return(0,i.h)("arcgis-smart-mapping-panels-compare",{onArcgisSmartMappingPanelsCompareClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsCompareError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"dot-density":return(0,i.h)("arcgis-smart-mapping-panels-dot-density",{onArcgisSmartMappingPanelsDotDensityClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e)});case"relationship":return(0,i.h)("arcgis-smart-mapping-panels-relationship",{onArcgisSmartMappingPanelsRelationshipClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRelationshipError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"relationship-size":return"color"===a?(0,i.h)("arcgis-smart-mapping-panels-relationship",{onArcgisSmartMappingPanelsRelationshipClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRelationshipError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-relationship-size",{onArcgisSmartMappingPanelsRelationshipSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRelationshipSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"predominance":return(0,i.h)("arcgis-smart-mapping-panels-predominance",{onArcgisSmartMappingPanelsPredominanceClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsPredominanceError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"predominance-size":return"color"===a?(0,i.h)("arcgis-smart-mapping-panels-predominance",{onArcgisSmartMappingPanelsPredominanceClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsPredominanceError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-predominance-size",{onArcgisSmartMappingPanelsPredominanceSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsPredominanceSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"chart":return(0,i.h)("arcgis-smart-mapping-panels-chart",{onArcgisSmartMappingPanelsChartClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsChartError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"chart-size":return"color"===a?(0,i.h)("arcgis-smart-mapping-panels-chart",{onArcgisSmartMappingPanelsChartClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsChartError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-chart-size",{onArcgisSmartMappingPanelsChartSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsChartSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"type":return(0,i.h)("arcgis-smart-mapping-panels-type",{onArcgisSmartMappingPanelsTypeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsTypeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"type-size":return"color"===a?(0,i.h)("arcgis-smart-mapping-panels-type",{onArcgisSmartMappingPanelsTypeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsTypeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):"size"===a?(0,i.h)("arcgis-smart-mapping-panels-size",{onArcgisSmartMappingPanelsSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)}):(0,i.h)("arcgis-smart-mapping-panels-type-size",{onArcgisSmartMappingPanelsTypeSizeClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsTypeSizeError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-flow":return(0,i.h)("arcgis-smart-mapping-panels-raster-flow",{onArcgisSmartMappingPanelsRasterFlowClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterFlowError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-vector-field":return(0,i.h)("arcgis-smart-mapping-panels-raster-vector-field",{onArcgisSmartMappingPanelsRasterVectorFieldClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterVectorFieldError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-stretch":return(0,i.h)("arcgis-smart-mapping-panels-raster-stretch",{onArcgisSmartMappingPanelsRasterStretchClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterStretchError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-rgb":return(0,i.h)("arcgis-smart-mapping-panels-raster-rgb",{onArcgisSmartMappingPanelsRasterRgbClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterRgbError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-shaded-relief":return(0,i.h)("arcgis-smart-mapping-panels-raster-shaded-relief",{onArcgisSmartMappingPanelsRasterShadedReliefClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterShadedReliefError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-class-breaks":return(0,i.h)("arcgis-smart-mapping-panels-raster-class-breaks",{onArcgisSmartMappingPanelsRasterClassBreaksClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterClassBreaksError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});case"raster-colormap":return(0,i.h)("arcgis-smart-mapping-panels-raster-colormap",{onArcgisSmartMappingPanelsRasterColormapClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e)});case"raster-unique-value":return(0,i.h)("arcgis-smart-mapping-panels-raster-unique-value",{onArcgisSmartMappingPanelsRasterUniqueValueClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsRasterUniqueValueError:({detail:e})=>this.arcgisSmartMappingError.emit(e)});default:return(0,i.h)("arcgis-smart-mapping-panels-simple",{onArcgisSmartMappingPanelsSimpleClose:({detail:e})=>this.arcgisSmartMappingClose.emit(e),onArcgisSmartMappingPanelsSimpleError:({detail:e})=>this.arcgisSmartMappingError.emit(e)})}}async processLayer(){const{layer:e,strings:r,modules:a}=n.s;let i=(0,n.b)();!i&&(0,n.i)()&&(i=await(0,n.e)());const s=(0,n.i)()?(0,n.g)():(0,n.a)();if(n.s.oneFeatureResponseStatus=n.h.MISSING,"geo-rss"===e.type)return Promise.resolve();"color"!==s||i.authoringInfo||(0,n.d)(i,"color")?"size"!==s||i.authoringInfo||(0,n.d)(i,"size")||(i.authoringInfo={classificationMethod:"manual",type:"class-breaks-size"}):i.authoringInfo={classificationMethod:"manual",type:"class-breaks-color"},await(0,n.j)().then((async()=>{if("unknown"===s)console.log("unsupported renderer",i),this.switchToSimpleRenderer(i);else{const e=await a.fieldUtils.getRendererFields(i),s=null==e?void 0:e.some((e=>{var r;return!(null===(r=n.s.layerFields)||void 0===r?void 0:r.some((r=>r.name.toLowerCase()===e.toLowerCase())))}));!(0,n.i)()&&s?this.switchToSimpleRenderer(i):(n.s.selectedFields=(0,n.k)(),n.s.selectedFields.forEach((e=>{e.expression&&!e.expressionTitle&&(e.expressionTitle=r.expression)})))}return Promise.resolve()}))}switchToSimpleRenderer(e){const{layer:r,modules:a}=n.s;this.originalRendererJSON=e.toJSON(),this.originalFeatureReduction="featureReduction"in r&&r.featureReduction?a.esriLang.clone(r.featureReduction):void 0,(0,p.c)().then((e=>{(0,n.u)(e.renderer),n.s.selectedFields=[]})).catch((e=>console.log(e)))}static get assetsDirs(){return["assets"]}get hostElement(){return(0,i.d)(this)}};l.style=".sc-arcgis-smart-mapping-h{height:100%;width:100%}.flow.sc-arcgis-smart-mapping{height:100%}"},28832:(e,r,a)=>{a.d(r,{a:()=>n,b:()=>o,c:()=>t,d:()=>p});var i=a(98072),s=a(37219);a(98034);function t(e){var r;const{layer:a,useFeatureReduction:t,mapImageSublayer:n,mapView:p,modules:o}=s.s,l=a;e=e||{};const m=(0,s.n)((0,s.b)());return o.LocationCreator.createRenderer({layer:l,view:p,outlineOptimizationEnabled:!n&&(!(0,i.i)(e.outlineOptimizationEnabled)||e.outlineOptimizationEnabled),sizeOptimizationEnabled:!n&&(!(0,i.i)(e.sizeOptimizationEnabled)||e.sizeOptimizationEnabled),forBinning:"binning"===(null===(r=l.featureReduction)||void 0===r?void 0:r.type)&&t}).then((e=>((0,s.m)(m,e.renderer),Promise.resolve(e))),(e=>Promise.reject(e)))}function n(e){var r;const{layer:a,useFeatureReduction:t,mapImageSublayer:n,mapView:p,modules:o}=s.s,l=a;e=e||{};const m=(0,s.b)(),g=(0,s.a)(),c=(0,s.n)(m),d=m.symbol?m.symbol:(0,s.o)(g),S={layer:l,view:p,outlineOptimizationEnabled:!n&&((0,i.i)(e.outlineOptimizationEnabled)?e.outlineOptimizationEnabled:!!c.sizeOutlineVisVar),sizeOptimizationEnabled:!n&&((0,i.i)(e.sizeOptimizationEnabled)?e.sizeOptimizationEnabled:!!c.sizeAutoVisVar),forBinning:"binning"===(null===(r=l.featureReduction)||void 0===r?void 0:r.type)&&t};return o.LocationCreator.createRenderer(S).then((e=>((0,s.m)(c,e.renderer),d&&(e.renderer.symbol=d),Promise.resolve(e))),(e=>Promise.reject(e)))}function p(){var e;const{layer:r,useFeatureReduction:a,mapView:i,modules:t}=s.s,n=r;return t.LocationCreator.createRenderer({layer:n,view:i,outlineOptimizationEnabled:!0,forBinning:"binning"===(null===(e=n.featureReduction)||void 0===e?void 0:e.type)&&a}).then((e=>{const r=(0,s.d)(e.renderer,"size","outline");return Promise.resolve(r)}))}function o(){var e;const{layer:r,useFeatureReduction:a,mapView:i,modules:t}=s.s,n=r;return t.LocationCreator.createRenderer({layer:n,view:i,outlineOptimizationEnabled:!1,sizeOptimizationEnabled:!0,forBinning:"binning"===(null===(e=n.featureReduction)||void 0===e?void 0:e.type)&&a}).then((e=>{const r=(0,s.d)(e.renderer,"size","auto");return Promise.resolve(r)}))}}}]);