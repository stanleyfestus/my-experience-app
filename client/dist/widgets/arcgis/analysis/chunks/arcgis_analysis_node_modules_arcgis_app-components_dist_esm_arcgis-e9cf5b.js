/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-e9cf5b.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-e9cf5b"],{99004:(e,t,s)=>{s.d(t,{c:()=>n,g:()=>r});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==s.g?s.g:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},92452:(e,t,s)=>{s.r(t),s.d(t,{arcgis_delete_items_composite_disclaimer:()=>d,arcgis_delete_items_permanent:()=>u,arcgis_delete_items_recycle:()=>m});var n=s(20536),r=s(91102),i=s(89209),o=s(91616),l=s(91565);s(73807),s(98034),s(99004),s(44090),s(10699),s(5479),s(25972),s(38973),s(369),s(78231),s(79717),s(85781);const a=new Map;function c(e){return function(e,t){const s=a.get(e);if(s)return s;const n=(0,r.c)(e,t);return n?(a.set(e,n.store),n.store):null}(e,"arcgis-delete-items")}const d=class{constructor(e){(0,n.r)(this,e),this.totalItems=0,this.renderAdditionalCompositeSummary=()=>(0,n.h)("arcgis-items-summary",null,(0,n.h)("div",{slot:"title"},(0,n.h)("span",null,this.i18n.compositeDeleteDisclaimer.additional),(0,n.h)("arcgis-items-summary-bucket",{popoverId:"protected-bucket",summaryGroups:this.additionalSummaryGroups,totalItems:this.totalItems,relatedItemsDescription:this.i18n.summary.includesDependentItems}))),this.buckets=void 0,this.additionalDependentItemsTotal=0,this.additionalSummaryGroups=void 0}async componentWillLoad(){var e;this.store=c(this.el),this.i18n=this.store.state.i18n,this.mode="manyToMany";const{selectedCompositeItems:t}=this.buckets;this.compositeSourceItems=null===(e=this.buckets)||void 0===e?void 0:e.unprotectedItems.filter((e=>e.relatedItems.isComposite&&e.relatedItems.resultData.count>0)),1===this.compositeSourceItems.length&&(this.singleSourceItem=this.compositeSourceItems[0],this.mode="oneToMany"),this.additionalSummaryGroups=this.compositeSourceItems.map((e=>{const{additionalItems:s,additionalItemCount:n,truncatedItemCount:r}=(e=>{var t,s,n,r;const{compositeSourceItem:o,selectedCompositeItems:l}=e,a=l.filter((e=>{var t;return(null===(t=e.relatedItems)||void 0===t?void 0:t.sourceData.id)===o.item.id})).map((e=>e.item)),c=null!==(n=null===(s=null===(t=o.relatedItems)||void 0===t?void 0:t.resultData)||void 0===s?void 0:s.items.map((e=>({item:e}))).filter((e=>!a.some((t=>t.id===e.item.id)))))&&void 0!==n?n:[],d=(null===(r=o.relatedItems)||void 0===r?void 0:r.resultData.count)-a.length;return{additionalItems:c,additionalItemCount:d,truncatedItemCount:d-i.M}})({compositeSourceItem:e,selectedCompositeItems:t});return this.totalItems+=n,{heading:`${this.i18n.compositeDeleteDisclaimer.dependentOn} ${e.item.title} (${n})`,items:s.slice(0,i.M),truncatedItemCount:r}})).filter((e=>e.items.length>0))}render(){var e,t,s;return(0,n.h)(n.H,{key:"8409d5ad9a5be84dbde6309cb035e94a113c46df"},(0,n.h)("span",{key:"ab138a51228e79c98a8e5c69b1f16f596c52ce19",class:"message",innerHTML:this.i18n.compositeDeleteDisclaimer[this.mode].replace("${item}",null===(e=this.singleSourceItem)||void 0===e?void 0:e.item.title).replace("${dependentItem}",null===(s=null===(t=this.singleSourceItem)||void 0===t?void 0:t.relatedItems.resultData.items)||void 0===s?void 0:s[0].title)}),this.renderAdditionalCompositeSummary())}get el(){return(0,n.d)(this)}};d.style=":host{display:flex;flex-direction:column;font-size:0.875rem}.message{margin-bottom:1rem}";const u=class{constructor(e){(0,n.r)(this,e),this.renderProtectedItem=e=>{const{item:t}=e;return(0,n.h)("div",{class:"protected-item",key:t.id},(0,n.h)("arcgis-item-type",{item:t,showText:!1,showHosted:!0,class:"protected-item__icon"}),(0,n.h)("calcite-link",{href:`./item.html?id=${t.id}`,class:"protected-item__link",target:"_blank"},t.title))},this.renderDeleteContent=()=>{const{unprotectedItems:e,protectedItems:t}=this.buckets;switch(this.mode){case"PROTECTED":case"PROTECTED_UNPROTECTED":const s=t.filter((e=>!["CONT_00481","CONT_0048"].includes(e.error.messageCode))).length<=0;return(0,n.h)(n.F,null,(0,n.h)("span",null,s?this.i18n.cantDelete:this.i18n.summary.cannotDelete),t.map(this.renderProtectedItem),e.length>0&&(0,n.h)("span",null,this.i18n.proceed));case"UNRECYCLABLE":return(0,n.h)("span",null,this.i18n.areYouSurePermanent[this.buckets.unrecyclableItems.length>1?"multiple":"single"]);default:return(0,n.h)("span",null,this.i18n.areYouSure[this.buckets.unprotectedItems.length>1?"multiple":"single"])}},this.buckets=void 0,this.mode=void 0}async componentWillLoad(){this.store=c(this.el),this.i18n=this.store.state.i18n}render(){return(0,n.h)(n.H,{key:"bb52e5d9b21e2dc7e4673ac3cc23274530cff557"},this.renderDeleteContent())}get el(){return(0,n.d)(this)}};u.style=":host{display:flex;flex-direction:column;font-size:var(--calcite-font-size--1)}.protected-item{display:flex;align-items:center;padding-left:0px;padding-right:0px;padding-top:0.5rem;padding-bottom:0.5rem}.protected-item__link{min-width:0px;overflow-wrap:break-word}.protected-item__icon{margin-inline-end:0.5rem;flex-grow:0}";const m=class{constructor(e){(0,n.r)(this,e),this.arcgisDeleteItemsPermanentlyDeleteOverride=(0,n.c)(this,"arcgisDeleteItemsPermanentlyDeleteOverride",7),this.arcgisDeleteItemsPermanentlyDeleteBucketToggle=(0,n.c)(this,"arcgisDeleteItemsPermanentlyDeleteBucketToggle",7),this.unrecyclableItemsGroups=new Map,this.protectedSummaryGroups=new Map,this.offendingItems=[],this.deleteOverriddenBucket=[],this.additionalDependentItemsTotal=0,this.itemHasRelatedItemsInRecycleBin=e=>{var t,s,n,r;return null!==(r=null===(n=null===(s=null===(t=e.relatedItems)||void 0===t?void 0:t.resultData)||void 0===s?void 0:s.items)||void 0===n?void 0:n.some((e=>e.inRecycleBin)))&&void 0!==r&&r},this.getUnrecyclableMessage=()=>{const{i18n:e,unrecyclableItemsGroups:t}=this,s=t.has("distributedCollaborationFeatureLayer")&&!t.has("notSupported"),n=t.has("notSupported")&&t.has("distributedCollaborationFeatureLayer");let r;return r=s?e.summary.permanentDelete.unsynchronized:n?e.summary.permanentDelete.notSupportedAndUnsynchronized:e.summary.permanentDelete.notSupported[this.buckets.unrecyclableItems.length>1?"multiple":"single"],r},this.renderUnrecyclableBucket=()=>{const{i18n:e,getUnrecyclableMessage:t,isPermanentlyDeleteBucketDisabled:s,help:r,allowPermanentlyDeleteDeselect:i,disableLinks:o}=this,{protectedItems:l,unprotectedItems:a,unrecyclableItems:c}=this.buckets,d=`${r.base}${r.map[120004692]||""}`;return(0,n.h)(n.F,null,(0,n.h)("arcgis-items-summary",{icon:"trash",disabled:s},(0,n.h)("div",{slot:"title"},(0,n.h)("span",null,e.summary.permanentlyDelete),(0,n.h)("arcgis-items-summary-bucket",{popoverId:"unrecyclable-bucket",summaryGroups:[{items:c,heading:e.summary.permanentDelete.group.notSupported}],disableLinks:o})),(0,n.h)("div",{slot:"description",innerHTML:t()})),(0,n.h)("div",{class:"bucket-end"},i&&!(0===a.length&&0===l.length)&&(0,n.h)("div",{class:"bucket-end__button-container enabled"},(0,n.h)("calcite-button",{scale:"s",appearance:"outline",onClick:()=>{this.isPermanentlyDeleteBucketDisabled=!s,this.arcgisDeleteItemsPermanentlyDeleteBucketToggle.emit(!s)}},s?e.summary.select:e.summary.deselect)),(0,n.h)("calcite-link",{iconEnd:"launch",href:d,target:"_blank"},e.learnMore)),"unrecyclableItems"===this.primaryBucket&&(a.length>0||l.length>0)&&(0,n.h)("hr",{class:"divider"}))},this.renderUnprotectedBucket=()=>{var e;const{i18n:t,disableLinks:s,help:r}=this,{protectedItems:o,unprotectedItems:a,unrecyclableItems:c}=this.buckets,d=1===a.length&&"Delete discouraged"===(null===(e=a[0].error)||void 0===e?void 0:e.message),u=`${r.base}${r.map[120001208]||""}`;return(0,n.h)(n.F,null,(0,n.h)("arcgis-items-summary",{icon:"recycle-bin"},(0,n.h)("div",{slot:"title"},(0,n.h)("span",null,t.summary.willBeRecycled),(0,n.h)("arcgis-items-summary-bucket",{popoverId:"unprotected-bucket",relatedItemsDescription:t.summary.includesDependentItems,summaryGroups:[{items:a}],disableLinks:s})),(0,n.h)("div",{slot:"description"},t.summary.canBeRecovered[1!==a.length||(0,l.i)(a)?"multiple":"single"].replace("${days}",`${i.D}`))),d&&(0,n.h)("div",{class:"text-group"},(0,n.h)("span",{class:"description"},t.summary.unprotectedGroup.deleteDiscouraged.message),(0,n.h)("calcite-link",{class:"text-group__link",href:u,target:"_blank","icon-end":"launch"},t.summary.unprotectedGroup.deleteDiscouraged.learnMore)),"unprotectedItems"===this.primaryBucket&&(o.length>0||c.length>0)&&(0,n.h)("hr",{class:"divider"}))},this.renderProtectedBucket=()=>{const{i18n:e,items:t,offendingItems:s,protectedSummaryGroups:r,disableLinks:i}=this,{protectedItems:o,unprotectedItems:l,unrecyclableItems:a}=this.buckets,c=1===t.length,d=()=>{let t="multiple";if(1===o.length){const{offendingItems:e}=o[0].error;t=e.length>1?"singleMultipleDependentItems":"singleOneDependentItem"}return e.summary.protectedGroup.hasDependentItemsDescription[t]};return(0,n.h)(n.F,null,(0,n.h)("arcgis-items-summary",{icon:"security"},(0,n.h)("div",{slot:"title"},(0,n.h)("span",null,!c||(r.has("deleteProtected")||r.has("compositeDelete")||r.has("uncaught"))&&!r.has("hasDependent")?e.summary.cannotDelete:e.summary.hasDependentItems),(0,n.h)("arcgis-items-summary-bucket",{popoverId:"protected-bucket",summaryGroups:[...r.values()],disableLinks:i})),(0,n.h)("div",{slot:"description"},(()=>{if(!c||r.has("deleteProtected")||r.has("uncaught")){let t="";return r.has("deleteProtected")&&r.has("hasDependent")?t=e.summary.protectedGroup.protectedAndDependentDescription:r.has("hasDependent")?t=d():r.has("compositeDelete")?t=e.summary.protectedGroup.compositeDeleteDescription:r.has("deleteProtected")&&(t=e.summary.protectedGroup.deleteProtectedDescription),(0,n.h)("span",null,t)}return(0,n.h)(n.F,null,(0,n.h)("span",null,r.has("compositeDelete")?e.summary.protectedGroup.compositeDelete:e.summary.protectedGroup.dependentItems[1===s.length?"single":"multiple"]),(0,n.h)("arcgis-items-summary-bucket",{popoverId:"offending-bucket",summaryGroups:[{items:s.map((e=>({item:e})))}],recycleDescription:e.recycleBin}))})())),c&&(()=>this.isSingleDiscouragedItem?(0,n.h)("span",{class:"description"},e.summary.protectedGroup.deleteDiscouragedDescription.single):c&&r.has("hasDependent")&&(0,n.h)("span",{class:"description"},d()))(),"protectedItems"===this.primaryBucket&&(l.length>0||a.length>0)&&(0,n.h)("hr",{class:"divider"}))},this.renderPermanentlyDeleteAllOverride=()=>{const{i18n:e,disableLinks:t}=this,{deleteOverriddenBucket:s}=this;return(0,n.h)("div",{class:"text-group"},(0,n.h)("span",{class:"override__description"},e.deleteOverride[1!==s.length||(0,l.i)(s)?"multiple":"single"]),(0,n.h)("arcgis-items-summary",{icon:"trash"},(0,n.h)("div",{slot:"title"},(0,n.h)("span",null,e.summary.permanentlyDelete),(0,n.h)("arcgis-items-summary-bucket",{label:e.summary.permanentlyDelete,popoverId:"permanently-delete-override-bucket",summaryGroups:[{items:s}],relatedItemsDescription:e.summary.includesDependentItems,disableLinks:t}))))},this.renderMoreOptions=()=>{const{i18n:e,isMoreOptionsExpanded:t,isAllSameDeleteMode:s,items:r,mode:i,primaryAction:o,arcgisDeleteItemsPermanentlyDeleteOverride:l}=this;return"PROTECTED"===i||"PERMANENTLY_DELETE"===o||this.deleteOverriddenBucket.length<=0?null:(0,n.h)("div",{class:"more-options__container"},(0,n.h)("calcite-button",{class:"more-options__button",scale:"s",iconEnd:t?"minus":"plus",appearance:"transparent",onClick:()=>{this.isMoreOptionsExpanded=!t},onKeyDown:e=>{["Enter"," "].includes(e.key)&&(this.isMoreOptionsExpanded=!t)}},t?e.showLess:e.showMore),t&&(0,n.h)("calcite-button",{kind:"danger",appearance:"outline-fill",iconStart:"trash",onClick:()=>{this.permanentlyDeleteOverridden=!0,l.emit()}},s?e.deletePermanently:e.summary.deleteXPermanently.replace("${subset}",`${this.deleteOverriddenBucket.length+this.buckets.selectedCompositeItems.length+this.additionalDependentItemsTotal}`).replace("${total}",`${r.length+this.additionalDependentItemsTotal}`)))},this.renderPrioritizedBuckets=()=>(0,o.b)([this.primaryBucket,"unrecyclableItems","unprotectedItems","protectedItems"]).map((e=>this.renderBucket(e))),this.renderBucket=e=>{const{renderUnrecyclableBucket:t,renderUnprotectedBucket:s,renderProtectedBucket:n}=this,{unrecyclableItems:r,unprotectedItems:i,protectedItems:o}=this.buckets;switch(e){case"unrecyclableItems":return r.length>0&&t();case"unprotectedItems":return i.length>0&&s();case"protectedItems":return o.length>0&&n()}},this.items=void 0,this.buckets=void 0,this.mode=void 0,this.primaryBucket="unrecyclableItems",this.primaryAction=void 0,this.allowPermanentlyDeleteDeselect=!0,this.permanentlyDeleteOverridden=void 0,this.showSelectedItemsCount=!0,this.disableLinks=void 0,this.isPermanentlyDeleteBucketDisabled=void 0,this.isMoreOptionsExpanded=void 0}async componentWillLoad(){var e,t;if(this.store=c(this.el),!this.store)return;this.i18n=this.store.state.i18n;const{portal:s,locale:n}=this.store.state;this.help={base:null!==(t=null===(e=s.sourceJSON)||void 0===e?void 0:e.helpBase)&&void 0!==t?t:s.helpBase,map:await(0,l.g)(s,n)};this.isAllSameDeleteMode=["PROTECTED","UNPROTECTED","UNRECYCLABLE"].includes(this.mode),this.analyzeBuckets()}analyzeBuckets(){this.analyzeUnrecyclableItems(),this.setProtectedItemsGroups(),this.additionalDependentItemsTotal=this.countDependentItems()-this.buckets.selectedCompositeItems.length,this.updateDeleteOverriddenBucket()}updateDeleteOverriddenBucket(){const{unrecyclableItems:e,unprotectedItems:t}=this.buckets;this.deleteOverriddenBucket=t.filter((e=>!this.itemHasRelatedItemsInRecycleBin(e))),this.isPermanentlyDeleteBucketDisabled||this.deleteOverriddenBucket.push(...e)}analyzeUnrecyclableItems(){const{unrecyclableItems:e}=this.buckets,t=e.filter((e=>!(0,l.f)(e))),s=e.filter((e=>(0,l.f)(e)));t.length>0&&this.unrecyclableItemsGroups.set("notSupported",{items:t}),s.length>0&&this.unrecyclableItemsGroups.set("distributedCollaborationFeatureLayer",{items:s})}countDependentItems(){const{unprotectedItems:e}=this.buckets;return e.reduce(((e,t)=>{var s,n,r;return e+((null===(s=t.relatedItems)||void 0===s?void 0:s.isComposite)&&(null===(r=null===(n=t.relatedItems)||void 0===n?void 0:n.resultData)||void 0===r?void 0:r.count)||0)}),0)}setProtectedItemsGroups(){var e,t;const{items:s,i18n:n,protectedSummaryGroups:r}=this,{protectedItems:i}=this.buckets,o=[],l=[],a=[],c=[],d=[];for(const s of i)switch(null===(e=s.error)||void 0===e?void 0:e.messageCode){case"CONT_00481":o.push(s);break;case"CONT_0048":l.push(s);break;case"CONT_0298":c.push(s);break;default:"Delete discouraged"===(null===(t=s.error)||void 0===t?void 0:t.message)?a.push(s):d.push(s)}const u=1===s.length,m=o.length>0||a.length>0,p=l.length>0,h=c.length>0,y=d.length>0;this.isSingleDiscouragedItem=u&&1===a.length,m&&r.set("hasDependent",{items:[...o,...a],heading:n.summary.protectedGroup.hasDependentItems}),p&&r.set("deleteProtected",{items:l,heading:n.summary.protectedGroup.deleteProtected}),h&&r.set("compositeDelete",{items:c,heading:n.summary.protectedGroup.compositeDelete}),y&&r.set("uncaught",{items:d,heading:n.summary.cannotDelete.replace(":","")}),u&&(m||h)&&(this.offendingItems=i[0].error.offendingItems.map((e=>{var t;const{title:s,type:n,inRecycleBin:r}=e;return{id:null!==(t=e.itemId)&&void 0!==t?t:e.id,title:s,type:n,inRecycleBin:r}})))}render(){const{i18n:e,items:t,isPermanentlyDeleteBucketDisabled:s,permanentlyDeleteOverridden:r,isAllSameDeleteMode:i,showSelectedItemsCount:o,renderPermanentlyDeleteAllOverride:l,renderMoreOptions:a}=this,{unrecyclableItems:c}=this.buckets;return(0,n.h)(n.H,{key:"49155eae65f77be46c651be669a21a15fb249639"},r?l():(0,n.h)(n.F,null,o&&(!i||this.additionalDependentItemsTotal>0)&&(0,n.h)("div",{class:"selected-items"},(0,n.h)("span",{class:"selected-items__selected"},`${e.summary.selectedItems} ${t.length-(s?c.length:0)}`),this.additionalDependentItemsTotal>0?(0,n.h)("span",{class:"selected-items__additional"},`+ ${e.summary.additionalDependentItems} ${this.additionalDependentItemsTotal}`):null),this.renderPrioritizedBuckets(),a()))}get el(){return(0,n.d)(this)}static get watchers(){return{bucket:["analyzeBuckets"],isPermanentlyDeleteBucketDisabled:["updateDeleteOverriddenBucket"]}}};m.style=":host{display:flex;flex-direction:column;font-size:var(--calcite-font-size--1)}.selected-items{margin-bottom:2rem;display:flex;flex-direction:column}.selected-items__selected{font-size:var(--calcite-font-size-0);color:var(--calcite-color-text-1)}.selected-items__additional{font-size:var(--calcite-font-size--1);color:var(--calcite-color-text-3)}.divider{margin-left:0px;margin-right:0px;margin-top:1rem;margin-bottom:0px;border-style:none;border-top:1px solid #ccc}.more-options__container{display:flex;flex-direction:column;align-items:flex-start}.more-options__button{margin-top:2rem;margin-bottom:1rem}.text-group{display:flex;flex-direction:column}.text-group__link{margin-top:1rem}.override__description{margin-bottom:1rem}arcgis-items-summary:not(:first-of-type){margin-top:2rem}.description{font-size:var(--calcite-font-size-0);margin-top:2rem}.bucket-end{margin-inline-start:2.6rem;display:inline-flex;padding-top:0.25rem}.bucket-end__button-container{min-width:5rem}"},89209:(e,t,s)=>{s.d(t,{D:()=>n,M:()=>r});const n=14,r=5},91102:(e,t,s)=>{s.d(t,{a:()=>a,c:()=>r,d:()=>c,g:()=>i,i:()=>o,s:()=>l});var n=s(73807);function r(e,t){return function e(s){return s?s.closest(t)||e(function(e){return e.getRootNode()}(s).host||null):null}(e)}function i(e){const t=r(e,".calcite-mode-dark, .calcite-mode-light");return(null==t?void 0:t.classList.contains("calcite-mode-dark"))?"dark":"light"}function o(e){let t=e;for(;null==t?void 0:t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1}function l(e){return(new n.S).sanitize(e)}function a(e){const t=l(e),s=document.createElement("div");return s.innerHTML=t,s.textContent||s.innerText||""}function c(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}},98034:(e,t,s)=>{s.d(t,{e:()=>i,l:()=>o});var n,r=s(99004),i={exports:{}};n=i.exports,r.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},s="4.24",n="next";function r(e){if(e.toLowerCase()===n)return n;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function i(e){return void 0===e&&(e=s),"https://js.arcgis.com/".concat(e,"/")}function o(e){void 0===e&&(e=s);var t=i(e),o=r(e);if(o!==n&&3===o.major){var l=o.minor<=10?"js/":"";return"".concat(t).concat(l,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function l(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function a(e,t){if(t){var s=document.querySelector(t);s.parentNode.insertBefore(e,s)}else document.head.appendChild(e)}function c(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function d(e){return!e||r(e)?o(e):e}function u(e,t){var s=d(e),n=c(s);return n||a(n=l(s),t),n}var m={};function p(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function h(e,t,s){var n;s&&(n=y(e,s));var r=function(){t(e),e.removeEventListener("load",r,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",r,!1)}function y(e,t){var s=function(n){t(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",s,!1)};return e.addEventListener("error",s,!1),s}function g(e){void 0===e&&(e={}),m=e}function v(){return document.querySelector("script[data-esri-loader]")}function f(){var e=window.require;return e&&e.on}function b(e){void 0===e&&(e={});var s={};[m,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(s[t]=e[t])}));var n=s.version,r=s.url||i(n);return new t.Promise((function(e,t){var i=v();if(i){var o=i.getAttribute("src");o!==r?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(o,")."))):f()?e(i):h(i,e,t)}else if(f())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=s.css;l&&u(!0===l?n:l,s.insertCssBefore),h(i=p(r),(function(){i.setAttribute("data-esri-loader","loaded"),e(i)}),t),document.body.appendChild(i)}}))}function I(e){return new t.Promise((function(t,s){var n=window.require.on("error",s);window.require(e,(function(){for(var e=[],s=0;s<arguments.length;s++)e[s]=arguments[s];n.remove(),t(e)}))}))}function D(e,t){if(void 0===t&&(t={}),f())return I(e);var s=v(),n=s&&s.getAttribute("src");return!t.url&&n&&(t.url=n),b(t).then((function(){return I(e)}))}e.utils=t,e.loadModules=D,e.getScript=v,e.isLoaded=f,e.loadScript=b,e.setDefaultOptions=g,e.loadCss=u,Object.defineProperty(e,"__esModule",{value:!0})}(n);const o=async(e,t)=>(await i.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))}}]);