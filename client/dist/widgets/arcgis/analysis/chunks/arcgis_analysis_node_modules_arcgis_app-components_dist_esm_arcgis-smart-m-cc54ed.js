"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-smart-m-cc54ed"],{26688:(e,t,o)=>{o.r(t),o.d(t,{arcgis_smart_mapping_vector_symbol_button:()=>c});var s,n=o(20536),i=(o(74129),o(98034),o(37219));o(99004),o(34752),o(91102),o(73807),o(37568),o(10699),o(98072);!function(e){e.beaufort="beaufort.png",e.classifiedArrow="classifiedArrow.png",e.oceanCurrentKnots="oceanCurrentKnots.png",e.oceanCurrentMps="oceanCurrentMps.png",e.simpleScalar="simpleScalar.png",e.singleArrow="singleArrow.png",e.windBarbs="windBarbs.png"}(s||(s={}));const c=class{constructor(e){(0,n.r)(this,e),this.arcgisSmartMappingSelectChange=(0,n.c)(this,"arcgisSmartMappingSelectChange",7),this.arcgisSmartMappingSelectBeforeOpen=(0,n.c)(this,"arcgisSmartMappingSelectBeforeOpen",7),this.open=!1,this.selectInfos=[]}async setFocus(){this.buttonNode.focus()}componentWillLoad(){this.populateSymbolStyleSelectorInfo(),this.setSymbolStyleSelection()}componentWillUpdate(){const e=(0,i.a9)(),{style:t}=e;this.selectedStyleInfo.value!==t&&this.setSymbolStyleSelection()}render(){const{strings:e}=i.s;return(0,n.h)("calcite-label",{key:"230e88673514cbe066ffdd12890496d79519e7fa"},e.panels.vectorField.symbolType,(0,n.h)("div",{key:"dcbd8e8565b75d7e6547405b015c2f1821b383c9",class:"vector-symbol-button",role:"button",tabindex:"0","aria-haspopup":"true","aria-label":e.panels.vectorField.symbolType,ref:e=>this.buttonNode=e,onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.openSelectDropdown())},onClick:()=>this.openSelectDropdown()},(0,n.h)("div",{key:"d2b2d749764290f06a81056d4cb94af78320f141",class:"vector-symbol-content"},(0,n.h)("div",{key:"40b59e7281207e3db5e43e31b5fe44442f5a38e6",class:"vector-symbol-button-icon",style:{backgroundImage:`url(${(0,n.g)("./assets/arcgis-smart-mapping-dropdown-images/")}${this.selectedStyleInfo.iconPath})`}}),(0,n.h)("div",{key:"b56c370b2bb76447acff9a9062548c1dc8387e0d",class:"vector-symbol-sub-content"},(0,n.h)("div",{key:"42fcf1912ebd8ebad4296585bc87e940d4c9aa13",class:"vector-symbol-button-text"},(0,n.h)("div",{key:"78cc7fd75d5dfb6c03ca3e78ad5e7c679ea3d90b",class:"vector-symbol-button-title"},this.selectedStyleInfo.title),(0,n.h)("div",{key:"4f313f7b0c9e2a4b15a5499914baebd443a6a006",class:"vector-symbol-button-msg"},this.selectedStyleInfo.msg)),(0,n.h)("div",{key:"2960e51de006a1640997bbfa7aafd60b726942d3"},(0,n.h)("calcite-icon",{key:"cc0b2c8de6c0abbc7be4485b941ecf8aab99bb31",scale:"s",icon:"chevron-down"}))))))}setSymbolStyleSelection(){const e=(0,i.a9)();this.selectedStyleInfo=this.selectInfos.find((t=>t.value===e.style||e.style.includes("beaufort")&&t.value.includes("beaufort"))),this.selectInfos.forEach((e=>{e.selected=e.value===this.selectedStyleInfo.value}))}closeDropdown(){var e;this.open=!1,this.dropdownNode&&(null===(e=this.dropdownNode.parentNode)||void 0===e||e.removeChild(this.dropdownNode),this.dropdownNode=null,this.buttonNode.classList.remove("active"))}openSelectDropdown(){if(this.open)this.open=!1;else{this.arcgisSmartMappingSelectBeforeOpen.emit();const e=document.createElement("arcgis-smart-mapping-dropdown");e.buttonNode=this.buttonNode,e.infos=this.selectInfos,this.dropdownNode=e,e.addEventListener("arcgisSmartMappingDropdownClose",(e=>{this.closeDropdown(),"Escape"===e.detail&&this.setFocus()})),e.addEventListener("arcgisSmartMappingDropdownChange",(e=>this.setSymbolStyle(e.detail))),this.buttonNode.classList.add("active"),document.body.appendChild(e),this.open=!0}}setSymbolStyle(e){const t=(0,i.a9)(),{style:o}=t,s=e.value,n=o.includes("beaufort"),c=s.includes("beaufort");if(s===o||n&&c)return this.closeDropdown(),void setTimeout((()=>this.setFocus()),300);this.selectInfos.forEach((e=>{e.selected=e.value===s})),this.selectedStyleInfo=e,this.arcgisSmartMappingSelectChange.emit(this.selectedStyleInfo.value),this.closeDropdown(),setTimeout((()=>this.setFocus()),300)}populateSymbolStyleSelectorInfo(){const{strings:e}=i.s,t=e.panels.vectorField.symbolStyleOptions,o="vfr_";this.selectInfos.push({value:"beaufort",title:t.beaufort.title,msg:t.beaufort.description,iconPath:`${o}${s.beaufort}`,selected:!1}),this.selectInfos.push({value:"simple-scalar",title:t.simpleScalar.title,msg:t.simpleScalar.description,iconPath:`${o}${s.simpleScalar}`,selected:!1}),this.selectInfos.push({value:"single-arrow",title:t.singleArrow.title,msg:t.singleArrow.description,iconPath:`${o}${s.singleArrow}`,selected:!1}),this.selectInfos.push({value:"wind-barb",title:t.windBarbs.title,msg:t.windBarbs.description,iconPath:`${o}${s.windBarbs}`,selected:!1}),this.selectInfos.push({value:"ocean-current-kn",title:t.oceanCurrentKnots.title,msg:t.oceanCurrentKnots.description,iconPath:`${o}${s.oceanCurrentKnots}`,selected:!1}),this.selectInfos.push({value:"ocean-current-m",title:t.oceanCurrentMps.title,msg:t.oceanCurrentMps.description,iconPath:`${o}${s.oceanCurrentMps}`,selected:!1}),this.selectInfos.push({value:"classified-arrow",title:t.classifiedArrow.title,msg:t.classifiedArrow.description,iconPath:`${o}${s.classifiedArrow}`,selected:!1})}get hostElement(){return(0,n.d)(this)}};c.style=".vector-symbol-button{display:flex;padding:6px;justify-content:space-between;align-items:center;border-radius:0;cursor:pointer;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);border-color:var(--calcite-color-foreground-3);border-width:1px;border-style:solid;box-shadow:transparent 0px 0px 0px 1px inset}.vector-symbol-button:hover{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}.vector-symbol-button:active{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}.vector-symbol-button:focus{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3);outline:2px solid var(--calcite-color-brand);outline-offset:2px}.vector-symbol-button.active{outline:1px solid var(--calcite-ui-focus-color, var(--calcite-color-brand))}.vector-symbol-content{display:flex;align-items:center;width:100%}.vector-symbol-sub-content{display:flex;justify-content:space-between;align-items:center;width:100%}.vector-symbol-button-icon{min-width:16px;background-repeat:no-repeat;height:48px;padding:0;display:inline-block}.vector-symbol-button-text{display:inline-block;padding:0 10px}.vector-symbol-button-title{font-weight:bold}.vector-symbol-button-msg{font-size:80%;line-height:16px}"}}]);