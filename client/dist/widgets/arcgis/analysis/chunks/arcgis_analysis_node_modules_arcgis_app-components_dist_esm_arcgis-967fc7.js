/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-967fc7.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-967fc7"],{55575:(e,t,i)=>{i.r(t),i.d(t,{arcgis_smart_mapping_background_symbol:()=>u,arcgis_smart_mapping_default_symbol:()=>p,arcgis_smart_mapping_method_button:()=>m,arcgis_smart_mapping_rotation:()=>g,arcgis_smart_mapping_theme_button:()=>b,arcgis_smart_mapping_transparency:()=>y});var s=i(20536),n=i(74129),a=(i(98034),i(37219)),o=i(34752),l=i(98072),r=i(48747),d=i(9710),c=i(436);i(99004),i(37568),i(91102),i(73807),i(10699);function h(e){var t,i;const{layer:s,useFeatureReduction:n,mapView:o,modules:l}=a.s,r=s;if(!(e=e||{}).fieldInfos&&!(null===(t=e.fieldInfos)||void 0===t?void 0:t.length))return Promise.reject();const d=e.fieldInfos[0];return l.OpacityVariableCreator.createVisualVariable({layer:r,field:d.field,view:o,valueExpression:d.expression,valueExpressionTitle:d.expressionTitle,normalizationField:e.normalizationField,forBinning:"binning"===(null===(i=r.featureReduction)||void 0===i?void 0:i.type)&&n})}const u=class{constructor(e){(0,s.r)(this,e),this.arcgisSmartMappingBackgroundSymbolChange=(0,s.c)(this,"arcgisSmartMappingBackgroundSymbolChange",7),this.lastSettings={}}componentWillLoad(){this.popoverReferenceElement=(0,a.f)(this.hostElement,"calcite-flow-item")||(0,a.f)(this.hostElement,"calcite-panel")}render(){const{strings:e}=a.s;if(!(0,a.B)())return null;const t=(0,a.b)(),i="dot-density"===(0,a.a)()?t.backgroundColor||t.outline:t.backgroundFillSymbol;return(0,s.h)("calcite-block-section",{text:e.backgroundSymbol.showBackgroundSymbol,open:!!i,"toggle-display":"switch",onCalciteBlockSectionToggle:e=>this.handleBackgroundSymbolToggle(e)},this.renderBackgroundSymbolContent())}renderBackgroundSymbolContent(){var e;const{strings:t}=a.s,i=(0,a.b)(),n="dot-density"===(0,a.a)(),o=(0,a.I)(i,"reference-size");let l;return n?(i.outline||i.backgroundColor)&&(l=(0,a.o)(),l.outline=i.outline,(0,a.W)(l,i.backgroundColor)):o?(l=(0,a.o)(),(0,a.W)(l,null===(e=i.backgroundFillSymbol)||void 0===e?void 0:e.color)):l=i.backgroundFillSymbol,l?(this.popoverReferenceElement=this.popoverReferenceElement||(0,a.f)(this.hostElement,"calcite-flow-item")||(0,a.f)(this.hostElement,"calcite-panel"),(0,s.h)("div",{class:"background-symbol-content"},(0,s.h)("arcgis-smart-mapping-symbol-button",{type:n?"dot-density-background":"background",label:t.backgroundSymbol.backgroundStyle,symbol:l,onArcgisSmartMappingSymbolButtonSymbolChange:()=>{(0,s.f)(this.hostElement),this.arcgisSmartMappingBackgroundSymbolChange.emit()},popoverReferenceElement:this.popoverReferenceElement}))):null}handleBackgroundSymbolToggle(e){const{modules:t}=a.s,i=e.currentTarget,n=(0,a.b)();if("dot-density"===(0,a.a)())i.open?(this.lastSettings.backgroundColor||this.lastSettings.outline?(n.backgroundColor=this.lastSettings.backgroundColor,n.outline=this.lastSettings.outline):(n.backgroundColor=new t.esriColor({r:64,g:64,b:64,a:1}),n.outline=new t.SimpleLineSymbol),this.lastSettings.outlineVisVar&&(n.visualVariables=n.visualVariables||[],n.visualVariables.push(this.lastSettings.outlineVisVar)),this.lastSettings.backgroundColor=void 0,this.lastSettings.outline=void 0,this.lastSettings.outlineVisVar=void 0):(this.lastSettings.backgroundColor=n.backgroundColor,this.lastSettings.outline=n.outline,this.lastSettings.outlineVisVar=(0,a.d)(n,"size","outline"),n.backgroundColor=new t.esriColor({r:0,g:0,b:0,a:0}),n.outline=void 0,n.visualVariables=(0,a.T)(n,"size","outline"),(0,a.D)());else if(i.open){if(this.lastSettings.backgroundFillSymbol)n.backgroundFillSymbol=this.lastSettings.backgroundFillSymbol;else{const e=(0,a.o)();e.color=null,n.backgroundFillSymbol=e}this.lastSettings.backgroundFillSymbol=void 0}else this.lastSettings.backgroundFillSymbol=n.backgroundFillSymbol,n.backgroundFillSymbol=void 0,(0,a.D)();(0,a.u)(),(0,s.f)(this.hostElement)}get hostElement(){return(0,s.d)(this)}};u.style=".background-symbol-content{padding-top:6px;border-bottom:1px solid #e0e0e0}";const p=class{constructor(e){(0,s.r)(this,e),this.arcgisSmartMappingDefaultSymbolChange=(0,s.c)(this,"arcgisSmartMappingDefaultSymbolChange",7),this.arcgisSmartMappingDefaultSymbolBeforeToggle=(0,s.c)(this,"arcgisSmartMappingDefaultSymbolBeforeToggle",7),this.lastSettings={}}async done(){this.lastSettings={},this.blockSectionNode&&(this.blockSectionNode.open=!1,this.blockSectionNode.classList.remove("open"))}componentWillLoad(){this.flowItemNode=(0,a.f)(this.hostElement,"calcite-flow-item")}disconnectedCallback(){clearTimeout(this.labelChangeHandle)}render(){const{strings:e}=a.s,t=(0,a.b)(),i=(0,a.a)();let n=e.defaultSymbol.showDefaultSymbol;if("color"===i){(0,a.d)(t,"color")||(n=e.defaultSymbol.showDefaultSymbolClassed)}else if("size"===i){(0,a.d)(t,"size")||(n=e.defaultSymbol.showDefaultSymbolClassed)}const o=t.defaultSymbol;return(0,s.h)("calcite-block-section",{key:"6e6963e471d31576abe43bfe89660a52cee4946f",text:n,open:!!o,"toggle-display":"switch",onCalciteBlockSectionToggle:e=>{this.arcgisSmartMappingDefaultSymbolBeforeToggle.emit(),this.handleDefaultSymbolToggle(e)},ref:e=>this.blockSectionNode=e},this.renderDefaultSymbolContent())}renderDefaultSymbolContent(){const e=(0,a.b)();let t;return t=e.defaultSymbol?e.defaultSymbol:this.lastSettings.defaultSymbol?this.lastSettings.defaultSymbol:(0,a.o)(),t?(0,s.h)("div",{class:"symbol-button-content block-section-padding"},(0,s.h)("arcgis-smart-mapping-symbol-button",{symbol:t,type:"default",popoverReferenceElement:this.flowItemNode,onArcgisSmartMappingSymbolButtonSymbolChange:()=>{this.lastSettings.defaultSymbol=e.defaultSymbol,(0,s.f)(this.hostElement)}}),this.renderLabel()):null}renderLabel(){const{strings:e}=a.s,t=(0,a.b)().defaultLabel||e.defaultSymbol.other;return(0,s.h)("calcite-label",null,e.defaultSymbol.label,(0,s.h)("calcite-input",{type:"text",value:t,onCalciteInputChange:()=>{clearTimeout(this.labelChangeHandle),this.defaultLabelNode.value?this.handleLabelChange():this.labelChangeHandle=setTimeout((()=>this.handleLabelChange()),3e3)},onFocusout:e=>{e.preventDefault(),e.stopPropagation(),this.handleLabelChange()},onKeyUp:()=>{clearTimeout(this.labelChangeHandle),this.defaultLabelNode.value?this.handleLabelChange():this.labelChangeHandle=setTimeout((()=>this.handleLabelChange()),3e3)},ref:e=>this.defaultLabelNode=e}))}handleDefaultSymbolToggle(e){const{strings:t}=a.s,i=(0,a.b)();if(e.currentTarget.open)if(this.blockSectionNode.classList.add("open"),this.lastSettings.defaultSymbol)i.defaultSymbol=this.lastSettings.defaultSymbol,i.defaultLabel=this.lastSettings.defaultLabel||t.defaultSymbol.other;else{const e=(0,a.o)();i.defaultSymbol=e,i.defaultLabel=i.defaultLabel||t.defaultSymbol.other,this.lastSettings.defaultSymbol=i.defaultSymbol,this.lastSettings.defaultLabel=i.defaultLabel}else this.blockSectionNode.classList.remove("open"),this.lastSettings.defaultSymbol=i.defaultSymbol,this.lastSettings.defaultLabel=i.defaultLabel,i.defaultSymbol=void 0,i.defaultLabel=void 0;(0,a.u)(),this.arcgisSmartMappingDefaultSymbolChange.emit()}handleLabelChange(){const{strings:e}=a.s,t=(0,a.b)();this.defaultLabelNode.value?t.defaultLabel=this.defaultLabelNode.value:(t.defaultLabel=e.defaultSymbol.other,this.defaultLabelNode.value=e.defaultSymbol.other),(0,a.u)()}get hostElement(){return(0,s.d)(this)}};p.style=".open{border-bottom:1px solid #e0e0e0}.block-section-padding{padding-top:6px}";const m=class{constructor(e){(0,s.r)(this,e),this.arcgisSmartMappingMethodButtonChange=(0,s.c)(this,"arcgisSmartMappingMethodButtonChange",7),this.arcgisSmartMappingMethodButtonBeforeOpen=(0,s.c)(this,"arcgisSmartMappingMethodButtonBeforeOpen",7),this.methodInfos=[],this.open=!1,this.showStdDev=!1,this.showDefinedInterval=!1}async setFocus(){this.buttonNode.focus()}componentWillLoad(){this.populateMethodInfo(),this.setSelection()}componentWillUpdate(){const e=(0,a.b)().authoringInfo.classificationMethod;this.selectedMethodInfo.value!==e&&this.setSelection()}render(){const{strings:e}=a.s;return(0,s.h)(s.H,{key:"ef46c9f4e94c74fcfe2892c6667a673309099aba"},(0,s.h)("calcite-label",{key:"b6f71df1db3623a40551f42d32dc75bb5a4b2fe7"},e.methodButton.method,(0,s.h)("div",{key:"e7cfb8484e22fd7def66ca4324aa8c923a0102ea",class:"method-button",role:"button",tabindex:"0","aria-haspopup":"true","aria-label":e.methodButton.selectMethod,ref:e=>{e&&(this.buttonNode=e)},onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.openMethodDropdown())},onClick:()=>this.openMethodDropdown()},(0,s.h)("div",{key:"6fd684822d9e32bc086c101ee55c43cae01af0f4",class:"method-content"},(0,s.h)("div",{key:"72c8494847a2fcdbf384db165f4b8e634c7a1eab",class:"method-button-text"},(0,s.h)("div",{key:"088b26dfdd0ccc48b2e7d507f073d91bb0c37aea",class:"method-button-title"},this.selectedMethodInfo.title),(0,s.h)("div",{key:"4ef788d23691445c5fda227cf18a68414f57872f",class:"method-button-msg"},this.selectedMethodInfo.msg)),(0,s.h)("div",{key:"c281704c146cf0f4ebd30a5a51807a51645d00f9"},(0,s.h)("calcite-icon",{key:"b5a367fbecd3b5c930c5b824aa0062c5c4d69273",scale:"s",icon:"chevron-down"}))))))}setSelection(){const e=(0,a.b)().authoringInfo.classificationMethod;this.selectedMethodInfo=this.methodInfos.find((t=>t.value===e)),this.methodInfos.forEach((e=>{e.selected=e.value===this.selectedMethodInfo.value}))}populateMethodInfo(){const{strings:e}=a.s;this.methodInfos.push({value:"natural-breaks",title:e.methodButton.naturalBreaks,msg:e.methodButton.naturalBreaksMsg,iconPath:null,selected:!1},{value:"equal-interval",title:e.methodButton.equalInterval,msg:e.methodButton.equalIntervalMsg,iconPath:null,selected:!1}),this.showStdDev&&this.methodInfos.push({value:"standard-deviation",title:e.methodButton.standardDeviation,msg:e.methodButton.standardDeviationMsg,iconPath:null,selected:!1}),this.methodInfos.push({value:"quantile",title:e.methodButton.quantile,msg:e.methodButton.quantileMsg,iconPath:null,selected:!1}),this.showDefinedInterval&&this.methodInfos.push({value:"defined-interval",title:e.methodButton.definedInterval,msg:e.methodButton.definedIntervalMsg,iconPath:null,selected:!1}),this.methodInfos.push({value:"manual",title:e.methodButton.manualBreaks,msg:e.methodButton.manualBreaksMsg,iconPath:null,selected:!1})}closeDropdown(){var e;this.open=!1,this.dropdownNode&&(null===(e=this.dropdownNode.parentNode)||void 0===e||e.removeChild(this.dropdownNode),this.dropdownNode=null,this.buttonNode.classList.remove("active"))}openMethodDropdown(){if(this.open)this.open=!1;else{this.arcgisSmartMappingMethodButtonBeforeOpen.emit();const e=document.createElement("arcgis-smart-mapping-dropdown");e.buttonNode=this.buttonNode,e.infos=this.methodInfos,this.dropdownNode=e,e.addEventListener("arcgisSmartMappingDropdownClose",(e=>{this.closeDropdown(),"Escape"===e.detail&&this.setFocus()})),e.addEventListener("arcgisSmartMappingDropdownChange",(e=>this.setMethod(e.detail))),e.addEventListener("arcgisSmartMappingDropdownDisconnected",(()=>this.closeDropdown())),this.buttonNode.classList.add("active"),document.body.appendChild(e),this.open=!0}}setMethod(e){const t=(0,a.b)().authoringInfo.classificationMethod,i=e.value;if(i===t)return this.closeDropdown(),void setTimeout((()=>this.setFocus()),300);for(let e=0;e<this.methodInfos.length;e++)this.methodInfos[e].selected=this.methodInfos[e].value===i;this.selectedMethodInfo=e,this.arcgisSmartMappingMethodButtonChange.emit(this.selectedMethodInfo.value),this.closeDropdown(),setTimeout((()=>this.setFocus()),300)}get hostElement(){return(0,s.d)(this)}};m.style=".method-button{display:flex;padding:6px;justify-content:space-between;align-items:center;border-radius:0;cursor:pointer;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);border-color:var(--calcite-color-foreground-3);border-width:2px;border-style:solid;box-shadow:transparent 0px 0px 0px 1px inset}.method-button:active{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}.method-button:focus{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3);outline:2px solid var(--calcite-color-brand);outline-offset:2px}.method-button.active{outline:1px solid var(--calcite-ui-focus-color, var(--calcite-color-brand))}.method-content{justify-content:space-between;display:flex;align-items:center;width:100%}.method-button-text{display:inline-block;padding:0 10px}.method-button-title{font-weight:bold}.method-button-msg{font-size:80%;line-height:16px}";const g=class{constructor(e){(0,s.r)(this,e),this.arcgisSmartMappingRotationError=(0,s.c)(this,"arcgisSmartMappingRotationError",7),this.open=!1,this.isLoading=!1}componentWillLoad(){const e=(0,a.d)((0,a.b)(),"rotation");this.isBlockOpen=this.open||!!e,this.flowItemNode=(0,a.f)(this.hostElement,"calcite-flow-item")}render(){const{isRTL:e,layer:t,mapImageSublayer:i,strings:n,supportsArcade:l}=a.s,r=(0,a.d)((0,a.b)(),"size"),d=(0,a.I)((0,a.b)(),"reference-size"),c="geo-rss"===t.type;return i&&!l||(0,a.z)()||(0,a.B)()&&!r&&!d||!(0,a.aL)()||c?null:(0,s.h)(s.H,null,(0,s.h)("calcite-block",{class:{[o.C.rtl]:e,"rotation-block":!0},heading:n.rotation.rotationByAttribute,collapsible:!0,open:this.isBlockOpen,loading:this.isLoading,ref:e=>this.blockNode=e,onCalciteBlockOpen:()=>{this.isBlockOpen=!0,(0,a.aP)(this.blockNode)},onCalciteBlockClose:()=>this.isBlockOpen=!1},(0,s.h)("div",null,this.renderRotationToggle())))}renderLoading(){const{strings:e}=a.s;return(0,s.h)("div",{class:"block-content-loading"},(0,s.h)("calcite-loader",{label:e.loading}))}renderRotationToggle(){const{strings:e}=a.s,t=(0,a.d)((0,a.b)(),"rotation");return(0,s.h)("calcite-block-section",{text:e.rotation.rotationLabel,class:"toggle-button",toggleDisplay:"switch",open:!!t,onCalciteBlockSectionToggle:()=>this.handleToggle()},(0,s.h)("div",{class:"block-section-padding"},this.isLoading?this.renderLoading():t?this.renderRotationContent():this.renderLoading()))}renderRotationContent(){return(0,s.h)("div",null,this.renderRotationAttribute(),this.renderRotationType())}renderRotationAttribute(){const{fields:e,strings:t}=a.s,i=(0,a.d)((0,a.b)(),"rotation"),n={field:i.field,expression:i.valueExpression,expressionTitle:i.valueExpressionTitle,simpleFieldType:a.t.NUMBER};return(0,s.h)("arcgis-smart-mapping-attribute-input",{fieldList:e.filter((e=>e.simpleFieldType===a.t.NUMBER)),selectedField:n,label:t.rotation.field,mode:"expression",popoverReferenceElement:this.flowItemNode,onArcgisSmartMappingAttributeInputChange:e=>{if(e.detail){const t=e.detail;this.setRotationVisualVariable(t)}},onArcgisSmartMappingAttributeInputError:e=>this.arcgisSmartMappingRotationError.emit(e.detail)})}renderRotationType(){const{strings:e}=a.s;let t=!1;0===e.rotation.rotateZeroDegrees.indexOf("\xb0")&&(t=!0);const i=(0,a.b)(),n=(0,a.d)(i,"rotation");return(0,s.h)("div",{class:"rotation-type block-content-padding"},(0,s.h)("calcite-radio-button-group",{class:"rotation-type-selection",name:"rotationType",onCalciteRadioButtonGroupChange:e=>this.handleTypeChange(e.target.selectedItem.value)},(0,s.h)("calcite-label",{layout:"inline"},(0,s.h)("calcite-radio-button",{checked:"geographic"===n.rotationType,value:"geographic"}),e.rotation.geographic),(0,s.h)("calcite-label",{layout:"inline"},(0,s.h)("calcite-radio-button",{checked:"arithmetic"===n.rotationType,value:"arithmetic"}),e.rotation.arithmetic)),(0,s.h)("div",{class:"rotation-type-display","aria-hidden":"true"},"arithmetic"===n.rotationType?t?this.renderRotationSVG_Ari_leading():this.renderRotationSVG_Ari():t?this.renderRotationSVG_Geo_leading():this.renderRotationSVG_Geo(),(0,s.h)("div",{class:"rotation-type-symbol",ref:e=>this.createSymbol(e)})))}renderRotationSVG_Geo(){return(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80"},(0,s.h)("defs",null,(0,s.h)("style",null,".cls-1,.cls-4","{fill:none;}",".cls-2","{fill:#f3f3f3;}",".cls-3","{fill:#ccc;}",".cls-4","{stroke:#353535;stroke-miterlimit:10;}",".cls-5","{fill:#353535;}",".cls-6","{fill:#595959;}")),(0,s.h)("rect",{class:"cls-1",width:"80",height:"80"}),(0,s.h)("circle",{class:"cls-2",cx:"30.5",cy:"46.5",r:"30.5"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"16",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"71",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"57.5",y:"43.5",width:"1",height:"6",transform:"translate(11.5 104.5) rotate(-90)"}),(0,s.h)("rect",{class:"cls-3",x:"2.5",y:"43.5",width:"1",height:"6",transform:"translate(-43.5 49.5) rotate(-90)"}),(0,s.h)("path",{class:"cls-4",d:"M35.8,16.46A30.51,30.51,0,0,1,60.39,40.4"}),(0,s.h)("polygon",{class:"cls-5",points:"57.06 38.77 57.46 38.2 60.31 40.15 62.05 37.16 62.65 37.51 60.53 41.15 57.06 38.77"}),(0,s.h)("path",{class:"cls-6",d:"M29.12,4.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19,7.77,7.77,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19A2.34,2.34,0,0,1,28,4.56,1.85,1.85,0,0,1,29.12,4.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,27.52,8a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,2,2,0,0,0,.49.74,1.15,1.15,0,0,0,.78.28,1.12,1.12,0,0,0,.77-.28,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,30.72,8a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.08,1.08,0,0,0,29.12,4.85Z"}),(0,s.h)("path",{class:"cls-6",d:"M35.52,5.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0A1.38,1.38,0,0,1,33,6.86a1.21,1.21,0,0,1-.31-.48,1.51,1.51,0,0,1,0-1.18A1.21,1.21,0,0,1,33,4.72a1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.21,1.21,0,0,1,.31.48A1.45,1.45,0,0,1,35.52,5.79Zm-.49,0a1.09,1.09,0,0,0-.07-.4,1.16,1.16,0,0,0-.22-.31.87.87,0,0,0-.32-.22,1,1,0,0,0-.4-.08,1,1,0,0,0-.39.08.87.87,0,0,0-.32.22,1.16,1.16,0,0,0-.22.31,1.18,1.18,0,0,0,0,.8,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22A1,1,0,0,0,34,6.8a1,1,0,0,0,.4-.08.87.87,0,0,0,.32-.22A1,1,0,0,0,35,6.19,1.09,1.09,0,0,0,35,5.79Z"}),(0,s.h)("path",{class:"cls-6",d:"M66.94,46.41l0,0a1.33,1.33,0,0,1-.46.19,2.2,2.2,0,0,1-.56.07,2.18,2.18,0,0,1-.85-.16,2.12,2.12,0,0,1-.68-.45,1.9,1.9,0,0,1-.46-.68,2.38,2.38,0,0,1-.16-.89,2.27,2.27,0,0,1,.17-.91,1.9,1.9,0,0,1,.48-.7,2.45,2.45,0,0,1,.73-.46,2.7,2.7,0,0,1,1.83,0,2.33,2.33,0,0,1,.73.46,1.9,1.9,0,0,1,.48.7,2.27,2.27,0,0,1,.18.91,2.61,2.61,0,0,1-.2,1,6.24,6.24,0,0,1-.44.9L65.77,49.5h-.83Zm.69-1.94a1.69,1.69,0,0,0-.12-.64,1.62,1.62,0,0,0-.32-.52,1.92,1.92,0,0,0-.5-.34,1.79,1.79,0,0,0-1.29,0,1.77,1.77,0,0,0-.5.34,1.82,1.82,0,0,0-.32.52,1.77,1.77,0,0,0,0,1.28,1.49,1.49,0,0,0,.31.51,1.45,1.45,0,0,0,.5.33,1.75,1.75,0,0,0,.65.12A1.73,1.73,0,0,0,66.7,46a1.45,1.45,0,0,0,.5-.33,1.69,1.69,0,0,0,.32-.51A1.91,1.91,0,0,0,67.63,44.47Z"}),(0,s.h)("path",{class:"cls-6",d:"M71.82,42.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86A4.16,4.16,0,0,1,74,44.61a8.46,8.46,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,8.46,8.46,0,0,1,0-2.72A4.16,4.16,0,0,1,70,43.42a2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,71.82,42.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,4.31,4.31,0,0,0-.26,1A10.3,10.3,0,0,0,70.22,46a10.11,10.11,0,0,0,.07,1.08,4,4,0,0,0,.26,1,2,2,0,0,0,.49.74,1.21,1.21,0,0,0,1.55,0,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,73.42,46a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,71.82,42.85Z"}),(0,s.h)("path",{class:"cls-6",d:"M78.21,43.79a1.44,1.44,0,0,1-.11.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.52,1.52,0,0,1-.48-.31,1.47,1.47,0,0,1-.31-.48,1.64,1.64,0,0,1,0-1.18,1.47,1.47,0,0,1,.31-.48,1.52,1.52,0,0,1,.48-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.21,1.21,0,0,1,.31.48A1.44,1.44,0,0,1,78.21,43.79Zm-.48,0a.92.92,0,0,0-.08-.4,1,1,0,0,0-.21-.31.87.87,0,0,0-.32-.22,1.06,1.06,0,0,0-.4-.08,1,1,0,0,0-.39.08.87.87,0,0,0-.32.22,1.16,1.16,0,0,0-.22.31,1,1,0,0,0,0,.8,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.39.08,1.06,1.06,0,0,0,.4-.08.87.87,0,0,0,.32-.22.85.85,0,0,0,.21-.31A.92.92,0,0,0,77.73,43.79Z"}))}renderRotationSVG_Ari(){return(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80"},(0,s.h)("defs",null,(0,s.h)("style",null,".cls-1,.cls-4","{fill:none;}",".cls-2","{fill:#f3f3f3;}",".cls-3","{fill:#ccc;}",".cls-4","{stroke:#353535;stroke-miterlimit:10;}",".cls-5","{fill:#353535;}",".cls-6","{fill:#595959;}")),(0,s.h)("rect",{class:"cls-1",width:"80",height:"80"}),(0,s.h)("circle",{class:"cls-2",cx:"30.5",cy:"46.5",r:"30.5"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"16",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"71",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"57.5",y:"43.5",width:"1",height:"6",transform:"translate(11.5 104.5) rotate(-90)"}),(0,s.h)("rect",{class:"cls-3",x:"2.5",y:"43.5",width:"1",height:"6",transform:"translate(-43.5 49.5) rotate(-90)"}),(0,s.h)("path",{class:"cls-4",d:"M36.54,16.6a30.55,30.55,0,0,1,24,24.55"}),(0,s.h)("polygon",{class:"cls-5",points:"38.19 19.92 38.76 19.52 36.8 16.69 39.77 14.94 39.42 14.33 35.8 16.46 38.19 19.92"}),(0,s.h)("path",{class:"cls-6",d:"M27.14,8.41l0,0a1.35,1.35,0,0,1-.45.19,2.28,2.28,0,0,1-.57.07,2.18,2.18,0,0,1-.85-.16A2.12,2.12,0,0,1,24.57,8a1.94,1.94,0,0,1-.46-.69A2.3,2.3,0,0,1,24,6.47a2.27,2.27,0,0,1,.17-.91,1.9,1.9,0,0,1,.48-.7,2.32,2.32,0,0,1,1.65-.62,2.51,2.51,0,0,1,.92.16,2.59,2.59,0,0,1,.73.46,2.18,2.18,0,0,1,.48.7,2.46,2.46,0,0,1,.17.91,2.61,2.61,0,0,1-.2,1,6.24,6.24,0,0,1-.44.9L26,11.5h-.83Zm.69-1.94a1.69,1.69,0,0,0-.12-.64,1.62,1.62,0,0,0-.32-.52,1.56,1.56,0,0,0-.5-.33A1.67,1.67,0,0,0,25.6,5a1.67,1.67,0,0,0-.5.33,1.82,1.82,0,0,0-.32.52,1.69,1.69,0,0,0-.11.64,1.61,1.61,0,0,0,.11.63,1.35,1.35,0,0,0,.81.85,1.76,1.76,0,0,0,.66.12A1.71,1.71,0,0,0,26.9,8a1.45,1.45,0,0,0,.5-.33,1.62,1.62,0,0,0,.32-.52A1.81,1.81,0,0,0,27.83,6.47Z"}),(0,s.h)("path",{class:"cls-6",d:"M32,4.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19A7.72,7.72,0,0,1,34.33,8a7.72,7.72,0,0,1-.11,1.36,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19,2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,32,4.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,30.42,8a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,1.92,1.92,0,0,0,.49.73,1.18,1.18,0,0,0,1.55,0,1.92,1.92,0,0,0,.49-.73,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,33.62,8a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,32,4.85Z"}),(0,s.h)("path",{class:"cls-6",d:"M38.42,5.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.52,1.52,0,0,1-.48-.31,1.47,1.47,0,0,1-.31-.48,1.63,1.63,0,0,1-.11-.59,1.73,1.73,0,0,1,.11-.6,1.38,1.38,0,0,1,.79-.78,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.25,1.25,0,0,1,.31.47A1.53,1.53,0,0,1,38.42,5.79Zm-.49,0a.85.85,0,0,0-.08-.39.89.89,0,0,0-.21-.32.87.87,0,0,0-.32-.22,1.06,1.06,0,0,0-.4-.08,1,1,0,0,0-.39.08.87.87,0,0,0-.32.22A1.07,1.07,0,0,0,36,5.4a1,1,0,0,0-.07.39,1.09,1.09,0,0,0,.07.4,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.39.08,1.06,1.06,0,0,0,.4-.08.87.87,0,0,0,.32-.22.85.85,0,0,0,.21-.31A.92.92,0,0,0,37.93,5.79Z"}),(0,s.h)("path",{class:"cls-6",d:"M67,42.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19,8.46,8.46,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19,2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,67,42.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,65.42,46a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,2,2,0,0,0,.49.74,1.21,1.21,0,0,0,1.55,0,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,68.62,46a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,67,42.85Z"}),(0,s.h)("path",{class:"cls-6",d:"M73.42,43.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.52,1.52,0,0,1-.48-.31,1.47,1.47,0,0,1-.31-.48,1.63,1.63,0,0,1-.11-.59,1.73,1.73,0,0,1,.11-.6,1.38,1.38,0,0,1,.79-.78,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.25,1.25,0,0,1,.31.47A1.53,1.53,0,0,1,73.42,43.79Zm-.49,0a.85.85,0,0,0-.08-.39.89.89,0,0,0-.21-.32.87.87,0,0,0-.32-.22,1.06,1.06,0,0,0-.4-.08,1,1,0,0,0-.39.08.87.87,0,0,0-.32.22,1.07,1.07,0,0,0-.22.32,1,1,0,0,0-.07.39,1.09,1.09,0,0,0,.07.4,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.39.08,1.06,1.06,0,0,0,.4-.08.87.87,0,0,0,.32-.22.85.85,0,0,0,.21-.31A.92.92,0,0,0,72.93,43.79Z"}))}renderRotationSVG_Geo_leading(){return(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80"},(0,s.h)("defs",null,(0,s.h)("style",null,".cls-1,.cls-4","{fill:none;}",".cls-2","{fill:#f3f3f3;}",".cls-3","{fill:#ccc;}",".cls-4","{stroke:#353535;stroke-miterlimit:10;}",".cls-5","{fill:#353535;}",".cls-6","{fill:#595959;}")),(0,s.h)("rect",{class:"cls-1",width:"80",height:"80"}),(0,s.h)("circle",{class:"cls-2",cx:"30.5",cy:"46.5",r:"30.5"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"16",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"71",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"57.5",y:"43.5",width:"1",height:"6",transform:"translate(11.5 104.5) rotate(-90)"}),(0,s.h)("rect",{class:"cls-3",x:"2.5",y:"43.5",width:"1",height:"6",transform:"translate(-43.5 49.5) rotate(-90)"}),(0,s.h)("path",{class:"cls-4",d:"M35.8,16.46A30.51,30.51,0,0,1,60.39,40.4"}),(0,s.h)("polygon",{class:"cls-5",points:"57.06 38.77 57.46 38.2 60.31 40.15 62.05 37.16 62.65 37.51 60.53 41.15 57.06 38.77"}),(0,s.h)("path",{class:"cls-6",d:"M28.72,5.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.38,1.38,0,0,1-.47-.31,1.21,1.21,0,0,1-.31-.48,1.51,1.51,0,0,1,0-1.18,1.21,1.21,0,0,1,.31-.48,1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.21,1.21,0,0,1,.31.48A1.45,1.45,0,0,1,28.72,5.79Zm-.49,0a1.09,1.09,0,0,0-.07-.4,1.16,1.16,0,0,0-.22-.31.87.87,0,0,0-.32-.22,1,1,0,0,0-.39-.08,1,1,0,0,0-.4.08.87.87,0,0,0-.32.22,1.16,1.16,0,0,0-.22.31,1.18,1.18,0,0,0,0,.8,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.4.08,1,1,0,0,0,.39-.08.87.87,0,0,0,.32-.22,1,1,0,0,0,.22-.31A1.09,1.09,0,0,0,28.23,5.79Z"}),(0,s.h)("path",{class:"cls-6",d:"M32.12,4.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19,7.77,7.77,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19A2.34,2.34,0,0,1,31,4.56,1.85,1.85,0,0,1,32.12,4.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,30.52,8a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,2,2,0,0,0,.49.74,1.15,1.15,0,0,0,.78.28,1.12,1.12,0,0,0,.77-.28,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,33.72,8a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.08,1.08,0,0,0,32.12,4.85Z"}),(0,s.h)("path",{class:"cls-6",d:"M66.62,43.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.38,1.38,0,0,1-.47-.31,1.21,1.21,0,0,1-.31-.48,1.51,1.51,0,0,1,0-1.18,1.21,1.21,0,0,1,.31-.48,1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.21,1.21,0,0,1,.31.48A1.45,1.45,0,0,1,66.62,43.79Zm-.49,0a1.09,1.09,0,0,0-.07-.4,1.16,1.16,0,0,0-.22-.31.87.87,0,0,0-.32-.22,1,1,0,0,0-.39-.08,1,1,0,0,0-.4.08.87.87,0,0,0-.32.22,1.16,1.16,0,0,0-.22.31,1.18,1.18,0,0,0,0,.8,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.4.08,1,1,0,0,0,.39-.08.87.87,0,0,0,.32-.22,1,1,0,0,0,.22-.31A1.09,1.09,0,0,0,66.13,43.79Z"}),(0,s.h)("path",{class:"cls-6",d:"M70.94,46.41l0,0a1.33,1.33,0,0,1-.46.19,2.2,2.2,0,0,1-.56.07,2.18,2.18,0,0,1-.85-.16,2.12,2.12,0,0,1-.68-.45,1.9,1.9,0,0,1-.46-.68,2.38,2.38,0,0,1-.16-.89,2.27,2.27,0,0,1,.17-.91,1.9,1.9,0,0,1,.48-.7,2.45,2.45,0,0,1,.73-.46,2.7,2.7,0,0,1,1.83,0,2.33,2.33,0,0,1,.73.46,1.9,1.9,0,0,1,.48.7,2.27,2.27,0,0,1,.18.91,2.61,2.61,0,0,1-.2,1,6.24,6.24,0,0,1-.44.9L69.77,49.5h-.83Zm.69-1.94a1.69,1.69,0,0,0-.12-.64,1.62,1.62,0,0,0-.32-.52,1.92,1.92,0,0,0-.5-.34,1.79,1.79,0,0,0-1.29,0,1.77,1.77,0,0,0-.5.34,1.82,1.82,0,0,0-.32.52,1.77,1.77,0,0,0,0,1.28,1.49,1.49,0,0,0,.31.51,1.45,1.45,0,0,0,.5.33,1.75,1.75,0,0,0,.65.12A1.73,1.73,0,0,0,70.7,46a1.45,1.45,0,0,0,.5-.33,1.69,1.69,0,0,0,.32-.51A1.91,1.91,0,0,0,71.63,44.47Z"}),(0,s.h)("path",{class:"cls-6",d:"M75.82,42.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86A4.16,4.16,0,0,1,78,44.61a8.46,8.46,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,8.46,8.46,0,0,1,0-2.72A4.16,4.16,0,0,1,74,43.42a2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,75.82,42.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,4.31,4.31,0,0,0-.26,1A10.3,10.3,0,0,0,74.22,46a10.11,10.11,0,0,0,.07,1.08,4,4,0,0,0,.26,1,2,2,0,0,0,.49.74,1.21,1.21,0,0,0,1.55,0,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,77.42,46a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,75.82,42.85Z"}))}renderRotationSVG_Ari_leading(){return(0,s.h)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 80"},(0,s.h)("defs",null,(0,s.h)("style",null,".cls-1,.cls-4","{fill:none;}",".cls-2","{fill:#f3f3f3;}",".cls-3","{fill:#ccc;}",".cls-4","{stroke:#353535;stroke-miterlimit:10;}",".cls-5","{fill:#353535;}",".cls-6","{fill:#595959;}")),(0,s.h)("rect",{class:"cls-1",width:"80",height:"80"}),(0,s.h)("circle",{class:"cls-2",cx:"30.5",cy:"46.5",r:"30.5"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"16",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"30",y:"71",width:"1",height:"6"}),(0,s.h)("rect",{class:"cls-3",x:"57.5",y:"43.5",width:"1",height:"6",transform:"translate(11.5 104.5) rotate(-90)"}),(0,s.h)("rect",{class:"cls-3",x:"2.5",y:"43.5",width:"1",height:"6",transform:"translate(-43.5 49.5) rotate(-90)"}),(0,s.h)("path",{class:"cls-4",d:"M36.54,16.6a30.55,30.55,0,0,1,24,24.55"}),(0,s.h)("polygon",{class:"cls-5",points:"38.19 19.92 38.76 19.52 36.8 16.69 39.77 14.94 39.42 14.33 35.8 16.46 38.19 19.92"}),(0,s.h)("path",{class:"cls-6",d:"M24.82,5.79a1.63,1.63,0,0,1-.11.59,1.47,1.47,0,0,1-.31.48,1.52,1.52,0,0,1-.48.31,1.66,1.66,0,0,1-1.19,0,1.38,1.38,0,0,1-.47-.31A1.21,1.21,0,0,1,22,6.38a1.45,1.45,0,0,1-.12-.59,1.53,1.53,0,0,1,.12-.6,1.25,1.25,0,0,1,.31-.47,1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.79.78A1.73,1.73,0,0,1,24.82,5.79Zm-.49,0a1,1,0,0,0-.07-.39A1.07,1.07,0,0,0,24,5.08a.87.87,0,0,0-.32-.22,1,1,0,0,0-.39-.08,1.06,1.06,0,0,0-.4.08.87.87,0,0,0-.32.22.89.89,0,0,0-.21.32.85.85,0,0,0-.08.39.92.92,0,0,0,.08.4.85.85,0,0,0,.21.31.87.87,0,0,0,.32.22,1.06,1.06,0,0,0,.4.08,1,1,0,0,0,.39-.08A.87.87,0,0,0,24,6.5a1,1,0,0,0,.22-.31A1.09,1.09,0,0,0,24.33,5.79Z"}),(0,s.h)("path",{class:"cls-6",d:"M29.14,8.41l0,0a1.35,1.35,0,0,1-.45.19,2.28,2.28,0,0,1-.57.07,2.18,2.18,0,0,1-.85-.16A2.12,2.12,0,0,1,26.57,8a1.94,1.94,0,0,1-.46-.69A2.3,2.3,0,0,1,26,6.47a2.27,2.27,0,0,1,.17-.91,1.9,1.9,0,0,1,.48-.7,2.32,2.32,0,0,1,1.65-.62,2.51,2.51,0,0,1,.92.16,2.59,2.59,0,0,1,.73.46,2.18,2.18,0,0,1,.48.7,2.46,2.46,0,0,1,.17.91,2.61,2.61,0,0,1-.2,1,6.24,6.24,0,0,1-.44.9L28,11.5h-.83Zm.69-1.94a1.69,1.69,0,0,0-.12-.64,1.62,1.62,0,0,0-.32-.52,1.56,1.56,0,0,0-.5-.33A1.67,1.67,0,0,0,27.6,5a1.67,1.67,0,0,0-.5.33,1.82,1.82,0,0,0-.32.52,1.69,1.69,0,0,0-.11.64,1.61,1.61,0,0,0,.11.63,1.35,1.35,0,0,0,.81.85,1.76,1.76,0,0,0,.66.12A1.71,1.71,0,0,0,28.9,8a1.45,1.45,0,0,0,.5-.33,1.62,1.62,0,0,0,.32-.52A1.81,1.81,0,0,0,29.83,6.47Z"}),(0,s.h)("path",{class:"cls-6",d:"M34,4.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19A7.72,7.72,0,0,1,36.33,8a7.72,7.72,0,0,1-.11,1.36,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19,2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,34,4.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,32.42,8a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,1.92,1.92,0,0,0,.49.73,1.18,1.18,0,0,0,1.55,0,1.92,1.92,0,0,0,.49-.73,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,35.62,8a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,34,4.85Z"}),(0,s.h)("path",{class:"cls-6",d:"M67.62,43.79a1.45,1.45,0,0,1-.12.59,1.21,1.21,0,0,1-.31.48,1.38,1.38,0,0,1-.47.31,1.66,1.66,0,0,1-1.19,0,1.38,1.38,0,0,1-.47-.31,1.21,1.21,0,0,1-.31-.48,1.45,1.45,0,0,1-.12-.59,1.53,1.53,0,0,1,.12-.6,1.25,1.25,0,0,1,.31-.47,1.38,1.38,0,0,1,.47-.31,1.66,1.66,0,0,1,1.19,0,1.38,1.38,0,0,1,.47.31,1.25,1.25,0,0,1,.31.47A1.53,1.53,0,0,1,67.62,43.79Zm-.49,0a1,1,0,0,0-.07-.39,1.07,1.07,0,0,0-.22-.32.87.87,0,0,0-.32-.22,1,1,0,0,0-.39-.08,1,1,0,0,0-.4.08.87.87,0,0,0-.32.22,1.07,1.07,0,0,0-.22.32,1,1,0,0,0-.07.39,1.09,1.09,0,0,0,.07.4,1,1,0,0,0,.22.31.87.87,0,0,0,.32.22,1,1,0,0,0,.4.08,1,1,0,0,0,.39-.08.87.87,0,0,0,.32-.22,1,1,0,0,0,.22-.31A1.09,1.09,0,0,0,67.13,43.79Z"}),(0,s.h)("path",{class:"cls-6",d:"M71,42.24a1.84,1.84,0,0,1,1.1.32,2.34,2.34,0,0,1,.72.86,4.16,4.16,0,0,1,.38,1.19,8.46,8.46,0,0,1,0,2.72,4.26,4.26,0,0,1-.38,1.19,2.27,2.27,0,0,1-.72.84,2.07,2.07,0,0,1-2.21,0,2.27,2.27,0,0,1-.72-.84,4.26,4.26,0,0,1-.38-1.19,9.3,9.3,0,0,1,0-2.72,4.16,4.16,0,0,1,.38-1.19,2.34,2.34,0,0,1,.72-.86A1.85,1.85,0,0,1,71,42.24Zm0,.61a1.11,1.11,0,0,0-.78.29,2,2,0,0,0-.49.74,3.86,3.86,0,0,0-.25,1A8.23,8.23,0,0,0,69.42,46a8.09,8.09,0,0,0,.08,1.08,3.59,3.59,0,0,0,.25,1,2,2,0,0,0,.49.74,1.21,1.21,0,0,0,1.55,0,2,2,0,0,0,.49-.74,4,4,0,0,0,.26-1A8.09,8.09,0,0,0,72.62,46a8.23,8.23,0,0,0-.08-1.09,4.31,4.31,0,0,0-.26-1,2,2,0,0,0-.49-.74A1.1,1.1,0,0,0,71,42.85Z"}))}createSymbol(e){var t,i,s;if(!e)return;const{modules:n}=a.s,o=(0,a.b)();let l=o.symbol||(null===(t=o.classBreakInfos)||void 0===t?void 0:t.length)&&o.classBreakInfos[0].symbol||(null===(i=o.uniqueValueInfos)||void 0===i?void 0:i.length)&&o.uniqueValueInfos[0].symbol||(0,a.o)();for(l=l.clone(),(0,a.W)(l,new n.esriColor({r:170,g:170,b:170,a:1}));null===(s=e.childNodes)||void 0===s?void 0:s.length;)e.removeChild(e.childNodes[0]);l&&n.symbolUtils.renderPreviewHTML(l,{size:20}).then((t=>e.appendChild(t)))}handleToggle(){var e;const{modules:t}=a.s,i=(0,a.b)();(0,a.D)();const n=(0,a.d)(i,"rotation");if(n)this.lastSettings={rotationVisVar:n},i.visualVariables=(0,a.T)(i,"rotation")||[],(0,a.u)();else if(null===(e=this.lastSettings)||void 0===e?void 0:e.rotationVisVar)i.visualVariables=(0,a.T)(i,"rotation")||[],i.visualVariables.push(this.lastSettings.rotationVisVar),(0,a.u)(),(0,a.aP)(this.blockNode);else{const e=(0,a.aQ)(),s=e?e.layerField.name:"",n=new t.RotationVariable({field:s,rotationType:"geographic"});i.visualVariables=(0,a.T)(i,"rotation")||[],i.visualVariables.push(n),(0,a.u)(),(0,a.aP)(this.blockNode)}(0,s.f)(this.hostElement)}handleTypeChange(e){const t=(0,a.b)(),i=(0,a.d)(t,"rotation");e!==i.rotationType&&(i.rotationType=e,(0,a.u)(),(0,s.f)(this.hostElement))}setRotationVisualVariable(e){this.isLoading=!0;const{modules:t}=a.s,i=(0,a.b)(),s=(0,a.d)(i,"rotation").rotationType;try{let n;e.expression?n=new t.RotationVariable({valueExpression:e.expression,valueExpressionTitle:e.expressionTitle,rotationType:s}):e.field&&(n=new t.RotationVariable({field:e.field,rotationType:s})),i.visualVariables=(0,a.T)(i,"rotation")||[],i.visualVariables.push(n),(0,a.u)(),(0,a.aP)(this.blockNode),this.isLoading=!1}catch(e){console.log(e)}}get hostElement(){return(0,s.d)(this)}};var f;g.style=".toggle-button{margin-top:2px}.block-section-padding{padding-top:6px}.block-content-padding{margin:6px 0}.block-content-loading{height:150px}.rotation-block{overflow:hidden}.rotation-type{margin-top:5px}.rotation-type-selection{margin-top:15px}.rotation-type-display{margin:10px 20px 0 20px;position:relative}.rotation-type-display svg{height:120px}.rotation-type-symbol{position:absolute;top:56px;left:33px}.arcgis--rtl .rotation-type-symbol{left:auto;right:61px}",function(e){e.highToLow="HighToLow.svg",e.aboveAndBelow="AboveAndBelow.svg",e.above="Above.svg",e.below="Below.svg",e.centeredOn="CenteredOn.svg",e.extremes="Extremes.svg",e.referenceSize="ReferenceSize.svg"}(f||(f={}));const b=class{constructor(e){(0,s.r)(this,e),this.arcgisSmartMappingThemeButtonChange=(0,s.c)(this,"arcgisSmartMappingThemeButtonChange",7),this.arcgisSmartMappingThemeButtonBeforeOpen=(0,s.c)(this,"arcgisSmartMappingThemeButtonBeforeOpen",7),this.open=!1,this.themeInfos=[],this.rendererSubtype=void 0,this.buttonVersion="default"}async setFocus(){"minimal"===this.buttonVersion?this.buttonNode.setFocus():this.buttonNode.focus()}componentWillLoad(){this.populateThemeInfo(),this.setSelection()}componentWillUpdate(){const e=(0,a.J)(this.rendererSubtype);this.selectedThemeInfo.value!==e&&this.setSelection()}disconnectedCallback(){(0,a.D)()}render(){return(0,s.h)(s.H,{key:"154c6220108dff80b037f6be8fdb43184af7f2d5"},"minimal"===this.buttonVersion?this.renderMinimalButton():this.renderDefaultButton())}renderDefaultButton(){const{strings:e}=a.s;return(0,s.h)("calcite-label",null,e.themeButton.theme,(0,s.h)("div",{class:"theme-button",role:"button",tabindex:"0","aria-haspopup":"true","aria-label":e.themeButton.selectTheme,ref:e=>this.buttonNode=e,onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.openThemeDropdown())},onClick:()=>this.openThemeDropdown()},(0,s.h)("div",{class:"theme-content"},(0,s.h)("div",{class:"theme-button-icon",style:{backgroundImage:`url(${(0,s.g)("./assets/arcgis-smart-mapping-dropdown-images/")}${this.selectedThemeInfo.iconPath})`}}),(0,s.h)("div",{class:"theme-sub-content"},(0,s.h)("div",{class:"theme-button-text"},(0,s.h)("div",{class:"theme-button-title"},this.selectedThemeInfo.title),(0,s.h)("div",{class:"theme-button-msg"},this.selectedThemeInfo.msg)),(0,s.h)("div",null,(0,s.h)("calcite-icon",{scale:"s",icon:"chevron-down"}))))))}renderMinimalButton(){const{strings:e}=a.s;return(0,s.h)("calcite-label",{onClick:e=>e.stopImmediatePropagation()},e.themeButton.theme,(0,s.h)("calcite-button",{class:"calcite-theme-button",alignment:"icon-end-space-between",iconEnd:"chevron-down",appearance:"outline-fill",width:"full",role:"button",kind:"neutral","aria-haspopup":"true",label:e.themeButton.selectTheme,ref:e=>this.buttonNode=e,onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),e.stopPropagation(),this.openThemeDropdown())},onClick:()=>this.openThemeDropdown()},this.selectedThemeInfo.title))}setSelection(){const e=(0,a.b)(),t=e.authoringInfo,i=(0,a.I)((0,a.b)(),"color"),s=(0,a.I)((0,a.b)(),"size");let n=(0,a.I)(e,"reference-size")&&"size"===this.rendererSubtype?"reference-size":(null==t?void 0:t.univariateTheme)||("size"===this.rendererSubtype?null==s?void 0:s.theme:null==i?void 0:i.theme);this.selectedThemeInfo=n?this.themeInfos.find((e=>e.value===n)):this.themeInfos.find((e=>"high-to-low"===e.value)),this.themeInfos.forEach((e=>{e.selected=e.value===this.selectedThemeInfo.value}))}closeDropdown(){var e;this.open=!1,this.dropdownNode&&(null===(e=this.dropdownNode.parentNode)||void 0===e||e.removeChild(this.dropdownNode),this.dropdownNode=null,this.buttonNode.classList.remove("active"))}openThemeDropdown(){if(this.open)this.closeDropdown();else{this.arcgisSmartMappingThemeButtonBeforeOpen.emit();const e=document.createElement("arcgis-smart-mapping-dropdown");e.buttonNode=this.buttonNode,e.infos=this.themeInfos,this.dropdownNode=e,e.addEventListener("arcgisSmartMappingDropdownClose",(e=>{this.closeDropdown(),"Escape"===e.detail&&this.setFocus()})),e.addEventListener("arcgisSmartMappingDropdownChange",(e=>this.setTheme(e.detail))),e.addEventListener("arcgisSmartMappingDropdownDisconnected",(()=>this.closeDropdown())),this.buttonNode.classList.add("active"),document.body.appendChild(e),this.open=!0}}setTheme(e){const t=(0,a.J)(this.rendererSubtype),i=e.value;if(i===t)return this.closeDropdown(),void setTimeout((()=>this.setFocus()),300);for(let e=0;e<this.themeInfos.length;e++)this.themeInfos[e].selected=this.themeInfos[e].value===i;this.selectedThemeInfo=e,this.arcgisSmartMappingThemeButtonChange.emit(i),this.closeDropdown(),setTimeout((()=>this.setFocus()),300)}populateThemeInfo(){const{layer:e,mapImageSublayer:t,strings:i}=a.s,s=t&&e.version>=11,n=(0,a.a)(),o=["color-age","size-age"].indexOf(n)>-1||"size"!==this.rendererSubtype&&["color-age-size"].indexOf(n)>-1||"size"===this.rendererSubtype&&["color-size-age","type-size-age"].indexOf(n)>-1,l=(0,a.b)(),r=l.authoringInfo,d="univariate-color-size"===(null==r?void 0:r.type),c="color-size"===n&&d?(0,a.d)((0,a.b)(),"size"):(0,a.d)((0,a.b)(),this.rendererSubtype),h=(0,a.I)(l,"reference-size"),u=c?c.field:h?h.field:l.field,p=(0,a.q)(u),m=(null==p?void 0:p.simpleFieldType)===a.t.DATE&&!o,g="color-size"===n&&d?"ColorAndSize_":"color"===this.rendererSubtype?"Color_":"Size_";this.themeInfos.push({value:"high-to-low",title:m?i.themeButton.newToOld:i.themeButton.highToLow,msg:m?i.themeButton[this.rendererSubtype].newToOldMsg:i.themeButton[this.rendererSubtype].highToLowMsg,iconPath:`${g}${f.highToLow}`,selected:!1}),"color"!==n&&("color-size"!==n||"size"===this.rendererSubtype||t&&!s)||this.themeInfos.push({value:"above-and-below",title:m?i.themeButton.beforeAndAfter:i.themeButton.aboveAndBelow,msg:m?i.themeButton[this.rendererSubtype].beforeAndAfterMsg:i.themeButton[this.rendererSubtype].aboveAndBelowMsg,iconPath:`${g}${f.aboveAndBelow}`,selected:!1}),this.themeInfos.push({value:"above",title:m?i.themeButton.after:i.themeButton.above,msg:m?i.themeButton[this.rendererSubtype].afterMsg:i.themeButton[this.rendererSubtype].aboveMsg,iconPath:`${g}${f.above}`,selected:!1}),this.themeInfos.push({value:"below",title:m?i.themeButton.before:i.themeButton.below,msg:m?i.themeButton[this.rendererSubtype].beforeMsg:i.themeButton[this.rendererSubtype].belowMsg,iconPath:`${g}${f.below}`,selected:!1}),"color"===n&&(this.themeInfos.push({value:"centered-on",title:i.themeButton.centered,msg:i.themeButton[this.rendererSubtype].centeredMsg,iconPath:`${g}${f.centeredOn}`,selected:!1}),this.themeInfos.push({value:"extremes",title:i.themeButton.extremes,msg:i.themeButton[this.rendererSubtype].extremesMsg,iconPath:`${g}${f.extremes}`,selected:!1})),!t&&"size"===this.rendererSubtype&&(0,a.O)(p)&&(0,a.B)()&&!m&&this.themeInfos.push({value:"reference-size",title:i.themeButton.referenceSize,msg:i.themeButton.size.referenceSizeMsg,iconPath:`${g}${f.referenceSize}`,selected:!1})}get hostElement(){return(0,s.d)(this)}};b.style=".theme-button{display:flex;padding:6px;justify-content:space-between;align-items:center;border-radius:0;cursor:pointer;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);border-color:var(--calcite-color-foreground-3);border-width:1px;border-style:solid;box-shadow:transparent 0px 0px 0px 1px inset}.theme-button:hover{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}.theme-button:active{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}.theme-button:focus{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3);outline:2px solid var(--calcite-color-brand);outline-offset:2px}.theme-button.active,.calcite-theme-button.active{outline:1px solid var(--calcite-ui-focus-color, var(--calcite-color-brand))}.theme-content{display:flex;align-items:center;width:100%}.theme-sub-content{display:flex;justify-content:space-between;align-items:center;width:100%}.theme-button-icon{min-width:16px;background-repeat:no-repeat;height:48px;padding:0;display:inline-block}.theme-button-text{display:inline-block;padding:0 10px}.theme-button-title{font-weight:bold}.theme-button-msg{font-size:80%;line-height:16px}";const y=class{constructor(e){(0,s.r)(this,e),this.arcgisSmartMappingSymbolTransparencyError=(0,s.c)(this,"arcgisSmartMappingSymbolTransparencyError",7),this.lastSettings={},this.currentStopValues=[],this.zigzagClick=!1,this.zoomExecuting=!1,this.lastFieldSortBy=n.L.default,this.styleSheetStatus="not-loaded",this.open=!1,this.histogramStatus=a.h.MISSING,this.statisticsStatus=a.h.MISSING,this.sliderZoomed=!1,this.isLoading=!1}async setFocus(){var e;null===(e=this.blockNode)||void 0===e||e.setFocus()}async updateStatistics(){var e;this.statisticsStatus=a.h.MISSING,this.statistics=null,this.histogramStatus=a.h.MISSING,this.histogram=null,null===(e=this.transparencySlider)||void 0===e||e.destroy(),this.transparencySlider=void 0,this.sliderZoomed=!1,this.getStatistics()}componentWillLoad(){const e=(0,a.b)(),t=(0,a.d)(e,"opacity");this.isBlockOpen=this.open||!!t,this.getStatistics(),this.percentLabelFlip=(0,a.am)(this.hostElement)}componentDidLoad(){this.flowItemNode=(0,a.f)(this.hostElement,"calcite-flow-item")}render(){const{config:e,strings:t,mapImageSublayer:i,supportsArcade:n,layer:o}=a.s,{isBlockOpen:l,isLoading:r}=this,d=(0,a.a)();if(i&&!n||"geo-rss"===o.type||!(0,a.aL)())return null;const c=["predominance","predominance-size"].indexOf(d)>-1;return(0,s.h)(s.H,null,(0,s.h)("link",{rel:"stylesheet",href:`${e.jsapiUrl}/themes/light/main.css`,onLoad:()=>{this.styleSheetStatus="loaded",(0,s.f)(this.hostElement)},onError:()=>{this.styleSheetStatus="failed",(0,s.f)(this.hostElement)}}),(0,s.h)("calcite-block",{heading:c?t.transparency.transparencyByPredominance:t.transparency.transparencyByAttribute,collapsible:!0,open:l,loading:r,class:"transparency-block",ref:e=>this.blockNode=e,onCalciteBlockOpen:()=>{this.isBlockOpen=!0,(0,a.aP)(this.blockNode)},onCalciteBlockClose:()=>this.isBlockOpen=!1},this.renderTransparencyToggle()))}renderTransparencyToggle(){const{styleSheetStatus:e}=this,{strings:t}=a.s,i=(0,a.b)(),n=(0,a.a)(),o=(0,a.d)(i,"opacity"),l=["predominance","predominance-size"].indexOf(n)>-1;return(0,s.h)("calcite-block-section",{text:l?t.transparency.transparencyLabelPredominance:t.transparency.transparencyLabel,"toggle-display":"switch",open:!!o,onCalciteBlockSectionToggle:e=>this.handleToggle(e),ref:e=>this.blockSectionNode=e},(0,s.h)("div",{class:"block-section-padding"},o&&"loaded"===e?this.renderContent():o&&"not-loaded"===e||!o&&"loaded"===e?this.renderLoading():null))}renderLoading(){const{strings:e}=a.s;return(0,s.h)("div",{class:"block-content-loading"},(0,s.h)("calcite-loader",{label:e.loading}))}renderContent(){return(0,s.h)(s.F,null,this.renderAttributes(),this.renderSlider(),this.renderRange(),this.renderLegend())}renderAttributes(){const e=(0,a.b)(),t=(0,a.a)();if(["predominance","predominance-size"].indexOf(t)>-1)return null;const i=(0,a.d)(e,"opacity"),n=(0,a.q)(i.field),o=i.normalizationField&&(0,a.q)(i.normalizationField),l={field:i.field,expression:i.valueExpression,expressionTitle:i.valueExpressionTitle,simpleFieldType:n?n.simpleFieldType:a.t.NUMBER};return(0,s.h)(s.F,null,this.renderAttributeMain(l),this.renderAttributeDividedBy(o))}renderAttributeMain(e){var t;const{fields:i,layer:n,useFeatureReduction:o,strings:l}=a.s,r=!("featureReduction"in n&&"binning"===(null===(t=n.featureReduction)||void 0===t?void 0:t.type)&&o);return(0,s.h)("arcgis-smart-mapping-attribute-input",{fieldList:i.filter((e=>[a.t.DATE,a.t.NUMBER].includes(e.simpleFieldType))),popoverReferenceElement:this.flowItemNode,selectedField:e,label:l.transparency.field,mode:r?"expression":"simple",ref:e=>this.attributeInputNode=e,onArcgisSmartMappingAttributeInputChange:async e=>{var t;if(e.detail){const i=e.detail;await this.getOpacityVisualVariable(i),null===(t=this.dividedByAttributeInputNode)||void 0===t||t.clear()}this.updateStatistics()},onArcgisSmartMappingAttributeInputError:e=>this.arcgisSmartMappingSymbolTransparencyError.emit(e.detail)})}renderAttributeDividedBy(e){const{fields:t,strings:i}=a.s,n=(0,a.b)(),o=(0,a.d)(n,"opacity"),l=(0,a.q)(o.field),r=(o.field,o.valueExpression),d=(o.valueExpressionTitle,l?l.simpleFieldType:a.t.NUMBER);if(r||d!==a.t.NUMBER)return null;return(0,a.H)(t).number<2?null:(0,s.h)("arcgis-smart-mapping-attribute-input",{fieldList:t.filter((e=>e.layerField.name!==o.field&&e.simpleFieldType===a.t.NUMBER)),popoverReferenceElement:this.flowItemNode,label:i.transparency.dividedBy,selectedField:e?{field:e.layerField.name,simpleFieldType:e.simpleFieldType}:null,mode:"remove",ref:e=>{e&&(this.dividedByAttributeInputNode=e)},onArcgisSmartMappingAttributeInputChange:async e=>{if(e.detail){const t=e.detail;await this.getOpacityVisualVariable({field:o.field,simpleFieldType:a.t.NUMBER},t.field)}else{const e=(0,a.b)(),t=(0,a.d)(e,"opacity");await this.getOpacityVisualVariable({field:t.field,simpleFieldType:a.t.NUMBER},null)}this.updateStatistics()}})}renderSlider(){var e;const{statisticsStatus:t,histogramStatus:i,sliderZoomed:n}=this;if(t!==a.h.FAILED&&t!==a.h.MISSING){if(t===a.h.IN_PROGRESS||i===a.h.IN_PROGRESS&&(!this.transparencySlider||this.zoomExecuting))return this.renderTransparencySliderLoading();{const e=this.prepareTransparencySlider();let t=!1;const i=(0,a.b)(),o=(0,a.d)(i,"opacity");if(!n){const e=(0,a.I)((0,a.b)(),"opacity"),i=(0,a.aJ)(o.stops,null==e?void 0:e.minSliderValue,null==e?void 0:e.maxSliderValue);((null==i?void 0:i.minMaxSame)||!(0,l.i)(null==i?void 0:i.min)&&!(0,l.i)(null==i?void 0:i.max))&&(t=!0,this.zoomButtonNode&&(this.zoomButtonNode.disabled=!0))}return this.currentStopValues=o.stops.map((e=>e.value)),(e||this.transparencySlider)&&this.transparencySlider.min!==this.transparencySlider.max?(0,s.h)("div",{class:"slider-box"},(0,s.h)("div",{class:"slider-box-buttons-front"},this.renderZoomButton(t),(0,s.h)("div",null,"\xa0"),this.renderResetButton()),(0,s.h)("div",{ref:e=>{e&&this.afterTransparencySliderCreate(e)}})):this.transparencySlider&&this.transparencySlider.min===this.transparencySlider.max?null:this.renderTransparencySliderLoading()}}null===(e=this.transparencySlider)||void 0===e||e.destroy(),this.transparencySlider=void 0}renderTransparencySliderLoading(){const{strings:e}=a.s;return(0,s.h)("div",{class:"slider-box"},(0,s.h)("calcite-loader",{label:e.loading}))}renderZoomButton(e){const{strings:t}=a.s,{sliderZoomed:i}=this;return(0,s.h)("arcgis-smart-mapping-action",{text:t.transparency.zoomSlider,icon:i?"magnifyingGlassMinus":"magnifyingGlassPlus",disabled:e,onClick:()=>this.handleZoomSlider(),ref:e=>this.zoomButtonNode=e})}renderResetButton(){const{strings:e}=a.s;return(0,s.h)("arcgis-smart-mapping-action",{text:e.transparency.resetSlider,icon:"undo",onClick:()=>this.handleResetSlider()})}renderRange(){const{percentLabelFlip:e}=this,{strings:t}=a.s,i=(0,a.b)(),n=(0,a.d)(i,"opacity").stops,o=Math.round(100-100*n[1].opacity),l=Math.round(100-100*n[0].opacity);return this.highInputNode&&(this.highInputNode.value=""+o),this.lowInputNode&&(this.lowInputNode.value=""+l),(0,s.h)(s.F,null,(0,s.h)("calcite-label",null,t.transparency.transparencyRange),(0,s.h)("div",{class:"transparency-range"},(0,s.h)("div",{class:"transparency-range-item"},(0,s.h)("calcite-label",{scale:"s"},t.transparency.transparencyHighValues,(0,s.h)("calcite-input-number",{prefixText:e?"%":void 0,suffixText:e?void 0:"%",value:""+(100-Math.round(100*n[1].opacity)),inputMode:"decimal",min:0,max:100,step:1,scale:"s",numberButtonType:"vertical",ref:e=>this.highInputNode=e,onCalciteInputNumberInput:e=>this.handleRangeChange(e,"high"),label:t.transparency.transparencyHighValues}))),(0,s.h)("div",{class:"transparency-range-item"},(0,s.h)("calcite-label",{scale:"s"},t.transparency.transparencyLowValues,(0,s.h)("calcite-input-number",{prefixText:e?"%":void 0,suffixText:e?void 0:"%",value:""+(100-Math.round(100*n[0].opacity)),inputMode:"decimal",min:0,max:100,step:1,scale:"s",numberButtonType:"vertical",ref:e=>this.lowInputNode=e,onCalciteInputNumberInput:e=>this.handleRangeChange(e,"low"),label:t.transparency.transparencyLowValues})))))}renderLegend(){const{strings:e}=a.s,t=(0,a.b)();let i=!0;const n=(0,a.d)(t,"opacity").legendOptions;return n&&!1===n.showLegend&&(i=!1),(0,s.h)("calcite-label",{class:"include-legend",layout:"inline-space-between"},e.transparency.includeInLegend,(0,s.h)("calcite-switch",{scale:"s",checked:i,onCalciteSwitchChange:()=>this.handleIncludeInLegendToggle(),ref:e=>this.includeInLegendNode=e}))}prepareTransparencySlider(){var e;const{statistics:t,histogram:i,histogramStatus:s,sliderZoomed:n}=this,{mapView:o,modules:c}=a.s,h=(0,a.b)(),u=(0,a.d)(h,"opacity"),p=(0,a.I)(h,"opacity"),m=(0,a.q)(u.field),g={field:u.field,expression:u.valueExpression,expressionTitle:u.valueExpressionTitle,simpleFieldType:(null==m?void 0:m.simpleFieldType)||a.t.NUMBER},f=(0,a.aO)(g);if(s===a.h.IN_PROGRESS)return!1;let b=null==p?void 0:p.minSliderValue,y=null==p?void 0:p.maxSliderValue;if(({min:b,max:y}=(0,a.aG)({min:b,max:y})),this.transparencySlider){if("dragging"===(null===(e=this.transparencySlider.slider)||void 0===e?void 0:e.state))return!0;const s={histogramConfig:{bins:null==i?void 0:i.bins,average:Math.round(10*t.avg)/10,standardDeviation:t.stddev,standardDeviationCount:1},min:null!=b?b:t.min,max:null!=y?y:t.max,stops:c.esriLang.clone(u.stops),hasTimeData:f};f&&(0,r.a)(s,o.timeZone),n?this.zigzagClick||(s.zoomOptions=(0,a.aJ)(u.stops,null==p?void 0:p.minSliderValue,null==p?void 0:p.maxSliderValue)):s.zoomOptions=null,this.sliderZoomed&&this.adjustedZoomOptions&&!this.zigzagClick&&(s.zoomOptions=this.adjustedZoomOptions,"min"===this.zoomAdjustment?(this.transparencySlider.slider.min=s.zoomOptions.min,s.zoomOptions.min=null):(this.transparencySlider.slider.max=s.zoomOptions.max,s.zoomOptions.max=null)),this.adjustedZoomOptions=null,this.zoomAdjustment=null,this.transparencySlider.set(s),this.zigzagClick=!1,this.zoomExecuting=!1}else{const e={histogramConfig:{bins:null==i?void 0:i.bins,average:Math.round(10*t.avg)/10,standardDeviation:t.stddev,standardDeviationCount:1},style:{trackFillColor:new c.esriColor([84,84,84])},min:null!=b?b:t.min,max:null!=y?y:t.max,stops:c.esriLang.clone(u.stops),precision:(0,d.g)(u.stops)};f&&(e.hasTimeData=!0,(0,r.a)(e,o.timeZone)),this.transparencySlider=new c.OpacitySlider(e),this.transparencySlider.min===this.transparencySlider.max&&this.transparencySlider.set(e),this.createTransparencySliderChangeEvents()}return(0,l.i)(this.transparencySlider)}createTransparencySliderChangeEvents(){const e=(0,a.b)(),t=(0,a.d)(e,"opacity"),i=(0,a.q)(t.field),n={field:t.field,expression:t.valueExpression,expressionTitle:t.valueExpressionTitle,simpleFieldType:i?i.simpleFieldType:a.t.NUMBER},o=(0,a.aO)(n);this.transparencySlider&&(this.transparencySlider.watch("zoomOptions",((e,t)=>{this.sliderZoomed&&((null==t?void 0:t.min)&&!(null==e?void 0:e.min)||(null==t?void 0:t.max)&&!(null==e?void 0:e.max))&&(this.zigzagClick=!0,this.handleZigzagClick(e))})),this.transparencySlider.on("min-change",(e=>{e.value>this.currentStopValues[0]?(this.transparencySlider.stops.forEach(((e,t)=>{e.value=this.currentStopValues[t]})),this.onMinMaxChange(this.currentStopValues[0],this.transparencySlider.slider.max,"min")):this.onMinMaxChange(e.value,this.transparencySlider.slider.max,"min")})),this.transparencySlider.on("max-change",(e=>{e.value<this.currentStopValues[this.currentStopValues.length-1]?(this.transparencySlider.stops.forEach(((e,t)=>{e.value=this.currentStopValues[t]})),this.onMinMaxChange(this.transparencySlider.slider.min,this.currentStopValues[this.currentStopValues.length-1],"max")):this.onMinMaxChange(this.transparencySlider.slider.min,e.value,"max")})),this.transparencySlider.on("thumb-change",(e=>{if(o&&0===e.value)return void(0,s.f)(this.hostElement);const t=this.transparencySlider.stops;this.updateRendererStops(t)})),this.transparencySlider.on("thumb-drag",(()=>{const e=this.transparencySlider.stops;this.updateRendererStops(e)})))}afterTransparencySliderCreate(e){if(this.transparencySlider.container)e.append(this.transparencySlider.container);else{const t=document.createElement("div");t.classList.add("slider-container"),e.append(t),this.transparencySlider.container=t}}handleToggle(e){const{modules:t}=a.s,i=(0,a.b)();(0,a.D)();const n=(0,a.d)(i,"opacity"),o=e.target;if(!(o.open&&n||!o.open&&!n))if(n){const e=(0,a.I)(i,"opacity");this.lastSettings.opacityVisVar=n,this.lastSettings.authOpacityVisVar=e,i.visualVariables=(0,a.T)(i,"opacity")||[],i.authoringInfo.visualVariables=(0,a.U)(i,"opacity")||[],this.sliderZoomed=!1,(0,a.u)()}else if(this.lastSettings.opacityVisVar)i.visualVariables=(0,a.T)(i,"opacity")||[],i.visualVariables.push(this.lastSettings.opacityVisVar),i.authoringInfo=i.authoringInfo||new t.AuthoringInfo({}),this.lastSettings.authOpacityVisVar&&(i.authoringInfo.visualVariables=(0,a.U)(i,"opacity")||[],i.authoringInfo.visualVariables.push(this.lastSettings.authOpacityVisVar)),(0,s.f)(this.hostElement),(0,a.u)(),(0,a.aP)(this.blockNode);else{const e=(0,a.aQ)(),t=e?e.layerField.name:"";this.getOpacityVisualVariable({field:t,simpleFieldType:a.t.NUMBER})}}async handleResetSlider(){const{modules:e}=a.s,t=(0,a.b)(),i=(0,a.a)(),s=(0,a.d)(t,"opacity"),n={field:s.field,expression:s.valueExpression,expressionTitle:s.valueExpressionTitle,simpleFieldType:a.t.NUMBER},o=s.normalizationField;if(["predominance","predominance-size"].indexOf(i)>-1)try{this.statisticsStatus=a.h.IN_PROGRESS,this.histogramStatus=a.h.MISSING,await(0,c.a)({includeOpacityVariable:!0}).then((e=>{const i=(0,a.d)(e.renderer,"opacity"),s=(0,a.I)(e.renderer,"opacity");t.visualVariables=(0,a.T)(t,"opacity")||[],t.visualVariables.push(i),t.authoringInfo.visualVariables=(0,a.U)(t,"opacity")||[],t.authoringInfo.visualVariables.push(s),this.includeInLegendNode.checked=!i.legendOptions||!1!==i.legendOptions.showLegend,(0,a.u)(),this.updateStatistics(),(0,a.aP)(this.blockNode)}))}catch(e){this.statisticsStatus=a.h.FAILED,console.log(e)}else this.statisticsStatus=a.h.IN_PROGRESS,this.histogramStatus=a.h.IN_PROGRESS,await h({fieldInfos:[n],normalizationField:o}).then((t=>{var i;const s=(0,a.b)();if(t.statistics&&(0,l.i)(t.statistics.min)&&(0,l.i)(t.statistics.max)&&t.statistics.min<=t.statistics.max)t.statistics=(0,a.aG)(t.statistics),this.statistics=t.statistics,this.statisticsStatus=a.h.SUCCESS,this.getHistogram(n,o,t.statistics,t.statistics.min,t.statistics.max);else if(0===(null===(i=t.statistics)||void 0===i?void 0:i.count)){const[e,t]=(0,a.aR)(n);this.statistics={min:e,max:t,avg:(t-e)/2,count:0,median:void 0,stddev:void 0,sum:void 0,variance:void 0},this.statisticsStatus=a.h.SUCCESS}else this.statisticsStatus=a.h.FAILED;s.visualVariables=(0,a.T)(s,"opacity")||[],s.visualVariables.push(t.visualVariable),s.authoringInfo=s.authoringInfo||new e.AuthoringInfo({}),s.authoringInfo.visualVariables=(0,a.U)(s,"opacity")||[],s.authoringInfo.visualVariables.push(t.authoringInfo.visualVariables[0]),(0,a.u)(),this.updateStatistics(),(0,a.aP)(this.blockNode)})).catch((e=>console.log(e)))}handleZoomSlider(e){var t,i,s,n;if(this.histogramStatus===a.h.IN_PROGRESS)return;this.zoomExecuting=!0;const o=(0,a.b)();this.sliderZoomed=(0,l.i)(e)?e:!this.sliderZoomed;const{sliderZoomed:r,statistics:d}=this,c=(0,a.d)(o,"opacity"),h=(0,a.I)(o,"opacity"),u=r?(0,a.aJ)(c.stops,null!==(t=null==h?void 0:h.minSliderValue)&&void 0!==t?t:d.min,null!==(i=null==h?void 0:h.maxSliderValue)&&void 0!==i?i:d.max):null,p=(0,a.q)(c.field),m=(null==h?void 0:h.minSliderValue)===(null==h?void 0:h.maxSliderValue);this.getHistogram({field:c.field,expression:c.valueExpression,expressionTitle:c.valueExpressionTitle,simpleFieldType:p?p.simpleFieldType:a.t.NUMBER},c.normalizationField,d,u&&u.min||(m?d.min:null!==(s=null==h?void 0:h.minSliderValue)&&void 0!==s?s:d.min),u&&u.max||(m?d.max:null!==(n=h.maxSliderValue)&&void 0!==n?n:d.max))}handleRangeChange(e,t){const i=e.target;let n=i.value?parseInt(i.value):0;const o=(0,a.b)();n<0?n=0:n>100&&(n=100);const l=(0,a.d)(o,"opacity").stops;let r=Math.round(100*(1-n/100))/100;"high"===t?l[1].opacity=r:l[0].opacity=r,(0,a.u)(),(0,s.f)(this.hostElement)}handleIncludeInLegendToggle(){const e=(0,a.b)(),t=(0,a.d)(e,"opacity"),i=t.legendOptions;i&&!1===i.showLegend?i&&i.title?i.showLegend=!0:t.legendOptions=void 0:(t.legendOptions=i||{},t.legendOptions.showLegend=!1),(0,a.u)()}updateRendererStops(e){const t=(0,a.b)(),i=(0,a.d)(t,"opacity"),s=(0,a.I)(t,"opacity");i.stops=e,this.transparencySlider.stops=e,this.currentStopValues=i.stops.map((e=>e.value));const n=(0,a.aJ)(null==i?void 0:i.stops,null==s?void 0:s.minSliderValue,null==s?void 0:s.maxSliderValue);this.sliderZoomed?this.zoomButtonNode.disabled=!1:!n||n.minMaxSame||!(0,l.i)(n.min)&&!(0,l.i)(n.max)?this.zoomButtonNode.disabled=!0:this.zoomButtonNode.disabled=!1,(0,a.u)()}async getOpacityVisualVariable(e,t){var i;const{modules:s}=a.s,n=(0,a.b)(),o=(0,a.a)();if(this.statistics=void 0,this.histogram=void 0,this.histogramStatus=a.h.MISSING,this.sliderZoomed=!1,this.statisticsStatus=a.h.IN_PROGRESS,["predominance","predominance-size"].indexOf(o)>-1)try{const e=await(0,c.a)({includeOpacityVariable:!0});(0,a.u)(e.renderer),this.getStatistics(),(0,a.aP)(this.blockNode)}catch(e){console.log(e)}else try{const o=await h({fieldInfos:[e],normalizationField:t});if(o.statistics&&(0,l.i)(o.statistics.min)&&(0,l.i)(o.statistics.max)&&o.statistics.min<=o.statistics.max)o.statistics=(0,a.aG)(o.statistics),this.statistics=o.statistics,this.statisticsStatus=a.h.SUCCESS,this.getHistogram(e,t,o.statistics,o.statistics.min,o.statistics.max);else if(0===(null===(i=o.statistics)||void 0===i?void 0:i.count)){const[t,i]=(0,a.aR)(e);this.statistics={min:t,max:i,avg:(i-t)/2,count:0,median:void 0,stddev:void 0,sum:void 0,variance:void 0},this.statisticsStatus=a.h.SUCCESS}else this.statisticsStatus=a.h.FAILED;n.visualVariables=(0,a.T)(n,"opacity")||[],n.visualVariables.push(o.visualVariable),n.authoringInfo=n.authoringInfo||new s.AuthoringInfo({}),n.authoringInfo.visualVariables=(0,a.U)(n,"opacity")||[],n.authoringInfo.visualVariables.push(o.authoringInfo.visualVariables[0]),(0,a.u)(),(0,a.aP)(this.blockNode)}catch(e){this.statisticsStatus=a.h.FAILED,this.blockSectionNode.open=!1,console.log(e)}}getStatistics(){const{layer:e,useFeatureReduction:t,mapView:i,modules:s}=a.s,n=e,o=(0,a.b)();let r,d,c,h;if(d=(0,a.d)(o,"opacity"),!d)return;const u=(0,a.q)(d.field),p={field:d.field,expression:d.valueExpression,expressionTitle:d.valueExpressionTitle,simpleFieldType:u?u.simpleFieldType:a.t.NUMBER};r=d.normalizationField;const m=(0,a.I)(o,"opacity");c=null==m?void 0:m.minSliderValue,h=null==m?void 0:m.maxSliderValue,this.statisticsStatus=a.h.IN_PROGRESS,!this.statistics&&n&&setTimeout((()=>{var e;s.summaryStatistics({layer:n,view:i,field:p.field,valueExpression:p.expression,normalizationField:r,forBinning:"featureReduction"in n&&"binning"===(null===(e=n.featureReduction)||void 0===e?void 0:e.type)&&t,outStatisticTypes:{exclude:["median"]}}).then((e=>{if(0===e.count){const[t,i]=(0,a.aR)(p),s=m.minSliderValue||t,n=m.maxSliderValue||i;e={min:s,max:n,avg:(n+s)/2,count:0,median:void 0,stddev:void 0,sum:void 0,variance:void 0}}else if(!(0,l.i)(e.avg)||!(0,l.i)(e.min)||!(0,l.i)(e.max))return void(this.statisticsStatus=a.h.FAILED);e=(0,a.aG)(e),c=null!=c?c:e.min,h=null!=h?h:e.max,c===h&&(c=e.min,h=e.max),this.statistics=e,this.statisticsStatus=a.h.SUCCESS,this.getHistogram(p,r,e,c,h,!0)}),(e=>{console.log("error-summaryStatistics",e),this.statisticsStatus=a.h.FAILED}))}),300)}getHistogram(e,t,i,s,n,o){const{layer:r,useFeatureReduction:d,mapView:c,modules:h}=a.s,u=r;(i=i||this.statistics)&&0!==i.count&&(this.histogramStatus=a.h.IN_PROGRESS,setTimeout((()=>{var o;h.histogram({layer:u,view:c,field:e.field,valueExpression:e.expression,numBins:50,minValue:(0,l.i)(s)?s:i.min,maxValue:(0,l.i)(n)?n:i.max,normalizationField:t,forBinning:"featureReduction"in u&&"binning"===(null===(o=u.featureReduction)||void 0===o?void 0:o.type)&&d}).then((e=>{this.histogram=e,this.histogramStatus=a.h.SUCCESS}),(e=>{console.log("error-histogram",e),this.histogramStatus=a.h.FAILED}))}),o?0:300))}onMinMaxChange(e,t,i){const{statistics:s}=this,n=(0,a.b)(),o=(0,a.d)(n,"opacity"),r=(0,a.I)(n,"opacity")||{};"min"===i?r.minSliderValue=e:r.maxSliderValue=t;const d=(0,a.aJ)(null==o?void 0:o.stops,r.minSliderValue,r.maxSliderValue);this.sliderZoomed?this.zoomButtonNode.disabled=!1:!d||d.minMaxSame||!(0,l.i)(d.min)&&!(0,l.i)(d.max)?this.zoomButtonNode.disabled=!0:this.zoomButtonNode.disabled=!1,this.sliderZoomed&&(this.adjustedZoomOptions=this.transparencySlider.zoomOptions,"min"===i?(this.adjustedZoomOptions.min=e,this.zoomAdjustment="min"):(this.adjustedZoomOptions.max=t,this.zoomAdjustment="max"));const c=(0,a.q)(o.field),h={field:o.field,expression:o.valueExpression,expressionTitle:o.valueExpressionTitle,simpleFieldType:c?c.simpleFieldType:a.t.NUMBER},u=o.normalizationField;this.getHistogram(h,u,s,e,t),e===r.minSliderValue&&t===r.maxSliderValue&&(this.sliderZoomed=!1)}handleZigzagClick(e){var t,i,s,n;const{statistics:o}=this,l=(0,a.b)(),r=(0,a.d)(l,"opacity"),d=(0,a.I)(l,"opacity"),c=(0,a.q)(r.field),h=null==r?void 0:r.normalizationField,u={field:r.field,expression:r.valueExpression,expressionTitle:r.valueExpressionTitle,simpleFieldType:c?c.simpleFieldType:a.t.NUMBER},p=d.minSliderValue===d.maxSliderValue;this.getHistogram(u,h,o,null!==(t=null==e?void 0:e.min)&&void 0!==t?t:p?o.min:null!==(i=d.minSliderValue)&&void 0!==i?i:o.min,null!==(s=null==e?void 0:e.max)&&void 0!==s?s:p?o.max:null!==(n=d.maxSliderValue)&&void 0!==n?n:o.max),e||(this.sliderZoomed=!1)}get hostElement(){return(0,s.d)(this)}};y.style=".block-content-loading{height:150px}.transparency-block{overflow:hidden}.block-section-padding{padding-top:6px}.transparency-range{display:flex;justify-content:space-between}.transparency-range-item{width:49%;display:flex;flex-flow:column;justify-content:space-between}.include-legend{margin:10px 0 0 0}.slider-box{height:300px}.slider-box .esri-opacity-slider__histogram-container{width:85px}.slider-box .esri-opacity-slider .esri-slider .esri-slider__content{height:175px}.slider-box .esri-opacity-slider{min-width:200px}.slider-box .esri-opacity-slider .esri-slider .esri-slider__label,.slider-box .esri-opacity-slider .esri-slider .esri-slider__min,.slider-box .esri-opacity-slider .esri-slider .esri-slider__max{text-decoration:underline}.slider-box .esri-opacity-slider .esri-slider .esri-slider__label:hover,.slider-box .esri-opacity-slider .esri-slider .esri-slider__min:hover,.slider-box .esri-opacity-slider .esri-slider .esri-slider__max:hover{border:1px solid #bbb;background-color:#f3f3f3;text-decoration:none;z-index:1}.slider-box-buttons-front{display:flex}.slider-container{overflow:hidden}"},48747:(e,t,i)=>{i.d(t,{a:()=>n,b:()=>o,d:()=>l,u:()=>a});i(74129),i(98034);var s=i(37219);function n(e,t){e.labelFormatFunction=e=>r(e,t,"short-date"),e.inputFormatFunction=e=>r(e,t,"short-date"),e.inputParseFunction=e=>function(e,t){if(!e)return e;let i;if(t&&"system"!==t)if("unknown"===t)i=e;else{const s=new Date;i=e+(new Date(s.toLocaleString("en-US",{timeZone:"utc"})).getTime()-new Date(s.toLocaleString("en-US",{timeZone:t})).getTime())}else{i=e+6e4*(new Date).getTimezoneOffset()}return console.log("mapTZToUTC",e," - ",new Date(e).toISOString()," - ",new Date(i).toISOString()),i}(Date.parse(e),t)}function a(e,t){let i;if(t&&"system"!==t)if("unknown"===t)i=new Date(e).toISOString();else{const s=(new Date).getTimezoneOffset(),n=new Date(e).toLocaleString("en-US",{timeZone:t});i=new Date(new Date(n).getTime()-6e4*s).toISOString()}else{const t=(new Date).getTimezoneOffset();i=new Date(e-6e4*t).toISOString()}return i}function o(e,t,i){let s;if(t&&"system"!==t)if("unknown"===t)s=new Date(e).toISOString();else{const i=(new Date).getTimezoneOffset(),n=new Date(e).toLocaleString("en-US",{timeZone:t});s=new Date(new Date(n).getTime()-6e4*i).toISOString()}else{const t=(new Date).getTimezoneOffset();s=new Date(e-6e4*t).toISOString()}return s=i?s.substring(11,19):s.substring(11,16),s}function l(e,t){let i,s=new Date(e);if(s=new Date(s.getTime()-6e4*s.getTimezoneOffset()),t&&"system"!==t)if("unknown"===t)i=s.getTime();else{const e=new Date(s.toLocaleString("en-US",{timeZone:"utc"})).getTime()-new Date(s.toLocaleString("en-US",{timeZone:t})).getTime();i=s.getTime()+e}else{const e=(new Date).getTimezoneOffset();i=s.getTime()+6e4*e}return i}function r(e,t,i){const{modules:n}=s.s;let a;return a="unknown"===t?n.intl.formatDate(e,Object.assign(Object.assign({},n.intl.convertDateFormatToIntlOptions(i||"short-date-short-time")),{timeZone:"utc",timeZoneName:"shortOffset"})):n.intl.formatDate(e,Object.assign(Object.assign({},n.intl.convertDateFormatToIntlOptions(i||"short-date-short-time")),{timeZone:t})),a}},9710:(e,t,i)=>{i.d(t,{a:()=>l,b:()=>o,g:()=>h,u:()=>a});var s=i(98072),n=i(37219);i(98034);function a(e){const{modules:t}=n.s,i=(0,n.b)(),a=t.esriLang.clone(i.classBreakInfos);i.classBreakInfos=[],a.forEach(((t,o)=>{t=function(e,t,i,a){if((0,s.i)(t))if(0===t);else if(t<1){const s=Math.round(1/t);e.minValue="first"===a?Math.floor(e.minValue/t)/s:Math.round(e.minValue/t)/s,e.maxValue="last"===a?Math.ceil(e.maxValue/t)/s:Math.round(e.maxValue/t)/s,e.label=`${i>0?"> ":""}${e.minValue.toLocaleString(n.s.fullLocale,{maximumSignificantDigits:15})} - ${e.maxValue.toLocaleString(n.s.fullLocale,{maximumSignificantDigits:15})}`}else e.minValue="first"===a?Math.floor(e.minValue/t)*t:Math.round(e.minValue/t)*t,e.maxValue="last"===a?Math.ceil(e.maxValue/t)*t:Math.round(e.maxValue/t)*t,e.label=(i>0?"> ":"")+e.minValue.toLocaleString()+" - "+e.maxValue.toLocaleString();return e}(t,e,o,0===o?"first":o===a.length-1?"last":void 0),i.addClassBreakInfo({minValue:t.minValue,maxValue:t.maxValue,symbol:t.symbol,label:t.label})}))}function o(e){const t=(0,n.b)().classBreakInfos;let i=e,s=1/0;t.forEach((e=>{i||(i=Math.max(r(e.minValue),r(e.maxValue))),s=Math.min(s,e.maxValue-e.minValue)}));const a=[];return s>1e7?(a.push(1e7),a.push(1e6),a.push(1e5),a.push(1e4),a.push(1e3),a.push(100),a.push(10),i>0&&a.push(1),i>1&&a.push(.1),i>2&&a.push(.01)):s>1e6?(a.push(1e6),a.push(1e5),a.push(1e4),a.push(1e3),a.push(100),a.push(10),i>0&&a.push(1),i>1&&a.push(.1),i>2&&a.push(.01)):s>1e5?(a.push(1e5),a.push(1e4),a.push(1e3),a.push(100),a.push(10),i>0&&a.push(1),i>1&&a.push(.1),i>2&&a.push(.01)):s>1e4?(a.push(1e4),a.push(1e3),a.push(100),a.push(10),i>0&&a.push(1),i>1&&a.push(.1),i>2&&a.push(.01)):s>1e3?(a.push(1e3),a.push(100),a.push(10),i>0&&a.push(1),i>1&&a.push(.1),i>2&&a.push(.01),i>3&&a.push(.001)):s>100?(a.push(100),a.push(10),i>0&&a.push(1),i>1&&a.push(.1),i>2&&a.push(.01),i>3&&a.push(.001),i>4&&a.push(1e-4),i>5&&a.push(1e-5)):s>10?(a.push(10),i>0&&a.push(1),i>1&&a.push(.1),i>2&&a.push(.01),i>3&&a.push(.001),i>4&&a.push(1e-4),i>5&&a.push(1e-5),i>6&&a.push(1e-6)):s>1?(i>0&&a.push(1),i>1&&a.push(.1),i>2&&a.push(.01),i>3&&a.push(.001),i>4&&a.push(1e-4),i>5&&a.push(1e-5),i>6&&a.push(1e-6)):s>.1?(i>1&&a.push(.1),i>2&&a.push(.01),i>3&&a.push(.001),i>4&&a.push(1e-4),i>5&&a.push(1e-5),i>6&&a.push(1e-6)):s>.01?(i>2&&a.push(.01),i>3&&a.push(.001),i>4&&a.push(1e-4),i>5&&a.push(1e-5),i>6&&a.push(1e-6)):s>.001?(i>3&&a.push(.001),i>4&&a.push(1e-4),i>5&&a.push(1e-5),i>6&&a.push(1e-6),i>7&&a.push(1e-7)):s>1e-4?(i>4&&a.push(1e-4),i>5&&a.push(1e-5),i>6&&a.push(1e-6),i>7&&a.push(1e-7),i>8&&a.push(1e-8)):s>1e-5&&(i>5&&a.push(1e-5),i>6&&a.push(1e-6),i>7&&a.push(1e-7),i>8&&a.push(1e-8),i>9&&a.push(1e-9)),a}function l(){const e=(0,n.b)();let t=1e10;return e.classBreakInfos.forEach((e=>{t=Math.min(t,d(e.minValue)),t=Math.min(t,d(e.maxValue))})),t}function r(e){let t=1;for(;Math.round(e*t)/t!==e;)t*=10;return Math.log(t)/Math.LN10}function d(e){let t=1e-8;for(;c(Math.round(e/t)*t)===e;)t*=10;return t/10}function c(e){return parseFloat(e.toPrecision(12))}function h(e){var t,i,n,a,o,l,d,h;let u=0;e.forEach((e=>{(0,s.i)(e.value)?u=Math.max(r(c(e.value)),u):((0,s.i)(e.minValue)&&(u=Math.max(r(c(e.minValue)),u)),(0,s.i)(e.maxValue)&&(u=Math.max(r(c(e.maxValue)),u)),(0,s.i)(e.min)&&(u=Math.max(r(c(e.min)),u)),(0,s.i)(e.max)&&(u=Math.max(r(c(e.max)),u)))})),u=Math.min(u,3);const p=e[0],m=e[e.length-1],g=Math.min(null!==(i=null!==(t=p.minValue)&&void 0!==t?t:p.min)&&void 0!==i?i:p.value,null!==(a=null!==(n=m.minValue)&&void 0!==n?n:m.min)&&void 0!==a?a:m.value),f=Math.max(null!==(l=null!==(o=p.maxValue)&&void 0!==o?o:p.max)&&void 0!==l?l:p.value,null!==(h=null!==(d=m.maxValue)&&void 0!==d?d:m.max)&&void 0!==h?h:m.value)-g;return f/e.length<2e-7?u=8:f/e.length<2e-6?u=7:f/e.length<2e-5?u=6:f/e.length<2e-4?u=5:f/e.length<.002?u=4:f/e.length<.02?u=3:f/e.length<.2?u=Math.max(u,2):f/e.length<2&&(u=Math.max(u,1)),Math.round(u)}},436:(e,t,i)=>{i.d(t,{a:()=>o,c:()=>a,g:()=>l});var s=i(98072),n=i(37219);i(98034);function a(e){var t;const{layer:i,useFeatureReduction:a,mapView:o,selectedFields:l,modules:d}=n.s,c=i;e=e||{};const h=(0,n.n)((0,n.b)());return d.PredominanceCreator.createRenderer({layer:c,view:o,fields:r(e.fieldInfos),predominanceScheme:e.predominanceScheme||(0,n._)(),includeOpacityVariable:!(0,s.i)(e.includeOpacityVariable)||(0,s.i)(e.includeOpacityVariable),includeSizeVariable:!!(0,s.i)(e.includeSizeVariable)&&e.includeSizeVariable,outlineOptimizationEnabled:(0,s.i)(e.outlineOptimizationEnabled)?e.outlineOptimizationEnabled:!!(0,n.B)(),sizeOptimizationEnabled:!(0,s.i)(e.sizeOptimizationEnabled)||e.sizeOptimizationEnabled,legendOptions:e.legendOptions,defaultSymbolEnabled:!1,forBinning:"binning"===(null===(t=c.featureReduction)||void 0===t?void 0:t.type)&&a}).then((t=>{(0,n.m)(h,t.renderer,{notOpacity:!0});const i=(0,n.a)();if(!(0,s.i)(e.includeOpacityVariable)&&["predominance","predominance-size"].indexOf(i)>-1){const i=(0,n.k)(),s=l.map((e=>e.field)).sort(),a=i.map((e=>e.field)).sort();if(s.toString()===a.toString()){const i=(0,n.d)((0,n.b)(),"opacity"),s=(0,n.I)((0,n.b)(),"opacity");t.renderer.visualVariables=(0,n.T)(t.renderer,"opacity")||[],i&&t.renderer.visualVariables.push(i),t.renderer.authoringInfo.visualVariables=(0,n.U)(t.renderer,"opacity")||[],s&&t.renderer.authoringInfo.visualVariables.push(s);const a=t.renderer.uniqueValueInfos[0].symbol.clone();t.renderer.uniqueValueInfos=(0,n.b)().uniqueValueInfos,(0,n.B)()&&("predominance-size"===(0,n.a)()&&!0!==e.includeSizeVariable?(0,n.$)(t.renderer,a):"predominance"===(0,n.a)()&&!0===e.includeSizeVariable&&(0,n.a0)(t.renderer,a))}}return Promise.resolve(t)}),(e=>Promise.reject(e)))}function o(e){var t;const{layer:i,useFeatureReduction:a,mapView:o,modules:l}=n.s,d=i;e=e||{};const c=(0,n.b)(),h=(0,n.d)(c,"size"),u=(0,n.I)(c,"size"),p=(0,n.n)(c);let m,g,f=e.fieldInfos?e.fieldInfos:c.uniqueValueGroups[0].classes.map((e=>({field:e.values[0].value,simpleFieldType:n.t.NUMBER}))),b=!0;if(e.fieldInfos&&(c.uniqueValueGroups[0].classes.forEach(((t,i)=>{t.values[0].value!==e.fieldInfos[i].field&&(b=!1)})),b&&(delete e.fieldInfos,(0,n.V)(e))))return Promise.resolve({renderer:c.clone()});b&&(m=c.uniqueValueInfos.map((e=>e.value)));const y=(0,n.b)();g=y.uniqueValueInfos&&y.uniqueValueInfos.length?y.uniqueValueInfos[0].symbol:null;const S=c.defaultSymbol,v=c.defaultLabel,x=c.backgroundFillSymbol;let V=!1;h&&(V=h.minSize.stops?h.minSize.stops[0].size>h.maxSize.stops[0].size:h.minSize>h.maxSize);const w=f[0];return f[0]=f[1],f[1]=w,l.PredominanceCreator.createRenderer({layer:d,view:o,fields:r(f),predominanceScheme:e.predominanceScheme||(0,n._)(),includeOpacityVariable:(0,s.i)(e.includeOpacityVariable)?e.includeOpacityVariable:!!p.opacityVisVar,includeSizeVariable:(0,s.i)(e.includeSizeVariable)?e.includeSizeVariable:!!h,outlineOptimizationEnabled:(0,s.i)(e.outlineOptimizationEnabled)?e.outlineOptimizationEnabled:!!p.sizeOutlineVisVar,sizeOptimizationEnabled:(0,s.i)(e.sizeOptimizationEnabled)?e.sizeOptimizationEnabled:!!p.sizeAutoVisVar,legendOptions:void 0,defaultSymbolEnabled:(0,s.i)(e.defaultSymbolEnabled)?e.defaultSymbolEnabled:!!S,forBinning:"binning"===(null===(t=d.featureReduction)||void 0===t?void 0:t.type)&&a}).then((t=>{const i=t.renderer.uniqueValueInfos[0].symbol.clone();if(!e.fieldInfos&&h){const e=(0,n.d)(t.renderer,"size");if(e.minDataValue=h.minDataValue,e.maxDataValue=h.maxDataValue,u){const e=(0,n.I)(t.renderer,"size");e.minSliderValue=u.minSliderValue,e.maxSliderValue=u.maxSliderValue}}if(!(0,s.i)(e.includeOpacityVariable)&&b&&p.opacityVisVar&&p.authOpacityVisVar&&(t.renderer.visualVariables=(0,n.T)(t.renderer,"opacity"),t.renderer.authoringInfo.visualVariables=(0,n.U)(t.renderer,"opacity"),t.renderer.visualVariables.push(p.opacityVisVar),t.renderer.authoringInfo.visualVariables=t.renderer.authoringInfo.visualVariables||[],t.renderer.authoringInfo.visualVariables.push(p.authOpacityVisVar)),(0,n.m)(p,t.renderer,{notOpacity:!0}),m&&t.renderer.uniqueValueInfos.sort(((e,t)=>{const i=m.indexOf(e.value),s=m.indexOf(t.value);return i>-1&&s>-1&&i<s?-1:i>-1&&s>-1&&i>s?1:i>-1?-1:s>-1?1:0})),b&&t.renderer.uniqueValueInfos.forEach(((e,t)=>{e.label=c.uniqueValueInfos[t].label})),g&&t.renderer.uniqueValueInfos&&t.renderer.uniqueValueInfos.length){const s=t.renderer.uniqueValueInfos.slice();s.map(((e,t)=>{let i;b?i=c.uniqueValueInfos[t].symbol:(i=g.clone(),(0,n.W)(i,(0,n.Q)(e.symbol))),e.symbol=i})),t.renderer.uniqueValueInfos=s,(0,n.B)()&&("predominance-size"===(0,n.a)()&&!0!==e.includeSizeVariable?(0,n.$)(t.renderer,i):"predominance"===(0,n.a)()&&!0===e.includeSizeVariable&&(0,n.a0)(t.renderer,i))}if(S&&(t.renderer.defaultSymbol=S,t.renderer.defaultLabel=v),x&&(t.renderer.backgroundFillSymbol=x),V){const e=(0,n.d)(t.renderer,"size"),i=e.minSize;e.minSize=e.maxSize,e.maxSize=i}return Promise.resolve(t)}),(e=>Promise.reject(e)))}function l(e){var t;const{layer:i,useFeatureReduction:s,mapView:a,modules:o}=n.s,l=i;return e=e||{},o.predominantCategories({layer:l,view:a,fields:e.fieldInfos.map((e=>e.field)),forBinning:"binning"===(null===(t=l.featureReduction)||void 0===t?void 0:t.type)&&s})}function r(e){return e.map((e=>({name:e.field,label:d(e.field)})))}function d(e){const t=n.s.fields.filter((t=>t.layerField.name===e));return t.length?t[0].label:""}}}]);