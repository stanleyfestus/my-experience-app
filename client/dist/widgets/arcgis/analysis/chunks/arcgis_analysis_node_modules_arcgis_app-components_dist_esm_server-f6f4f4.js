/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_server-f6f4f4.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_server-f6f4f4"],{1391:(e,t,n)=>{n.d(t,{a:()=>o,b:()=>s,c:()=>i,d:()=>r});const r=(0,n(10699).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),o=r.state,i=r.state,s=r.state},5152:(e,t,n)=>{function r(e){return(null==e?void 0:e.id)===(null==e?void 0:e.username)}function o(e){return["all","recycle"].includes(null==e?void 0:e.id)||r(e)}function i(e){const t=e.split("/");return t.length>=2?t[t.length-2]:""}n.d(t,{a:()=>r,g:()=>i,i:()=>o})},81341:(e,t,n)=>{n.d(t,{a:()=>o,f:()=>i,s:()=>l});var r=n(91616);const o=e=>(null==e?void 0:e.replace(/(\s+|:)/g,"_"))||"",i=e=>{const t=e=>e.split(",").map((e=>e.trim())).filter((e=>e));return e?"string"==typeof e?(0,r.b)(t(e)):(0,r.b)(e.flatMap((e=>[...t(e)]))):[]},s=async e=>new Promise(((t,n)=>{for(let r=0;r<e.length;r++)e[r].then((n=>{const o=[...e];o.splice(r,1),t({remainingPromises:o,result:n})})).catch(n)}));async function l(e,t){var n,r;const o=[],{getBatchSize:i,onPromiseCompleted:l,onPromiseThrow:a,shouldContinue:u}=null!=t?t:{};let c=[];for(let t=0;t<(null!==(n=null==i?void 0:i())&&void 0!==n?n:1);t++)try{const t=e();t&&c.push(t)}catch(e){null==a||a(e)}let d=null;for(;c.length>0&&(!u||u(d));)try{const{remainingPromises:t,result:n}=await s(c);c=t,d=n,n&&o.push(n),null==l||l(n);const a=null!==(r=null==i?void 0:i())&&void 0!==r?r:1;for(;c.length<a;){const t=e();if(t&&c.push(t),null==t)break}}catch(e){null==a||a(e)}return o}},78231:(e,t,n)=>{n.d(t,{a:()=>l,b:()=>s,c:()=>c,d:()=>d,e:()=>p,f:()=>m,g:()=>S,h:()=>y,i:()=>a,j:()=>h,k:()=>$,l:()=>g,m:()=>j,n:()=>b,o:()=>f,p:()=>w,q:()=>v,u:()=>u});var r=n(98034),o=n(38973);function i(e){var t;return!!(null===(t=e.owner)||void 0===t?void 0:t.toLowerCase().includes("esri"))}function s(e){var t;return i(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Credits"))}function l(e){var t;return i(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Subscription"))}function a(e,t){return e.owner===t.username}function u(e,t){return a(e,t)||function(e,t){var n;if(null!=e.isAdmin)return!!e.isAdmin;const r=e.owner,o="admin"===e.itemControl,i=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(n=e.portal)||void 0===n?void 0:n.isPortal)&&!a(e,t)&&o&&r.includes("esri_")&&!i.includes(r))return!1;return o}(e,t)}const c=(e,t)=>!!t.orgId&&e.every((e=>e.isOrgItem)),d=(e,t)=>`${(0,o.a)(t)}item.html?id=${e}`,p=(e,t)=>`${(0,o.g)(t)}/content/users/${e}`,v=e=>e.reduce(((e,t)=>(e[t.owner]=e[t.owner]?[...e[t.owner],t.id]:[t.id],e)),{});function f(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Spatiotemporal")}function m(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("View Service")}function y(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Hosted Service")}function g(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Multi Services View")}function w(e){return(null==e?void 0:e.hasViews)&&!e.sourceSchemaChangesAllowed}async function h(e){var t;const n=null==e?void 0:e.portalItem;if(!n)return Promise.resolve(null);const i=n.portal,[s]=await(0,r.l)(["esri/request"]);if(null==i?void 0:i.user){return s(`${(0,o.g)(i)}community/users/${i.user.username}`,{query:{f:"json",token:null===(t=n.portal.credential)||void 0===t?void 0:t.token},responseType:"json"}).then((e=>{var t,n;const r=null!==(n=null===(t=e.data)||void 0===t?void 0:t.groups)&&void 0!==n?n:[];return Promise.resolve(r)}),(()=>Promise.reject()))}return Promise.resolve(null)}async function $(e){var t;const n=null==e?void 0:e.portalItem;if(!n)return Promise.resolve(null);const i=n.portal,[s]=await(0,r.l)(["esri/request"]);return s(`${(0,o.g)(i)}content/items/${n.id}/groups`,{query:{f:"json",token:null===(t=n.portal.credential)||void 0===t?void 0:t.token},responseType:"json"}).then((e=>{var t,n,r,o,i,s;const l=[...null!==(n=null===(t=e.data)||void 0===t?void 0:t.admin)&&void 0!==n?n:[],...null!==(o=null===(r=e.data)||void 0===r?void 0:r.member)&&void 0!==o?o:[],...null!==(s=null===(i=e.data)||void 0===i?void 0:i.other)&&void 0!==s?s:[]];return Promise.resolve(l)}),(()=>Promise.reject()))}async function b(e,t,{relationshipType:n,direction:i}){const s=`${(0,o.g)(t)}content/items/${e}/relatedItems`,[l]=await(0,r.l)(["esri/request"]);return await l(s,{query:{f:"json",relationshipType:n,direction:i},method:"get",responseType:"json"})}function j(e,t){return null==e?void 0:e.some((e=>null==t?void 0:t.some((t=>e.id===t.id&&e.capabilities.includes("updateitemcontrol")))))}const S=(e,t)=>`${t}/content/items/${e}`},76776:(e,t,n)=>{n.d(t,{a:()=>r,i:()=>o});const r=(0,n(10699).c)({title:"",snippet:"",tags:[],categories:[]}),o=r.state},67914:(e,t,n)=>{n.d(t,{a:()=>$,b:()=>P,c:()=>_,d:()=>S,e:()=>b,f:()=>m,g:()=>h,h:()=>y,i:()=>g,j:()=>k,k:()=>w,l:()=>I,m:()=>j,n:()=>C,s:()=>U,u:()=>O});var r=n(30554),o=n(44090),i=n(78231),s=n(38973),l=n(369),a=n(76776),u=n(1391),c=n(19832),d=n(81341),p=n(34472),v=n(5152),f=n(25972);function m({title:e,snippet:t,tags:n}){return{title:e,snippet:t,tags:(0,d.f)(n).join(",")}}const y=(e,t,n)=>{var r,i,s,l;const{file:a,type:u,extension:c,dataUrl:d,properties:v,typeKeywords:f,existingItem:y}=t,g=m(e);if(n){const e=y;g.title=(null===(r=null==e?void 0:e.sourceData)||void 0===r?void 0:r.title)||e.title||g.title||""}const w=[...null===(i=p.a[u])||void 0===i?void 0:i.typeKeywords,...f?[f]:[],c].join(", "),h=Object.assign({type:u,extension:c},v?{properties:JSON.stringify(v)}:{}),$=a?{file:a}:{dataUrl:d.includes('httpHeaders={"Authorization"')?d:encodeURI(d)},b=Object.assign(Object.assign(Object.assign(Object.assign({},h),$),g),{typeKeywords:w});if(!(null===(l=null===(s=o.c.portal)||void 0===s?void 0:s.sourceJSON)||void 0===l?void 0:l.hasClassificationSchema))return b;const j=t.classification;return j.createdUser=o.c.user.username,j.createdDate=Date.now(),Object.assign(Object.assign({},b),{classification:JSON.stringify(j)})},g=(e,t,n)=>{const r=!!n,o=!!t.addAsUniqueFile,i=y(e,t,r),s=new FormData;return s.append("f","json"),s.append("async","true"),Object.keys(i).forEach((e=>{if(o&&"file"===e){const n=t.fileName;s.append(e,i[e],n)}else s.append(e,i[e])})),s},w=(e,t)=>{const n=(null==t?void 0:t.id)&&!(0,v.i)(t)?`/${t.id}`:"";return`${e.userContentUrl}${n}/addItem`},h=(e,t)=>`${(0,s.g)(t)}content/items/${e}`,$=async(e,t)=>{try{const n=h(e,t);return{result:await(0,f.r)(n)}}catch(e){return console.warn("error getting item",e),{error:{code:"unhandledError"}}}},b=async(e,t)=>{const n=new FormData;switch(t.type){case"base64":n.append("data",t.data);break;case"url":n.append("url",t.url);break;case"file":n.append("file",t.file)}return n.append("f","json"),n.append("token",(0,l.g)(o.c.portal)),await(0,f.a)(`${(0,s.g)()}content/users/${o.c.user.username}/items/${e}/updateThumbnail`,n,{},"post")};async function j(e,t){const n=`${o.c.user.userContentUrl}/moveItems`;return await(0,f.r)(n,{items:e,folder:t},{},"post")}async function S(e,{permanentDelete:t=!1}={},n){null!=n||(n=o.c.user);const r=`${n.userContentUrl}/items/${e}/delete`;return await(0,f.r)(r,{permanentDelete:t},{},"post")}async function O(e,t,n){var i;const s=null!==(i=null!=n?n:o.c.user)&&void 0!==i?i:o.c.portal.user,l=`${"append"===(null===c.u||void 0===c.u?void 0:c.u.workflow)?(0,r.g)({username:u.a.existingItem.owner},o.c.portal):s.userContentUrl}/items/${e}/update`;return(0,f.r)(l,t,{},"post")}const C=async(e,t)=>{try{const n=`${(0,s.g)(t)}content/items/${e}/data`;return{result:await(0,f.r)(n)}}catch(e){return{error:{code:"unhandledError"}}}},k=async(e,t,n)=>{const r=o.c.user,i=`${"append"===c.u.workflow?t.existingItem.itemOwner.userContentUrl:r.userContentUrl}/items/${e}/commit`,s=g(a.i,t,!!n);s.delete("file");return await(0,f.a)(i,s,{},"post")},I=async(e,t)=>{const n=o.c.user,r=`${t?(0,i.e)(t,o.c.portal):n.userContentUrl}/items/${e}/cancel`;return await(0,f.r)(r,{},{},"post")},P=async e=>{var t,n,r,i;const s=w(o.c.user,a.i.folder),l=m(a.i),c=Object.assign({},e);return delete c.initialFolders,delete c.initialTitle,delete c.newItemMode,delete c.serviceInfo,delete c.allowStoredAuth,delete c.isSecured,delete c.checkAuth,delete c.agsType,delete c.developerCredentialsType,delete c.applicationEnvironment,delete c.apiKeyReferrerUrls,delete c.developerCredentialsRedirectUrls,delete c.developerPrivileges,delete c.selectedAppPrivileges,delete c.selectedItemPrivileges,delete c.formattedItemPrivileges,delete c.breadcrumbs,(null===(n=null===(t=o.c.portal)||void 0===t?void 0:t.sourceJSON)||void 0===n?void 0:n.hasClassificationSchema)&&(u.a.classification.createdUser=o.c.user.username,u.a.classification.createdDate=Date.now()),await(0,f.r)(s,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},c),(null===(i=null===(r=o.c.portal)||void 0===r?void 0:r.sourceJSON)||void 0===i?void 0:i.hasClassificationSchema)?{classification:JSON.stringify(u.a.classification)}:{}),(e=>e.url&&!!e.serviceInfo)(e)?{serviceInfo:JSON.stringify(e.serviceInfo)}:{}),{typeKeywords:JSON.stringify(e.typeKeywords)}),l),{},"post")};async function U(e,t,n,r,l,a){null!=l||(l=o.c.user),null!=a||(a=o.c.portal);const u=n&&n.id!==l.username?n.id:"root";if("featurecollection"===r||"Microsoft Excel"===t)return null;const c=[`title: "${e}"`,`type: "${t}"`,`owner: "${l.username}"`,`ownerfolder: "${u}"`],d=await(0,f.r)(`${(0,s.g)(a)}search`,{filter:c.join(" AND "),num:1});return(null==d?void 0:d.total)>0?{num:d.num,itemURLList:d.results.map((e=>(0,i.d)(e.id,o.c.config.baseUrl)))}:null}async function _(e,t){const n=(0,d.a)(e),{user:r,config:l,portal:u}=o.c,{folder:c}=a.i,p=c&&c.id!==r.username?c.id:"root",v=[`owner: "${r.username}"`,`ownerfolder: "${p}"`];t&&v.push(`type: "${t}"`);let m,y=1;for(let e=0;e<10&&!m&&y>-1;e++){const{nextStart:e,results:t}=await(0,f.r)(`${(0,s.g)()}search`,{[u.isPortal?"q":"filter"]:v.join(" AND "),num:100,start:y});m=t.find((e=>e.name===n)),y=e}return m?(0,i.d)(m.id,l.baseUrl):null}},19832:(e,t,n)=>{n.d(t,{a:()=>r,u:()=>o});const r=(0,n(10699).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{}}),o=r.state},30554:(e,t,n)=>{n.d(t,{a:()=>p,b:()=>v,c:()=>m,d:()=>f,e:()=>u,f:()=>l,g:()=>d,h:()=>c,u:()=>y});var r=n(25972),o=n(44090),i=n(78231),s=n(38973);async function l(e,t){return(0,r.r)(`${(0,s.g)(t)}/community/users/${e}`)}async function a(){return(0,r.r)(`${(0,s.g)()}/community/self`)}async function u(e,t){var n;if(null!=e||(e=null===o.c||void 0===o.c?void 0:o.c.user),!e)return[];const i=await(0,r.f)((()=>a()),"communitySelf",e.username);return(null!==(n=null==i?void 0:i.groups)&&void 0!==n?n:[]).sort(((e,n)=>{var r;return null===(r=e.title)||void 0===r?void 0:r.localeCompare(n.title,t||"en",{sensitivity:"base"})}))}async function c(){const e=null===o.c||void 0===o.c?void 0:o.c.user;if(!e)return null;return(await(0,r.f)((()=>a()),"communitySelf",e.username)).favGroupId}function d(e,t){var n;return null!==(n=null==e?void 0:e.userContentUrl)&&void 0!==n?n:`${(0,s.g)(t)}content/users/${e.username}`}async function p(e){var t;const n=null!==(t=null!=e?e:o.c.user)&&void 0!==t?t:o.c.portal.user,i=await async function(e){var t;const n=d(null!==(t=null!=e?e:o.c.user)&&void 0!==t?t:o.c.portal.user,o.c.portal);try{return await(0,r.r)(n,{num:1})}catch(e){return null}}(n);if(!i)return null;const{folders:s}=i,{username:l}=n;return[{username:l,id:l,title:l,created:"now"},...s.sort(((e,t)=>e.title.localeCompare(t.title)))]}async function v(e,t){var n;if(!(0,i.u)(e,o.c.portal.user))return null;const r=e.folderId||e.ownerFolder,s=null!==(n=null!=t?t:o.c.user)&&void 0!==n?n:o.c.portal.user,l=await p(s);return null==l?void 0:l.find((e=>e.id===r))}function f(e){return{username:e,id:e,title:e,created:"now"}}async function m(e,t){var n,i;try{const i=`${d(null!==(n=null!=t?t:o.c.user)&&void 0!==n?n:o.c.portal.user,o.c.portal)}/createFolder`;return{result:await(0,r.r)(i,{title:e},{},"post")}}catch(e){return console.error(e),(null===(i=e.details)||void 0===i?void 0:i.messages).some((e=>e.includes("not available")))?{error:{code:"folderNameExists"}}:{error:{code:"unhandledError"}}}}async function y(e,t,n){var i;const s=`${d(null!==(i=null!=n?n:o.c.user)&&void 0!==i?i:o.c.portal.user,o.c.portal)}/${e}/updateFolder`;try{const e=await(0,r.r)(s,{newTitle:t},{},"post");return e.error?{error:{code:"unhandledError"}}:{result:e}}catch(e){return{error:{code:"unhandledError"}}}}}}]);