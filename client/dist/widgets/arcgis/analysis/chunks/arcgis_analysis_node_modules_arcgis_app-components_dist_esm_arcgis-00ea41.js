/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-00ea41.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-00ea41"],{99004:(e,t,r)=>{r.d(t,{c:()=>a,g:()=>o});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},16953:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_data_store_list:()=>l});var a=r(20536),o=r(44090),i=r(41011),n=r(51933),s=r(1391),c=r(19832),d=r(3874);r(10699),r(38973),r(85781),r(25972),r(98034),r(99004),r(369),r(66301),r(16093),r(76246),r(34472),r(64243),r(76776),r(27995),r(90079),r(4291),r(67914),r(30554),r(78231),r(79717),r(90230),r(40883),r(86980),r(59377),r(68537),r(11163);const l=class{constructor(e){(0,a.r)(this,e),this.newItemUpdatePage=(0,a.c)(this,"newItemUpdatePage",7),this.selected=void 0,this.items=void 0,this.pagination=void 0,this.loading=!1,this.error=null}async componentWillLoad(){this.selected={id:s.a.dataStoreId,name:s.a.dataStoreName},this.i18n=c.u.i18n.tileLayerFromStore}isValidDataStoreType(e){return e.typeKeywords.some((e=>{const t=e.toLowerCase();return t.startsWith("cloudstore")||t.startsWith("folder")}))}renderErrorItem(){var e,t;const{i18n:r,error:o,loading:i}=this;let n,s;return"failToListDataStoreContents"===o?(n="Unable to list content of the data store",s="An error occurred while listing the data store's contents."):(n=null===(e=r.error[o])||void 0===e?void 0:e.heading,s=null===(t=r.error[o])||void 0===t?void 0:t.description),(0,a.h)("arcgis-new-item-alert",{heading:n,description:s,active:null!==o&&!i,onAlertDismiss:()=>{this.error=null}})}async handleNext(){var e;if(!this.selected||!this.selected.id||!this.selected.name)return void(this.error="noDataStoreSelected");const t=this.selected;this.loading=!0;const r=(await(0,n.g)(t.id)).result;if(0===r.length)return this.error="noRegisteredServersForDataStore",void(this.loading=!1);s.a.serverList=r,s.a.serverId=r[0].id,s.a.dataStoreId=t.id,s.a.dataStoreName=t.name;const a=await(0,i.g)(s.a.dataStoreId,"/","datastore",s.a.serverId);if("failToListDataStoreContents"===(null===(e=a.error)||void 0===e?void 0:e.code))return this.loading=!1,void(this.error="failToListDataStoreContents");const o=a.result,c=this.filterContentsByUserSelection(o);if(!o.children||0===c.children.length)return this.error="noContentInDataStore",void(this.loading=!1);s.a.datastoreContents=c,s.a.dataStoreCachedData=Object.assign(Object.assign({},s.a.dataStoreCachedData),{"/":s.a.datastoreContents}),(0,d.b)(),this.newItemUpdatePage.emit("dataStoreBrowser")}filterContentsByUserSelection(e){var t;const r="tileLayer"===s.a.newItemMode?"tile-layer":"scene-layer",a=s.a.tileLayerPublishType;return Object.assign(Object.assign({},e),{children:null===(t=e.children)||void 0===t?void 0:t.filter((e=>{const t=e.type;let o="folder"===t;return"tile-layer"===r?o||(o="tiles"===a&&"cacheDataset"===t||"vectorTiles"===a&&"vectorCacheDataset"===t):"scene-layer"===r&&(o||(o="extractedScenePackage"===t||"i3sRestCache"===t)),o}))})}render(){const{selected:e,pagination:t,i18n:r,loading:i}=this,{portal:n,user:s,api:c}=o.c;return(0,a.h)(a.H,{key:"ffb5d5d9cc0c8f768cbff8b87e7f166aefbf8900"},(0,a.h)("arcgis-item-browser",{key:"4e28d71b398b8c634bb0da1c18582eaffc130ba8",onArcgisItemBrowserUpdate:e=>{const{results:t,num:r,start:a,total:o}=e.detail;this.items=t,this.pagination={start:a,num:r,total:o}},onArcgisItemBrowserSelect:e=>{const t=e.detail[0];this.selected={id:t.id,name:t.title}},q:'type:"Data Store"',portal:n,user:s,api:c,selection:"single"},(0,a.h)("arcgis-item-browser-top-bar",{key:"7ecad6433f3f8a65e017a1e1e22c389303ad8147",slot:"top-bar"},(0,a.h)("arcgis-item-browser-search",{key:"c89bbb10463e9b75d3cafcefd19e71d713a551fa",slot:"search",term:"",placeholder:r.search})),(0,a.h)("arcgis-new-item-description",{key:"4bb9c155b0f9e1c71ceb9ab8c69a2f24b849908b",header:r.heading,content:r.subHeading,slot:"content-start",class:"header"}),(0,a.h)("arcgis-item-browser-sort",{key:"f0ed7258e76441417413fa224f79bc4c8b8c9c61",options:["modified","title","relevance"],slot:"sort"}),(0,a.h)("arcgis-item-browser-content",{key:"bf64275fc7564d654df3447170d7eb9d31efe7db",slot:"content"},this.items&&(0,a.h)("calcite-radio-button-group",{key:"1327a296f394401a6094a08d27bc6ad095465a77",layout:"vertical",class:"tile-select",name:"data-store-selection-group"},(this.items||[]).map((t=>this.isValidDataStoreType(t)&&(0,a.h)("arcgis-new-item-pages-data-store-browser-card",{dataStoreItem:t,selected:e.id===t.id,key:t.id}))))),(0,a.h)("arcgis-item-browser-pagination",{key:"903d2b77c75a40087521e91cd0abb851b2a06691",total:null==t?void 0:t.total,start:null==t?void 0:t.start,num:null==t?void 0:t.num,slot:"pagination"})),this.renderErrorItem(),(0,a.h)("arcgis-new-item-loader",{key:"228c7e5c5c176f3c5eccaac50ad83ef85c46d97f",active:i,text:r.processing}))}get el(){return(0,a.d)(this)}};l.style=".header{margin-top:1.25rem;display:block}.tile-select{margin-top:1.5rem}.no-items{margin-bottom:8rem}"},98034:(e,t,r)=>{r.d(t,{e:()=>i,l:()=>n});var a,o=r(99004),i={exports:{}};a=i.exports,o.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",a="next";function o(e){if(e.toLowerCase()===a)return a;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function i(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function n(e){void 0===e&&(e=r);var t=i(e),n=o(e);if(n!==a&&3===n.major){var s=n.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function s(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function c(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function d(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function l(e){return!e||o(e)?n(e):e}function u(e,t){var r=l(e),a=d(r);return a||c(a=s(r),t),a}var f={};function h(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function m(e,t,r){var a;r&&(a=p(e,r));var o=function(){t(e),e.removeEventListener("load",o,!1),a&&e.removeEventListener("error",a,!1)};e.addEventListener("load",o,!1)}function p(e,t){var r=function(a){t(a.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function v(e){void 0===e&&(e={}),f=e}function g(){return document.querySelector("script[data-esri-loader]")}function b(){var e=window.require;return e&&e.on}function y(e){void 0===e&&(e={});var r={};[f,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var a=r.version,o=r.url||i(a);return new t.Promise((function(e,t){var i=g();if(i){var n=i.getAttribute("src");n!==o?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(n,")."))):b()?e(i):m(i,e,t)}else if(b())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=r.css;s&&u(!0===s?a:s,r.insertCssBefore),m(i=h(o),(function(){i.setAttribute("data-esri-loader","loaded"),e(i)}),t),document.body.appendChild(i)}}))}function w(e){return new t.Promise((function(t,r){var a=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];a.remove(),t(e)}))}))}function S(e,t){if(void 0===t&&(t={}),b())return w(e);var r=g(),a=r&&r.getAttribute("src");return!t.url&&a&&(t.url=a),y(t).then((function(){return w(e)}))}e.utils=t,e.loadModules=S,e.getScript=g,e.isLoaded=b,e.loadScript=y,e.setDefaultOptions=v,e.loadCss=u,Object.defineProperty(e,"__esModule",{value:!0})}(a);const n=async(e,t)=>(await i.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},3874:(e,t,r)=>{r.d(t,{a:()=>u,b:()=>l,l:()=>d});var a=r(44090),o=r(1391);const i="create tile layer",n="my content",s=e=>{switch(e){case"store":return"data store";case"existing":return"fs";case"upload":return"upload"}},c=e=>{switch(e){case"tiles":return"raster";case"vectorTiles":return"vector"}},d=()=>{var e;null===(e=a.c.telemetry)||void 0===e||e.startWorkflow(i,{category:"create tile layer",pageName:"my content"})},l=()=>{const e=a.c.telemetry;null==e||e.stepWorkflow(i,"from option",{category:i,attribute:s(o.a.addTileLayerOption),details:c(o.a.tileLayerPublishType),pageName:n})},u=()=>{const e=a.c.telemetry;null==e||e.endWorkflow(i,{category:i,attribute:s(o.a.addTileLayerOption),details:c(o.a.tileLayerPublishType),pageName:n})}}}]);