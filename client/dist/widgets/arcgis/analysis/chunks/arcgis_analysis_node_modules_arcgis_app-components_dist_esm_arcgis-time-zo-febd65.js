/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-time-zo-febd65.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-time-zo-febd65"],{67756:(e,t,o)=>{o.r(t),o.d(t,{arcgis_time_zone:()=>s});var n=o(20536),i=o(98072),a=o(37568),c=o(91616);o(74129),o(98034),o(99004),o(91102),o(73807),o(34752);const s=class{constructor(e){(0,n.r)(this,e),this.timeZones=[],this.mapView=void 0,this.config=void 0}async closePopover(){this.removePopover()}async componentWillLoad(){const[e]=await(0,a.g)(this.hostElement);this.strings=e;const{mapView:t}=this;(0,c.i)(t.timeZone)||(t.timeZone="system");const o=(new Intl.DateTimeFormat).resolvedOptions().timeZone;Object.entries(e.timeZoneList).map((t=>{var o=t[0].split("/");const n=e.areas[o[0].toLowerCase()];let i;3===o.length&&(i=e.regions[o[1].toLowerCase()]);const a=t[1];i?this.timeZones.push([t[0],`${n}/${i}/${a}`]):this.timeZones.push([t[0],`${n}/${a}`])})),this.timeZones.sort(((e,t)=>e[1]<t[1]?-1:1));const i=Object.keys(e.timeZoneList).filter((e=>o===e));this.timeZonesToDisplay=this.timeZones.map(((e,a)=>(0,n.h)("calcite-combobox-item",{selected:!i.length&&0===a||e[0]===t.timeZone||e[0]===o&&("system"===t.timeZone||"unknown"===t.timeZone),value:e[0],textLabel:e[1]})))}async componentDidLoad(){var e;this.containerPanelNode=(0,i.q)(this.hostElement,"calcite-panel"),this.containerPanelNode||(this.containerPanelNode=(0,i.q)(this.hostElement,"calcite-flow-item")),this.parentBlockNode=(0,i.q)(this.hostElement,"calcite-block"),null===(e=this.parentBlockNode)||void 0===e||e.addEventListener("calciteBlockToggle",(()=>{this.removePopover()}))}disconnectedCallback(){this.removePopover()}render(){const{strings:e,mapView:t}=this;return(0,n.h)(n.H,{key:"723725f5e6dc42ba9fd89155ccd8c3014e6801fe"},(0,n.h)("calcite-label",{key:"66fd345aaff0ab2d50b87cf5d32a509fe36c4aa1",layout:"inline"},(0,n.h)("section",{key:"8e47c935f3a30f2781178212e142cd06e3801520",class:"time-zone-toggle"},e.timeZoneLabel,(0,n.h)("calcite-button",{key:"6214cee98d8859b13c001b19d018380f19f8f44d",class:"info-button","icon-start":"information",scale:"s",appearance:"transparent",kind:"neutral",onClick:e=>{var t;e.stopPropagation(),(null===(t=this.popoverNode)||void 0===t?void 0:t.parentElement)?this.removePopover():this.openPopover()},ref:e=>this.infoButtonNode=e}))),(0,n.h)("calcite-radio-button-group",{key:"13011c9d3dbccc922618b418c52be14eae817f6b",ref:e=>this.radioButtonGroupNode=e,name:"time-zone-options",onCalciteRadioButtonGroupChange:e=>{const t=e.target;this.handleTimeZoneOptionChange(t.selectedItem.value)}},(0,n.h)("div",{key:"eac1096cbfc51b84134b1cb66b5e7d8f5a4ae2db",class:"radio-button-group-wrapper"},(0,n.h)("calcite-label",{key:"8a900c8e5b4f7fb8d57c238b6e89c7de03cd1ab8",layout:"inline"},(0,n.h)("calcite-radio-button",{key:"fc92c6e9354530858b11798ec4b4c0428eab9d0f",checked:"system"===t.timeZone,value:"system"}),e.deviceLabel),(0,n.h)("calcite-label",{key:"3c8f3f2e8461ff464cce821e70a25ef4c16d09e5",layout:"inline"},(0,n.h)("calcite-radio-button",{key:"bbd46233cc0947877496fc128b53a91655a648f7",checked:"system"!==t.timeZone&&"unknown"!==t.timeZone,value:"time-zone"}),e.specificLabel),(0,n.h)("calcite-combobox",{key:"a70b1af5f4712c7e296df656cf8fe8a02679caf6",class:(["system","unknown"].indexOf(t.timeZone)>-1?"hidden":"")+" block-content-padding",ref:e=>this.ianaTimeZonePickerNode=e,label:e.chooseTimeZone,selectionMode:"single-persist",onCalciteComboboxChange:()=>t.timeZone=this.ianaTimeZonePickerNode.value,clearDisabled:!0},this.timeZonesToDisplay),(0,n.h)("calcite-label",{key:"918a0b5aeca7902b5407b90a5d87b021a21746d7",layout:"inline"},(0,n.h)("calcite-radio-button",{key:"1d7c7c0cfe2ddb0257cc9b151027494322d8a712",checked:"unknown"===t.timeZone,value:"unknown"}),e.dataLabel))))}handleTimeZoneOptionChange(e){const{mapView:t}=this,o=this.ianaTimeZonePickerNode.value;t.timeZone="time-zone"!==e?e:o;const n="time-zone"===this.radioButtonGroupNode.selectedItem.value?"remove":"add";this.ianaTimeZonePickerNode.classList[n]("hidden")}openPopover(){const{config:e}=this,t=this.popoverNode=document.createElement("arcgis-time-zone-popover");t.refElement=this.containerPanelNode,t.config=e,t.addEventListener("arcgisTimeZonePopoverClose",(()=>{this.closePopover(),this.infoButtonNode.setFocus()})),document.body.appendChild(t)}removePopover(){var e,t;null===(t=null===(e=this.popoverNode)||void 0===e?void 0:e.parentElement)||void 0===t||t.removeChild(this.popoverNode),this.popoverNode=null}static get assetsDirs(){return["assets"]}get hostElement(){return(0,n.d)(this)}};s.style=":host{height:100%}.time-zone-toggle{font-family:var(--calcite-sans-family);font-weight:var(--calcite-font-weight-medium)}.info-button{margin:auto 0.25rem}.radio-button-group-wrapper{display:flex;flex-direction:column;width:100%}.block-content-padding{padding-bottom:10px}.hidden{display:none}"},91616:(e,t,o)=>{o.d(t,{a:()=>r,b:()=>u,c:()=>i,d:()=>n,e:()=>a,f:()=>d,g:()=>p,h:()=>h,i:()=>c,m:()=>s,t:()=>l,u:()=>m});const n=(e,t)=>{let o,n="idle";const i=(...i)=>new Promise((a=>{switch(n){case"flushed":n="idle",o?(clearTimeout(o),a(e(...i))):a(null);break;case"invoked":clearTimeout(o),n="idle",a(e(...i));break;case"cancelled":clearTimeout(o),n="idle",a(null);break;default:o&&clearTimeout(o),n="pending",o=setTimeout((()=>(n="idle",a(e(...i)))),t)}}));return i.flush=function(...e){return n="flushed",i(...e)},i.invoke=function(...e){return n="invoked",i(...e)},i.cancel=function(...e){return n="cancelled",i(...e)},i.getStatus=function(){return n},i},i=(e,t)=>{let o;return(...n)=>new Promise((i=>{o||(o=setTimeout((()=>{clearTimeout(o),o=void 0,i(e(...n))}),t))}))};function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c(e){return null!=e}async function s(e,t){return await Promise.all([e,l(t)]),e}function l(e){return new Promise((t=>setTimeout(t,e)))}const r=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:o,data:n}=t(e);return[o,n]}))),d=(e,t)=>e.length===t.length&&e.reduce(((e,o)=>e&&t.indexOf(o)>-1),!0);function m(e,t){const o=[],n={};return e.forEach((e=>{const i=t(e);null==n[i]&&(n[i]=e,o.push(e))})),o}function u(e){const t={boolean:{},number:{},string:{}},o=[];return e.filter((e=>{let n=typeof e;return n in t?!t[n].hasOwnProperty(e)&&(t[n][e]=!0):!(o.indexOf(e)>=0)&&o.push(e)}))}const h=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((o,n)=>e.slice(t*n,t+t*n))),p=(e,t)=>e.includes(t)}}]);