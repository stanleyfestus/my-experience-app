/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-38bd0e.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-38bd0e"],{99004:(e,t,r)=>{r.d(t,{c:()=>i,g:()=>a});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},86308:(e,t,r)=>{r.r(t),r.d(t,{arcgis_field_calculate_editor:()=>o,arcgis_field_calculate_table:()=>d});var i=r(20536),a=r(91616),s=r(88492);r(98034),r(73807),r(44090),r(10699),r(98072),r(74129),r(91102),r(99004);function n(){const{layer:e}=s.f;return{id:"field-calculation",definitions:{$layer:e}}}async function l(e){const{layer:t}=s.f;return{profileVariableInstances:{$feature:await c(e),$layer:t,$datastore:t.url},spatialReference:t.spatialReference}}async function c(e){var t;const{layer:r}=s.f;let i=null;if("fields"in r){const r=await(0,s.a)(e);(null===(t=null==r?void 0:r.features)||void 0===t?void 0:t.length)&&(i=r.features[0].clone())}return i}const o=class{constructor(e){(0,i.r)(this,e),this.arcgisFieldCalculateEditorScriptChange=(0,i.c)(this,"arcgisFieldCalculateEditorScriptChange",7),this.arcgisFieldCalculateEditorFilterChange=(0,i.c)(this,"arcgisFieldCalculateEditorFilterChange",7),this.arcgisFieldCalculateEditorOpenScrim=(0,i.c)(this,"arcgisFieldCalculateEditorOpenScrim",7),this.arcgisFieldCalculateEditorLanguageSelected=(0,i.c)(this,"arcgisFieldCalculateEditorLanguageSelected",7),this.script=s.f.currentScript||"",this.resizeObserver=new ResizeObserver((e=>{const t=e.pop();this.hideSideBar=t.contentRect.width<=600})),this.debouncedScriptChange=(0,a.d)((()=>{this.arcgisFieldCalculateEditorScriptChange.emit()}),500),this.editorOpen=!1,this.filterPanelWhere=void 0,this.filterPanelOpen=!1,this.hideSideBar=void 0}async watchPropHandler(e,t){this.arcadeEditorNode&&e!==t&&(this.arcadeEditorNode.testData=await l(e))}disconnectedCallback(){this.resizeObserver.disconnect()}async closeEditor(){this.editorOpen=!1}async openEditor(){this.editorOpen=!0}async openFilterPanel(){this.filterPanelOpen=!0}async closeFilterPanel(){this.filterPanelOpen=!1}async isTestResultValid(){try{let e=await this.arcadeEditorNode.getTestResult();if("error"===e.type)return!1;return(0,s.v)(e.value).isFieldValid}catch(e){return!1}}render(){return(0,i.h)(i.H,{key:"381a9135c0162c5cb8b6ab3580dd9af878be420e"},this.renderLanguageSelect(),this.renderFilterPanel(),this.renderEditor())}renderFilterPanel(){var e,t;if(!this.filterPanelOpen)return;const{isTable:r,layer:a,mapView:n,strings:l}=s.f;return(0,i.h)("arcgis-filter",{layer:a,mode:"layer-view",viewFilter:(null===(t=null===(e=a.featureEffect)||void 0===e?void 0:e.filter)||void 0===t?void 0:t.where)||null,view:r?null:n,dismissible:!1,hideButtons:!0,hideLayerTitle:!0,panelMaxHeight:"80vh",panelHeading:l.defineFilter,tipMsg:l.emptyFilterText,leadingText:l.filterPanelDescription,clearText:l.clearAll,withinModal:!0,onArcgisFilterWhereChange:e=>{this.arcgisFieldCalculateEditorFilterChange.emit(e.detail)}})}renderEditor(){const{selectedLanguage:e,strings:t}=s.f;if(!this.editorOpen)return null;const r="Arcade"===e?this.renderArcadeEditor():this.renderSQLEditor();return(0,i.h)("calcite-panel",{heading:"Arcade"===e?t.arcadeExpression:t.sqlExpression},r)}renderArcadeEditor(){return(0,i.h)("arcgis-arcade-editor",{class:"editor",script:this.script,hideSideBar:this.hideSideBar,onArcgisScriptChange:e=>{s.f.currentScript=e.detail,this.script=e.detail,this.debouncedScriptChange()},ref:async e=>{e&&(this.arcadeEditorNode=e,e.profile=function(){const{layer:e}=s.f;return{id:"field-calculation",definitions:{$feature:e,$datastore:e}}}(),e.testData=await l(this.filterPanelWhere),this.resizeObserver.observe(e))}})}renderSQLEditor(){return(0,i.h)("arcgis-sql-expression-editor",{class:"editor",script:this.script,profile:n(),hideSideBar:this.hideSideBar,onArcgisScriptChange:e=>{s.f.currentScript=e.detail,this.script=e.detail,this.debouncedScriptChange()},ref:e=>{e&&this.resizeObserver.observe(e)}})}renderLanguageSelect(){if(this.editorOpen||this.filterPanelOpen)return;const{arcadeSupported:e,layer:t,originalField:r,strings:a}=s.f;return(0,i.h)("calcite-panel",null,(0,i.h)("div",{class:"panel-title",slot:"header-content"},a.editorPanelHeading),(0,i.h)("calcite-label",{class:"language-select-text"},a.languageSelect),(0,i.h)("calcite-tile-group",{label:a.languageSelect,layout:"vertical",class:"language-select",selectionMode:"single-persist"},(0,i.h)("calcite-tile",{class:"language-select-tile",selected:"Arcade"===s.f.selectedLanguage,onClick:()=>this.handleLanguageSelect("Arcade"),onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||this.handleLanguageSelect("Arcade")}},(0,i.h)("div",{slot:"content-bottom",class:"language-select-description"},(0,i.h)("calcite-label",{class:"language-select-description-header"},a.arcade),(0,i.h)("calcite-label",null,a.idealFor,(0,i.h)("ul",{class:"language-select-description-text"},(0,i.h)("li",null,a.arcadeDescription1),(0,i.h)("li",null,a.arcadeDescription2))),(0,i.h)("calcite-notice",{kind:"danger",open:!e},(0,i.h)("div",{slot:"title"},a.languageNotSupported),(0,i.h)("div",{slot:"message"},t.portalItem.portal.isPortal?a.arcadeNotSupportedEN:a.arcadeNotSupported)))),(0,i.h)("calcite-tile",{class:"language-select-tile",selected:"SQL"===s.f.selectedLanguage,onClick:()=>this.handleLanguageSelect("SQL"),onKeyDown:e=>{" "!==e.key&&"Enter"!==e.key||this.handleLanguageSelect("SQL")}},(0,i.h)("div",{slot:"content-bottom",class:"language-select-description"},(0,i.h)("calcite-label",{class:"language-select-description-header"},a.sql),(0,i.h)("calcite-label",null,a.idealFor,(0,i.h)("ul",{class:"language-select-description-text"},(0,i.h)("li",null,a.sqlDescription1),(0,i.h)("li",null,a.sqlDescription2),(0,i.h)("li",null,a.sqlDescription3)))))))}handleLanguageSelect(e){s.f.selectedLanguage!==e&&this.handleLanguageReset(e),this.arcgisFieldCalculateEditorLanguageSelected.emit()}handleLanguageReset(e){var t;const{features:r,mapView:i}=s.f;s.f.selectedLanguage=e,s.f.currentScript="",this.script="",s.f.arcadeExecutor=void 0,s.f.sqlEngine=void 0,s.f.invalidScript=!1,(null===(t=null==i?void 0:i.popup)||void 0===t?void 0:t.visible)&&i.popup.close();for(const e in r)r[e].calculatedValue=void 0,r[e].error=void 0,r[e].passed=void 0}get hostElement(){return(0,i.d)(this)}static get watchers(){return{filterPanelWhere:["watchPropHandler"]}}};o.style=".sc-arcgis-field-calculate-editor-h{height:100%}arcgis-arcade-editor.sc-arcgis-field-calculate-editor,arcgis-sql-expression-editor.sc-arcgis-field-calculate-editor{z-index:var(--calcite-z-index-header)1}arcgis-arcade-editor.sc-arcgis-field-calculate-editor>calcite-tooltip.sc-arcgis-field-calculate-editor,arcgis-sql-expression-editor.sc-arcgis-field-calculate-editor>calcite-tooltip.sc-arcgis-field-calculate-editor{z-index:var(--calcite-z-index-tooltip)}.calculate-button.sc-arcgis-field-calculate-editor{display:inline-flex}.calculate-card.sc-arcgis-field-calculate-editor{cursor:pointer}.editor.sc-arcgis-field-calculate-editor{width:100%;height:100%}.hidden.sc-arcgis-field-calculate-editor{display:none}.language-select-description.sc-arcgis-field-calculate-editor{display:flex;flex-direction:column;width:100%}.language-select-description-header.sc-arcgis-field-calculate-editor{font-weight:500}.language-select-tile.sc-arcgis-field-calculate-editor{display:contents}.language-select-description-text.sc-arcgis-field-calculate-editor{color:var(--calcite-color-text-3);font-size:var(--calcite-font-size-sm)}.language-select-text.sc-arcgis-field-calculate-editor{margin:20px 10px 0}.language-select.sc-arcgis-field-calculate-editor{margin:10px}.panel-border.sc-arcgis-field-calculate-editor{border:1px solid #e0e0e0}.panel-title.sc-arcgis-field-calculate-editor{font-size:var(--calcite-font-size-0);line-height:2rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1)}.sql-editor-temp.sc-arcgis-field-calculate-editor{margin:20px 10px 0}.editor-wrapper.sc-arcgis-field-calculate-editor{display:flex;flex-direction:column;align-items:center;margin:4rem 2rem;height:70vh;min-height:400px}";const d=class{constructor(e){(0,i.r)(this,e),this.arcgisFieldCalculateTableRecordCountUpdate=(0,i.c)(this,"arcgisFieldCalculateTableRecordCountUpdate",7),this.testButtons={}}async enableGeometry(){this.table&&!this.table.returnGeometryEnabled&&(this.table.returnGeometryEnabled=!0,this.table.returnMEnabled=!0,this.table.returnZEnabled=!0,this.table.refresh())}async getMode(){return this.mode}async getLayer(){return this.layer}async calculateValues(){const{features:e}=s.f;for(const t in e)e[t].calculatedValue=void 0,e[t].error=void 0,e[t].passed=!1,s.f.autoPreviewEnabled&&this.calculateCellValues(e[t].feature);this.table.refreshCellContent(),(0,s.u)()}async noRowsVisible(){return 0===this.numVisibleRows}async refresh(e){var t;e?this.table.refreshCellContent():await(null===(t=this.table)||void 0===t?void 0:t.refresh()),this.populateTestFeaturesFromTable()}async setMode(e){if(this.mode!==e)if(this.mode=e,"preview"===e){const e=this.getPreviewValuesTemplates();this.table.tableTemplate={columnTemplates:e}}else{const e=this.getTestFeaturesTemplates();this.table.tableTemplate={columnTemplates:e}}}async updateTableFilter(e,t){const r=this.getCombinedWhere(e,t),i=await this.queryForObjectIds(r);this.layer.definitionExpression=e,this.table.objectIds.removeAll(),this.table.maxSize=i.length,i.length?(this.numVisibleRows=i.length,this.table.objectIds.addMany(i)):this.numVisibleRows=0,this.populateTestFeaturesFromTable()}async componentWillLoad(){const{layer:e}=s.f;this.layer=e.clone(),await this.layer.load()}async componentDidLoad(){const{config:e}=s.f;this.hostElement.shadowRoot.firstElementChild.insertAdjacentHTML("beforebegin",`<link rel="stylesheet" href="${e.jsapiUrl}/themes/light/main.css"/>`);const t=await this.queryForObjectIds();this.table.objectIds.removeAll(),this.table.objectIds.addMany(t),this.numVisibleRows=t.length}render(){const{modules:e}=s.f;let t=[];switch(this.mode){case"features":t=this.getTestFeaturesTemplates();break;case"preview":t=this.getPreviewValuesTemplates()}return this.table=new e.FeatureTable({layer:this.layer,tableTemplate:{columnTemplates:t},visibleElements:{columnMenus:!1,header:!1,menu:!1,selectionColumn:!1,columnDescriptions:!1},container:null,maxSize:s.f.numRecords}),e.reactiveUtils.watch((()=>this.table.viewModel.store.pageCache.size),(e=>{e>0&&(this.populateTestFeaturesFromTable(),this.calculateValues())})),(0,i.h)(i.H,{key:"b49446512c2962710bead4c7c2574a8f7bf05ad0"},(0,i.h)("div",{key:t.toString(),ref:e=>{e&&(this.table.container=e)}}))}getTestFeaturesTemplates(){const{originalField:e}=s.f;let t=[];return this.layer.fields.forEach((r=>{r.name!==e.name&&t.push({type:"field",fieldName:r.name,label:r.alias})})),t.push(this.getOriginalFieldColumnTemplate()),t}getCombinedWhere(e,t){return e&&t?`(${e}) AND (${t})`:e||t}getPreviewValuesTemplates(){const{layer:e,originalField:t,strings:r}=s.f;let i=[];return i.push({type:"field",fieldName:e.objectIdField,label:e.fields.find((t=>t.name===e.objectIdField)).alias}),i.push(this.getOriginalFieldColumnTemplate()),i.push({type:"column",label:r.calculated,fieldName:`${t.name}Calculated`,sortable:!1,invalid:!1,textWrap:!0,formatFunction:({feature:e})=>{const{arcadeExecutor:t,autoPreviewEnabled:i,features:a,invalidScript:n,sqlEngine:l}=s.f,c=e.attributes[this.layer.objectIdField];if(t||l){if(n&&i)return"";if((0,s.b)(a[c].calculatedValue))return a[c].error&&!(0,s.i)(a[c].calculatedValue)?a[c].calculatedValue:this.getCellDisplayValue(a[c].calculatedValue);if(a[c].error)return"";if(i||!t&&!l){const t=(0,s.e)(e);return a[c].error?t:this.getCellDisplayValue(t)}if(!this.testButtons[c]){const i=document.createElement("calcite-button");i.appearance="transparent",i.innerHTML=r.testCalculation,i.iconEnd="play",i.onclick=async()=>{i.loading=!0,(null==t?void 0:t.isAsync)?await(0,s.d)(e):(0,s.e)(e),this.table.refreshCellContent()},this.testButtons[c]=i}return this.testButtons[c].loading=!1,this.testButtons[c]}return""}}),i.push(this.getErrorsTemplate()),i}getErrorsTemplate(){const{originalField:e,strings:t}=s.f;return{type:"column",label:t.errors,fieldName:`${e.name}Errors`,sortable:!1,textWrap:!0,formatFunction:({feature:e})=>{const{features:r,invalidScript:i}=s.f,n=e.attributes[this.layer.objectIdField],l=(0,a.i)(r[n].error);if(!(0,s.b)(r[n].calculatedValue)&&!l&&!i)return null;const c=document.createElement("div"),o=document.createElement("calcite-icon");o.scale="s",o.icon=l||i?"exclamation-mark-triangle-f":"check-circle",o.classList.add(l||i?"warning-icon":"success-icon");const d=document.createElement("div");return d.innerHTML=l?r[n].error:i?t.popupError:t.noErrors,c.append(o),c.append(d),c.classList.add("cell-with-icon"),c}}}getOriginalFieldColumnTemplate(){const{originalField:e,strings:t}=s.f;return{type:"column",label:"features"===this.mode?e.alias:t.original,fieldName:e.name,frozenToEnd:"features"===this.mode,sortable:!1,textWrap:!0,invalid:"features"===this.mode,formatFunction:({feature:t})=>{const r=t.attributes[e.name];if((0,s.b)(r))return this.getCellDisplayValue(r)}}}async queryForObjectIds(e){const{numRecords:t}=s.f,r=this.layer.createQuery();r.returnGeometry=!1,r.num=t,r.where=e;const i=await this.layer.queryObjectIds(r);return this.arcgisFieldCalculateTableRecordCountUpdate.emit(i.length),i}calculateCellValues(e){const{arcadeExecutor:t,features:r,sqlEngine:i}=s.f;if(t||i){const i=e.attributes[this.layer.objectIdField];if(!(0,s.b)(r[i].calculatedValue)){if(null==t?void 0:t.isAsync)return;(0,s.e)(e)}}}getCellDisplayValue(e){e=(0,s.h)(e);if([/^\s*(https?:\/\/([^\s]+))\s*$/i,/^\s*(tel:([^\s]+))\s*$/i,/^\s*(mailto:([^\s]+))\s*$/i,/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,/^\s*(iform:\/\/([^\s]+))\s*$/i,/^\s*(flow:\/\/([^\s]+))\s*$/i,/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,/^\s*(mspbi:\/\/([^\s]+))\s*$/i].find((t=>t.test(e)))){const t=document.createElement("a");return t.href=e,t.textContent=e,t.target="_blank",t}if(/<\/?[a-z][\s\S]*>/i.test(e)){const t=document.createElement("span");return t.textContent=e,t}return e}populateTestFeaturesFromTable(){const{features:e}=s.f;(this.table.viewModel.store.pageCache.get(0)||[]).forEach((t=>{const r=t.feature,i=t.objectId;e[i]||(e[i]={}),e[i].feature=r}));for(const t in e)e[t].tableFeature=this.table.objectIds.includes(parseInt(t))}get hostElement(){return(0,i.d)(this)}};d.style=":host{height:100%}.cell-with-icon{display:flex;align-items:center;-moz-column-gap:10px;column-gap:10px}.warning-icon{--calcite-ui-icon-color:var(--calcite-color-status-warning)}.success-icon{--calcite-ui-icon-color:var(--calcite-color-status-success)}"},44090:(e,t,r)=>{r.d(t,{c:()=>a,o:()=>s});const i=(0,r(10699).c)({portal:null,user:null,api:4,scale:"m"}),a=i.state,s=i.onChange},91102:(e,t,r)=>{r.d(t,{a:()=>c,c:()=>a,d:()=>o,g:()=>s,i:()=>n,s:()=>l});var i=r(73807);function a(e,t){return function e(r){return r?r.closest(t)||e(function(e){return e.getRootNode()}(r).host||null):null}(e)}function s(e){const t=a(e,".calcite-mode-dark, .calcite-mode-light");return(null==t?void 0:t.classList.contains("calcite-mode-dark"))?"dark":"light"}function n(e){let t=e;for(;null==t?void 0:t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1}function l(e){return(new i.S).sanitize(e)}function c(e){const t=l(e),r=document.createElement("div");return r.innerHTML=t,r.textContent||r.innerText||""}function o(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}},91616:(e,t,r)=>{r.d(t,{a:()=>o,b:()=>h,c:()=>a,d:()=>i,e:()=>s,f:()=>d,g:()=>g,h:()=>f,i:()=>n,m:()=>l,t:()=>c,u:()=>u});const i=(e,t)=>{let r,i="idle";const a=(...a)=>new Promise((s=>{switch(i){case"flushed":i="idle",r?(clearTimeout(r),s(e(...a))):s(null);break;case"invoked":clearTimeout(r),i="idle",s(e(...a));break;case"cancelled":clearTimeout(r),i="idle",s(null);break;default:r&&clearTimeout(r),i="pending",r=setTimeout((()=>(i="idle",s(e(...a)))),t)}}));return a.flush=function(...e){return i="flushed",a(...e)},a.invoke=function(...e){return i="invoked",a(...e)},a.cancel=function(...e){return i="cancelled",a(...e)},a.getStatus=function(){return i},a},a=(e,t)=>{let r;return(...i)=>new Promise((a=>{r||(r=setTimeout((()=>{clearTimeout(r),r=void 0,a(e(...i))}),t))}))};function s(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function n(e){return null!=e}async function l(e,t){return await Promise.all([e,c(t)]),e}function c(e){return new Promise((t=>setTimeout(t,e)))}const o=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:r,data:i}=t(e);return[r,i]}))),d=(e,t)=>e.length===t.length&&e.reduce(((e,r)=>e&&t.indexOf(r)>-1),!0);function u(e,t){const r=[],i={};return e.forEach((e=>{const a=t(e);null==i[a]&&(i[a]=e,r.push(e))})),r}function h(e){const t={boolean:{},number:{},string:{}},r=[];return e.filter((e=>{let i=typeof e;return i in t?!t[i].hasOwnProperty(e)&&(t[i][e]=!0):!(r.indexOf(e)>=0)&&r.push(e)}))}const f=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((r,i)=>e.slice(t*i,t+t*i))),g=(e,t)=>e.includes(t)},10699:(e,t,r)=>{r.d(t,{c:()=>c});var i=r(20536);const a=e=>!("isConnected"in e)||e.isConnected,s=((e,t)=>{let r;return(...i)=>{r&&clearTimeout(r),r=setTimeout((()=>{r=0,e(...i)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(a))}),2e3),n=e=>"function"==typeof e?e():e,l=(e,t)=>{const r=e.indexOf(t);r>=0&&(e[r]=e[e.length-1],e.length--)},c=(e,t)=>{const r=((e,t=(e,t)=>e!==t)=>{const r=n(e);let i=new Map(Object.entries(null!=r?r:{}));const a={dispose:[],get:[],set:[],reset:[]},s=()=>{var t;i=new Map(Object.entries(null!==(t=n(e))&&void 0!==t?t:{})),a.reset.forEach((e=>e()))},c=e=>(a.get.forEach((t=>t(e))),i.get(e)),o=(e,r)=>{const s=i.get(e);t(r,s,e)&&(i.set(e,r),a.set.forEach((t=>t(e,r,s))))},d="undefined"==typeof Proxy?{}:new Proxy(r,{get:(e,t)=>c(t),ownKeys:e=>Array.from(i.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>i.has(t),set:(e,t,r)=>(o(t,r),!0)}),u=(e,t)=>(a[e].push(t),()=>{l(a[e],t)});return{state:d,get:c,set:o,on:u,onChange:(t,r)=>{const i=u("set",((e,i)=>{e===t&&r(i)})),a=u("reset",(()=>r(n(e)[t])));return()=>{i(),a()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(u("set",t.set)),t.get&&e.push(u("get",t.get)),t.reset&&e.push(u("reset",t.reset)),t.dispose&&e.push(u("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{a.dispose.forEach((e=>e())),s()},reset:s,forceUpdate:e=>{const t=i.get(e);a.set.forEach((r=>r(e,t,t)))}}})(e,t);return r.use((()=>{if("function"!=typeof i.a)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const r=(0,i.a)();r&&((e,t,r)=>{const i=e.get(t);i?i.includes(r)||i.push(r):e.set(t,[r])})(e,t,r)},set:t=>{const r=e.get(t);r&&e.set(t,r.filter(i.f)),s(e)},reset:()=>{e.forEach((e=>e.forEach(i.f))),s(e)}}})()),r}},98034:(e,t,r)=>{r.d(t,{e:()=>s,l:()=>n});var i,a=r(99004),s={exports:{}};i=s.exports,a.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",i="next";function a(e){if(e.toLowerCase()===i)return i;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function s(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function n(e){void 0===e&&(e=r);var t=s(e),n=a(e);if(n!==i&&3===n.major){var l=n.minor<=10?"js/":"";return"".concat(t).concat(l,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function l(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function c(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function o(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function d(e){return!e||a(e)?n(e):e}function u(e,t){var r=d(e),i=o(r);return i||c(i=l(r),t),i}var h={};function f(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function g(e,t,r){var i;r&&(i=p(e,r));var a=function(){t(e),e.removeEventListener("load",a,!1),i&&e.removeEventListener("error",i,!1)};e.addEventListener("load",a,!1)}function p(e,t){var r=function(i){t(i.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function m(e){void 0===e&&(e={}),h=e}function b(){return document.querySelector("script[data-esri-loader]")}function v(){var e=window.require;return e&&e.on}function y(e){void 0===e&&(e={});var r={};[h,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var i=r.version,a=r.url||s(i);return new t.Promise((function(e,t){var s=b();if(s){var n=s.getAttribute("src");n!==a?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(n,")."))):v()?e(s):g(s,e,t)}else if(v())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=r.css;l&&u(!0===l?i:l,r.insertCssBefore),g(s=f(a),(function(){s.setAttribute("data-esri-loader","loaded"),e(s)}),t),document.body.appendChild(s)}}))}function w(e){return new t.Promise((function(t,r){var i=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];i.remove(),t(e)}))}))}function E(e,t){if(void 0===t&&(t={}),v())return w(e);var r=b(),i=r&&r.getAttribute("src");return!t.url&&i&&(t.url=i),y(t).then((function(){return w(e)}))}e.utils=t,e.loadModules=E,e.getScript=b,e.isLoaded=v,e.loadScript=y,e.setDefaultOptions=m,e.loadCss=u,Object.defineProperty(e,"__esModule",{value:!0})}(i);const n=async(e,t)=>(await s.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))}}]);