/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-11870a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-11870a"],{74496:(e,t,r)=>{r.r(t),r.d(t,{arcgis_image_item_sort_popover:()=>l});var s=r(20536),o=r(37568),a=r(34752),i=r(19902);r(91102),r(73807),r(98034),r(99004);const l=class{constructor(e){(0,s.r)(this,e),this.arcgisImageItemSortChangeSaved=(0,s.c)(this,"arcgisImageItemSortChangeSaved",7),this.arcgisImageItemSortPopoverClosed=(0,s.c)(this,"arcgisImageItemSortPopoverClosed",7),this.renderSortFieldList=()=>{const{fields:e,selectedSortField:t}=this,r=(0,i.h)(e).map((e=>(0,s.h)("calcite-list-item",{label:e.name,value:e,selected:e.name===(null==t?void 0:t.name)})));return(0,s.h)("calcite-list",{"selection-mode":"single-persist",class:"field-list-wrapper",onCalciteListChange:e=>{const t=e.target.selectedItems.map((e=>e.value));this.selectedSortField=t[0]}},r)},this.renderSortOrderChipGroup=()=>{const{strings:e,selectedSortField:t,selectedSortOrder:r}=this,{type:o}=t||{};let a=[];"string"===o?a=[{displayText:e.alphabetical,sortOrder:i.S.Asc},{displayText:e.reverseAlphabetical,sortOrder:i.S.Desc}]:"date"===o?a=[{displayText:e.mostRecent,sortOrder:i.S.Desc},{displayText:e.leastRecent,sortOrder:i.S.Asc}]:(0,i.s)(o)&&(a=[{displayText:e.highestValue,sortOrder:i.S.Desc},{displayText:e.lowestValue,sortOrder:i.S.Asc}]);const l=a.map((e=>{const{displayText:t,sortOrder:o}=e;return(0,s.h)("calcite-chip",{value:o,selected:r===o,appearance:"outline",kind:"neutral"},t)}));if(!(l.length<=0))return(0,s.h)("calcite-chip-group",{class:"sort-order-chip-group",label:e.sortOrder,"selection-mode":"single-persist",onCalciteChipGroupSelect:e=>{const t=e.target.selectedItems.map((e=>e.value));this.selectedSortOrder=t[0]}},l)},this.handleSortChangeSaved=()=>{const{selectedSortField:e,selectedSortOrder:t}=this;this.arcgisImageItemSortChangeSaved.emit({sortField:e,sortOrder:t}),this.arcgisImageItemSortPopoverClosed.emit()},this.referenceElement=void 0,this.fields=[],this.preselectedSortField=void 0,this.preselectedSortOrder=void 0,this.open=void 0,this.selectedSortField=void 0,this.selectedSortOrder=void 0}async componentWillLoad(){[this.strings]=await(0,o.g)(this.hostElement,"arcgis-image-collection-explorer")}updateModal(e){e&&(this.selectedSortField=this.preselectedSortField,this.selectedSortOrder=this.preselectedSortOrder)}render(){const{strings:e,open:t}=this;return(0,s.h)(s.H,{key:"03b96378e27188224e2439c5e829469a8dfec566",class:"js-app-flyout"},(0,s.h)("calcite-popover",{key:"0b18f61522c1467a335ec1dbd299a12081d05931",dir:(0,a.g)(this.hostElement),autoClose:!0,label:e.sort,referenceElement:this.referenceElement,closable:!0,heading:e.sort,placement:"leading-start",pointerDisabled:!0,triggerDisabled:!0,offsetDistance:130,open:t,onCalcitePopoverClose:()=>{this.arcgisImageItemSortPopoverClosed.emit()}},(0,s.h)("calcite-panel",{key:"2e41e2eb2ffedae9e7e521a6ca80268aea033d37",class:"sort-popover-wrapper"},(0,s.h)("calcite-label",{key:"1a07f88e267abb5bb2be91327192265146b39c37",class:"label-wrapper"},e.sortByField),this.renderSortFieldList(),(0,s.h)("calcite-label",{key:"33c156309de085ec8d26b6e03248512a32f0cebe",class:"label-wrapper"},e.sortOrder),this.renderSortOrderChipGroup(),(0,s.h)("div",{key:"e932ce065850447ccd3797e04cc90439cd81f9b6",class:"button-wrapper"},(0,s.h)("calcite-button",{key:"fde2805af693af0b1181bfa5fff933c76fde6223",width:"full",onClick:this.handleSortChangeSaved},e.done)))))}get hostElement(){return(0,s.d)(this)}static get watchers(){return{open:["updateModal"]}}};l.style=".sort-popover-wrapper{display:flex;padding:1rem;min-width:320px;max-height:50vh;background-color:var(--calcite-color-foreground-1) !important}.label-wrapper{background-color:var(--calcite-color-foreground-1);padding-top:0.5rem}.field-list-wrapper{overflow-y:auto}.sort-order-chip-group{padding:0 0.5rem 0.5rem;background-color:var(--calcite-color-foreground-1)}.button-wrapper{padding:1rem 0.25rem 0.25rem;background-color:var(--calcite-color-foreground-1)}"}}]);