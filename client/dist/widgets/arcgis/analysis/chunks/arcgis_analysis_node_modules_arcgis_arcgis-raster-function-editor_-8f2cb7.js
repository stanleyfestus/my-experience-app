"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-8f2cb7"],{33355:(t,r,e)=>{e.d(r,{A:()=>w,B:()=>ur,C:()=>R,D:()=>ut,E:()=>pt,F:()=>na,G:()=>ra,H:()=>Ji,I:()=>c,M:()=>cr,P:()=>Vi,a:()=>Wo,c:()=>Yo,d:()=>Ko,e:()=>fn,f:()=>qo,g:()=>$o,h:()=>dn,i:()=>Go,j:()=>pn,k:()=>gn,l:()=>Le,m:()=>bn,n:()=>Ct,o:()=>j,p:()=>Ho,q:()=>Tt,r:()=>Vo,t:()=>Jo,u:()=>Ut,v:()=>St,w:()=>te,x:()=>Mt,y:()=>Vt,z:()=>vr});var o=e(17002),n=e(32513),i=e(44345);const a="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};const l="object"==typeof a&&a&&a.Object===Object&&a;var s="object"==typeof self&&self&&self.Object===Object&&self;const c=l||s||Function("return this")();const u=c.Symbol;var f=Object.prototype,h=f.hasOwnProperty,d=f.toString,p=u?u.toStringTag:void 0;var g=Object.prototype.toString;var m="[object Null]",b="[object Undefined]",y=u?u.toStringTag:void 0;function v(t){return null==t?void 0===t?b:m:y&&y in Object(t)?function(t){var r=h.call(t,p),e=t[p];try{t[p]=void 0;var o=!0}catch(t){}var n=d.call(t);return o&&(r?t[p]=e:delete t[p]),n}(t):function(t){return g.call(t)}(t)}function C(t){return null!=t&&"object"==typeof t}var _="[object Symbol]";function w(t){return"symbol"==typeof t||C(t)&&v(t)==_}function M(t,r){for(var e=-1,o=null==t?0:t.length,n=Array(o);++e<o;)n[e]=r(t[e],e,t);return n}const j=Array.isArray;var k=1/0,A=u?u.prototype:void 0,O=A?A.toString:void 0;function S(t){if("string"==typeof t)return t;if(j(t))return M(t,S)+"";if(w(t))return O?O.call(t):"";var r=t+"";return"0"==r&&1/t==-k?"-0":r}function R(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)}function P(t){return t}var x="[object AsyncFunction]",T="[object Function]",I="[object GeneratorFunction]",D="[object Proxy]";function E(t){if(!R(t))return!1;var r=v(t);return r==T||r==I||r==x||r==D}const B=c["__core-js_shared__"];var z,N=(z=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"";var F=Function.prototype.toString;function U(t){if(null!=t){try{return F.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var L=/^\[object .+?Constructor\]$/,q=Function.prototype,$=Object.prototype,G=q.toString,W=$.hasOwnProperty,V=RegExp("^"+G.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function J(t){return!(!R(t)||(r=t,N&&N in r))&&(E(t)?V:L).test(U(t));var r}function Y(t,r){var e=function(t,r){return null==t?void 0:t[r]}(t,r);return J(e)?e:void 0}const H=Y(c,"WeakMap");var K=Object.create,Q=function(){function t(){}return function(r){if(!R(r))return{};if(K)return K(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}();const Z=Q;function X(t,r,e){switch(e.length){case 0:return t.call(r);case 1:return t.call(r,e[0]);case 2:return t.call(r,e[0],e[1]);case 3:return t.call(r,e[0],e[1],e[2])}return t.apply(r,e)}var tt=Date.now;var rt=function(){try{var t=Y(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const et=rt;var ot=et?function(t,r){return et(t,"toString",{configurable:!0,enumerable:!1,value:(e=r,function(){return e}),writable:!0});var e}:P;var nt,it,at;const lt=(nt=ot,it=0,at=0,function(){var t=tt(),r=16-(t-at);if(at=t,r>0){if(++it>=800)return arguments[0]}else it=0;return nt.apply(void 0,arguments)});var st=9007199254740991,ct=/^(?:0|[1-9]\d*)$/;function ut(t,r){var e=typeof t;return!!(r=null==r?st:r)&&("number"==e||"symbol"!=e&&ct.test(t))&&t>-1&&t%1==0&&t<r}function ft(t,r,e){"__proto__"==r&&et?et(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e}function ht(t,r){return t===r||t!=t&&r!=r}var dt=Object.prototype.hasOwnProperty;function pt(t,r,e){var o=t[r];dt.call(t,r)&&ht(o,e)&&(void 0!==e||r in t)||ft(t,r,e)}function gt(t,r,e,o){var n=!e;e||(e={});for(var i=-1,a=r.length;++i<a;){var l=r[i],s=o?o(e[l],t[l],l,e,t):void 0;void 0===s&&(s=t[l]),n?ft(e,l,s):pt(e,l,s)}return e}var mt=Math.max;function bt(t,r){return lt(function(t,r,e){return r=mt(void 0===r?t.length-1:r,0),function(){for(var o=arguments,n=-1,i=mt(o.length-r,0),a=Array(i);++n<i;)a[n]=o[r+n];n=-1;for(var l=Array(r+1);++n<r;)l[n]=o[n];return l[r]=e(a),X(t,this,l)}}(t,r,P),t+"")}var yt=9007199254740991;function vt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=yt}function Ct(t){return null!=t&&vt(t.length)&&!E(t)}function _t(t,r,e){if(!R(e))return!1;var o=typeof r;return!!("number"==o?Ct(e)&&ut(r,e.length):"string"==o&&r in e)&&ht(e[r],t)}var wt=Object.prototype;function Mt(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||wt)}function jt(t){return C(t)&&"[object Arguments]"==v(t)}var kt=Object.prototype,At=kt.hasOwnProperty,Ot=kt.propertyIsEnumerable;const St=jt(function(){return arguments}())?jt:function(t){return C(t)&&At.call(t,"callee")&&!Ot.call(t,"callee")};var Rt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Pt=Rt&&"object"==typeof module&&module&&!module.nodeType&&module,xt=Pt&&Pt.exports===Rt?c.Buffer:void 0;const Tt=(xt?xt.isBuffer:void 0)||function(){return!1};var It={};function Dt(t){return function(r){return t(r)}}It["[object Float32Array]"]=It["[object Float64Array]"]=It["[object Int8Array]"]=It["[object Int16Array]"]=It["[object Int32Array]"]=It["[object Uint8Array]"]=It["[object Uint8ClampedArray]"]=It["[object Uint16Array]"]=It["[object Uint32Array]"]=!0,It["[object Arguments]"]=It["[object Array]"]=It["[object ArrayBuffer]"]=It["[object Boolean]"]=It["[object DataView]"]=It["[object Date]"]=It["[object Error]"]=It["[object Function]"]=It["[object Map]"]=It["[object Number]"]=It["[object Object]"]=It["[object RegExp]"]=It["[object Set]"]=It["[object String]"]=It["[object WeakMap]"]=!1;var Et="object"==typeof exports&&exports&&!exports.nodeType&&exports,Bt=Et&&"object"==typeof module&&module&&!module.nodeType&&module,zt=Bt&&Bt.exports===Et&&l.process;const Nt=function(){try{var t=Bt&&Bt.require&&Bt.require("util").types;return t||zt&&zt.binding&&zt.binding("util")}catch(t){}}();var Ft=Nt&&Nt.isTypedArray;const Ut=Ft?Dt(Ft):function(t){return C(t)&&vt(t.length)&&!!It[v(t)]};var Lt=Object.prototype.hasOwnProperty;function qt(t,r){var e=j(t),o=!e&&St(t),n=!e&&!o&&Tt(t),i=!e&&!o&&!n&&Ut(t),a=e||o||n||i,l=a?function(t,r){for(var e=-1,o=Array(t);++e<t;)o[e]=r(e);return o}(t.length,String):[],s=l.length;for(var c in t)!r&&!Lt.call(t,c)||a&&("length"==c||n&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ut(c,s))||l.push(c);return l}function $t(t,r){return function(e){return t(r(e))}}const Gt=$t(Object.keys,Object);var Wt=Object.prototype.hasOwnProperty;function Vt(t){if(!Mt(t))return Gt(t);var r=[];for(var e in Object(t))Wt.call(t,e)&&"constructor"!=e&&r.push(e);return r}function Jt(t){return Ct(t)?qt(t):Vt(t)}var Yt=Object.prototype.hasOwnProperty;function Ht(t){if(!R(t))return function(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r}(t);var r=Mt(t),e=[];for(var o in t)("constructor"!=o||!r&&Yt.call(t,o))&&e.push(o);return e}function Kt(t){return Ct(t)?qt(t,!0):Ht(t)}var Qt,Zt=(Qt=function(t,r,e,o){gt(r,Kt(r),t,o)},bt((function(t,r){var e=-1,o=r.length,n=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(n=Qt.length>3&&"function"==typeof n?(o--,n):void 0,i&&_t(r[0],r[1],i)&&(n=o<3?void 0:n,o=1),t=Object(t);++e<o;){var a=r[e];a&&Qt(t,a,e,n)}return t})));const Xt=Zt;const tr=Y(Object,"create");var rr=Object.prototype.hasOwnProperty;var er=Object.prototype.hasOwnProperty;function or(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var o=t[r];this.set(o[0],o[1])}}function nr(t,r){for(var e=t.length;e--;)if(ht(t[e][0],r))return e;return-1}or.prototype.clear=function(){this.__data__=tr?tr(null):{},this.size=0},or.prototype.delete=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},or.prototype.get=function(t){var r=this.__data__;if(tr){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return rr.call(r,t)?r[t]:void 0},or.prototype.has=function(t){var r=this.__data__;return tr?void 0!==r[t]:er.call(r,t)},or.prototype.set=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=tr&&void 0===r?"__lodash_hash_undefined__":r,this};var ir=Array.prototype.splice;function ar(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var o=t[r];this.set(o[0],o[1])}}ar.prototype.clear=function(){this.__data__=[],this.size=0},ar.prototype.delete=function(t){var r=this.__data__,e=nr(r,t);return!(e<0)&&(e==r.length-1?r.pop():ir.call(r,e,1),--this.size,!0)},ar.prototype.get=function(t){var r=this.__data__,e=nr(r,t);return e<0?void 0:r[e][1]},ar.prototype.has=function(t){return nr(this.__data__,t)>-1},ar.prototype.set=function(t,r){var e=this.__data__,o=nr(e,t);return o<0?(++this.size,e.push([t,r])):e[o][1]=r,this};const lr=Y(c,"Map");function sr(t,r){var e,o,n=t.__data__;return("string"==(o=typeof(e=r))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==e:null===e)?n["string"==typeof r?"string":"hash"]:n.map}function cr(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var o=t[r];this.set(o[0],o[1])}}function ur(t){return null==t?"":S(t)}function fr(t,r){for(var e=-1,o=r.length,n=t.length;++e<o;)t[n+e]=r[e];return t}cr.prototype.clear=function(){this.size=0,this.__data__={hash:new or,map:new(lr||ar),string:new or}},cr.prototype.delete=function(t){var r=sr(this,t).delete(t);return this.size-=r?1:0,r},cr.prototype.get=function(t){return sr(this,t).get(t)},cr.prototype.has=function(t){return sr(this,t).has(t)},cr.prototype.set=function(t,r){var e=sr(this,t),o=e.size;return e.set(t,r),this.size+=e.size==o?0:1,this};const hr=$t(Object.getPrototypeOf,Object);var dr="[object Object]",pr=Function.prototype,gr=Object.prototype,mr=pr.toString,br=gr.hasOwnProperty,yr=mr.call(Object);function vr(t){if(!C(t)||v(t)!=dr)return!1;var r=hr(t);if(null===r)return!0;var e=br.call(r,"constructor")&&r.constructor;return"function"==typeof e&&e instanceof e&&mr.call(e)==yr}var Cr="[object DOMException]",_r="[object Error]";function wr(t){if(!C(t))return!1;var r=v(t);return r==_r||r==Cr||"string"==typeof t.message&&"string"==typeof t.name&&!vr(t)}var Mr=bt((function(t,r){try{return X(t,void 0,r)}catch(t){return wr(t)?t:new Error(t)}}));const jr=Mr;function kr(t){var r=this.__data__=new ar(t);this.size=r.size}kr.prototype.clear=function(){this.__data__=new ar,this.size=0},kr.prototype.delete=function(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e},kr.prototype.get=function(t){return this.__data__.get(t)},kr.prototype.has=function(t){return this.__data__.has(t)},kr.prototype.set=function(t,r){var e=this.__data__;if(e instanceof ar){var o=e.__data__;if(!lr||o.length<199)return o.push([t,r]),this.size=++e.size,this;e=this.__data__=new cr(o)}return e.set(t,r),this.size=e.size,this};var Ar="object"==typeof exports&&exports&&!exports.nodeType&&exports,Or=Ar&&"object"==typeof module&&module&&!module.nodeType&&module,Sr=Or&&Or.exports===Ar?c.Buffer:void 0,Rr=Sr?Sr.allocUnsafe:void 0;function Pr(){return[]}var xr=Object.prototype.propertyIsEnumerable,Tr=Object.getOwnPropertySymbols,Ir=Tr?function(t){return null==t?[]:(t=Object(t),function(t,r){for(var e=-1,o=null==t?0:t.length,n=0,i=[];++e<o;){var a=t[e];r(a,e,t)&&(i[n++]=a)}return i}(Tr(t),(function(r){return xr.call(t,r)})))}:Pr;const Dr=Ir;var Er=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)fr(r,Dr(t)),t=hr(t);return r}:Pr;const Br=Er;function zr(t,r,e){var o=r(t);return j(t)?o:fr(o,e(t))}function Nr(t){return zr(t,Jt,Dr)}function Fr(t){return zr(t,Kt,Br)}const Ur=Y(c,"DataView");const Lr=Y(c,"Promise");const qr=Y(c,"Set");var $r="[object Map]",Gr="[object Promise]",Wr="[object Set]",Vr="[object WeakMap]",Jr="[object DataView]",Yr=U(Ur),Hr=U(lr),Kr=U(Lr),Qr=U(qr),Zr=U(H),Xr=v;(Ur&&Xr(new Ur(new ArrayBuffer(1)))!=Jr||lr&&Xr(new lr)!=$r||Lr&&Xr(Lr.resolve())!=Gr||qr&&Xr(new qr)!=Wr||H&&Xr(new H)!=Vr)&&(Xr=function(t){var r=v(t),e="[object Object]"==r?t.constructor:void 0,o=e?U(e):"";if(o)switch(o){case Yr:return Jr;case Hr:return $r;case Kr:return Gr;case Qr:return Wr;case Zr:return Vr}return r});const te=Xr;var re=Object.prototype.hasOwnProperty;const ee=c.Uint8Array;function oe(t){var r=new t.constructor(t.byteLength);return new ee(r).set(new ee(t)),r}var ne=/\w*$/;var ie=u?u.prototype:void 0,ae=ie?ie.valueOf:void 0;var le="[object Boolean]",se="[object Date]",ce="[object Map]",ue="[object Number]",fe="[object RegExp]",he="[object Set]",de="[object String]",pe="[object Symbol]",ge="[object ArrayBuffer]",me="[object DataView]",be="[object Float32Array]",ye="[object Float64Array]",ve="[object Int8Array]",Ce="[object Int16Array]",_e="[object Int32Array]",we="[object Uint8Array]",Me="[object Uint8ClampedArray]",je="[object Uint16Array]",ke="[object Uint32Array]";function Ae(t,r,e){var o,n,i,a=t.constructor;switch(r){case ge:return oe(t);case le:case se:return new a(+t);case me:return function(t,r){var e=r?oe(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case be:case ye:case ve:case Ce:case _e:case we:case Me:case je:case ke:return function(t,r){var e=r?oe(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}(t,e);case ce:return new a;case ue:case de:return new a(t);case fe:return(i=new(n=t).constructor(n.source,ne.exec(n))).lastIndex=n.lastIndex,i;case he:return new a;case pe:return o=t,ae?Object(ae.call(o)):{}}}var Oe=Nt&&Nt.isMap;const Se=Oe?Dt(Oe):function(t){return C(t)&&"[object Map]"==te(t)};var Re=Nt&&Nt.isSet;const Pe=Re?Dt(Re):function(t){return C(t)&&"[object Set]"==te(t)};var xe=1,Te=2,Ie=4,De="[object Arguments]",Ee="[object Function]",Be="[object GeneratorFunction]",ze="[object Object]",Ne={};function Fe(t,r,e,o,n,i){var a,l=r&xe,s=r&Te,c=r&Ie;if(e&&(a=n?e(t,o,n,i):e(t)),void 0!==a)return a;if(!R(t))return t;var u=j(t);if(u){if(a=function(t){var r=t.length,e=new t.constructor(r);return r&&"string"==typeof t[0]&&re.call(t,"index")&&(e.index=t.index,e.input=t.input),e}(t),!l)return function(t,r){var e=-1,o=t.length;for(r||(r=Array(o));++e<o;)r[e]=t[e];return r}(t,a)}else{var f=te(t),h=f==Ee||f==Be;if(Tt(t))return function(t,r){if(r)return t.slice();var e=t.length,o=Rr?Rr(e):new t.constructor(e);return t.copy(o),o}(t,l);if(f==ze||f==De||h&&!n){if(a=s||h?{}:function(t){return"function"!=typeof t.constructor||Mt(t)?{}:Z(hr(t))}(t),!l)return s?function(t,r){return gt(t,Br(t),r)}(t,function(t,r){return t&&gt(r,Kt(r),t)}(a,t)):function(t,r){return gt(t,Dr(t),r)}(t,function(t,r){return t&&gt(r,Jt(r),t)}(a,t))}else{if(!Ne[f])return n?t:{};a=Ae(t,f,l)}}i||(i=new kr);var d=i.get(t);if(d)return d;i.set(t,a),Pe(t)?t.forEach((function(o){a.add(Fe(o,r,e,o,t,i))})):Se(t)&&t.forEach((function(o,n){a.set(n,Fe(o,r,e,n,t,i))}));var p=u?void 0:(c?s?Fr:Nr:s?Kt:Jt)(t);return function(t,r){for(var e=-1,o=null==t?0:t.length;++e<o&&!1!==r(t[e],e,t););}(p||t,(function(o,n){p&&(o=t[n=o]),pt(a,n,Fe(o,r,e,n,t,i))})),a}Ne[De]=Ne["[object Array]"]=Ne["[object ArrayBuffer]"]=Ne["[object DataView]"]=Ne["[object Boolean]"]=Ne["[object Date]"]=Ne["[object Float32Array]"]=Ne["[object Float64Array]"]=Ne["[object Int8Array]"]=Ne["[object Int16Array]"]=Ne["[object Int32Array]"]=Ne["[object Map]"]=Ne["[object Number]"]=Ne[ze]=Ne["[object RegExp]"]=Ne["[object Set]"]=Ne["[object String]"]=Ne["[object Symbol]"]=Ne["[object Uint8Array]"]=Ne["[object Uint8ClampedArray]"]=Ne["[object Uint16Array]"]=Ne["[object Uint32Array]"]=!0,Ne["[object Error]"]=Ne[Ee]=Ne["[object WeakMap]"]=!1;var Ue=4;function Le(t){return Fe(t,Ue)}function qe(t){var r=-1,e=null==t?0:t.length;for(this.__data__=new cr;++r<e;)this.add(t[r])}function $e(t,r){for(var e=-1,o=null==t?0:t.length;++e<o;)if(r(t[e],e,t))return!0;return!1}qe.prototype.add=qe.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},qe.prototype.has=function(t){return this.__data__.has(t)};var Ge=1,We=2;function Ve(t,r,e,o,n,i){var a=e&Ge,l=t.length,s=r.length;if(l!=s&&!(a&&s>l))return!1;var c=i.get(t),u=i.get(r);if(c&&u)return c==r&&u==t;var f=-1,h=!0,d=e&We?new qe:void 0;for(i.set(t,r),i.set(r,t);++f<l;){var p=t[f],g=r[f];if(o)var m=a?o(g,p,f,r,t,i):o(p,g,f,t,r,i);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!$e(r,(function(t,r){if(a=r,!d.has(a)&&(p===t||n(p,t,e,o,i)))return d.push(r);var a}))){h=!1;break}}else if(p!==g&&!n(p,g,e,o,i)){h=!1;break}}return i.delete(t),i.delete(r),h}function Je(t){var r=-1,e=Array(t.size);return t.forEach((function(t,o){e[++r]=[o,t]})),e}function Ye(t){var r=-1,e=Array(t.size);return t.forEach((function(t){e[++r]=t})),e}var He=1,Ke=2,Qe="[object Boolean]",Ze="[object Date]",Xe="[object Error]",to="[object Map]",ro="[object Number]",eo="[object RegExp]",oo="[object Set]",no="[object String]",io="[object Symbol]",ao="[object ArrayBuffer]",lo="[object DataView]",so=u?u.prototype:void 0,co=so?so.valueOf:void 0;var uo=1,fo=Object.prototype.hasOwnProperty;var ho=1,po="[object Arguments]",go="[object Array]",mo="[object Object]",bo=Object.prototype.hasOwnProperty;function yo(t,r,e,o,n,i){var a=j(t),l=j(r),s=a?go:te(t),c=l?go:te(r),u=(s=s==po?mo:s)==mo,f=(c=c==po?mo:c)==mo,h=s==c;if(h&&Tt(t)){if(!Tt(r))return!1;a=!0,u=!1}if(h&&!u)return i||(i=new kr),a||Ut(t)?Ve(t,r,e,o,n,i):function(t,r,e,o,n,i,a){switch(e){case lo:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case ao:return!(t.byteLength!=r.byteLength||!i(new ee(t),new ee(r)));case Qe:case Ze:case ro:return ht(+t,+r);case Xe:return t.name==r.name&&t.message==r.message;case eo:case no:return t==r+"";case to:var l=Je;case oo:var s=o&He;if(l||(l=Ye),t.size!=r.size&&!s)return!1;var c=a.get(t);if(c)return c==r;o|=Ke,a.set(t,r);var u=Ve(l(t),l(r),o,n,i,a);return a.delete(t),u;case io:if(co)return co.call(t)==co.call(r)}return!1}(t,r,s,e,o,n,i);if(!(e&ho)){var d=u&&bo.call(t,"__wrapped__"),p=f&&bo.call(r,"__wrapped__");if(d||p){var g=d?t.value():t,m=p?r.value():r;return i||(i=new kr),n(g,m,e,o,i)}}return!!h&&(i||(i=new kr),function(t,r,e,o,n,i){var a=e&uo,l=Nr(t),s=l.length;if(s!=Nr(r).length&&!a)return!1;for(var c=s;c--;){var u=l[c];if(!(a?u in r:fo.call(r,u)))return!1}var f=i.get(t),h=i.get(r);if(f&&h)return f==r&&h==t;var d=!0;i.set(t,r),i.set(r,t);for(var p=a;++c<s;){var g=t[u=l[c]],m=r[u];if(o)var b=a?o(m,g,u,r,t,i):o(g,m,u,t,r,i);if(!(void 0===b?g===m||n(g,m,e,o,i):b)){d=!1;break}p||(p="constructor"==u)}if(d&&!p){var y=t.constructor,v=r.constructor;y==v||!("constructor"in t)||!("constructor"in r)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(d=!1)}return i.delete(t),i.delete(r),d}(t,r,e,o,n,i))}function vo(t,r,e,o,n){return t===r||(null==t||null==r||!C(t)&&!C(r)?t!=t&&r!=r:yo(t,r,e,o,vo,n))}var Co;const _o=(Co={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(t){return null==Co?void 0:Co[t]});var wo=/[&<>"']/g,Mo=RegExp(wo.source);var jo=Object.prototype,ko=jo.hasOwnProperty;function Ao(t,r,e,o){return void 0===t||ht(t,jo[e])&&!ko.call(o,e)?r:t}var Oo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function So(t){return"\\"+Oo[t]}const Ro=/<%=([\s\S]+?)%>/g;const Po={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Ro,variable:"",imports:{_:{escape:function(t){return(t=ur(t))&&Mo.test(t)?t.replace(wo,_o):t}}}};var xo="Invalid `variable` option passed into `_.template`",To=/\b__p \+= '';/g,Io=/\b(__p \+=) '' \+/g,Do=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Eo=/[()=,{}\[\]\/\s]/,Bo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zo=/($^)/,No=/['\n\r\u2028\u2029\\]/g,Fo=Object.prototype.hasOwnProperty;function Uo(t,r,e){var o=Po.imports._.templateSettings||Po;e&&_t(t,r,e)&&(r=void 0),t=ur(t),r=Xt({},r,o,Ao);var n,i,a=Xt({},r.imports,o.imports,Ao),l=Jt(a),s=function(t,r){return M(r,(function(r){return t[r]}))}(a,l),c=0,u=r.interpolate||zo,f="__p += '",h=RegExp((r.escape||zo).source+"|"+u.source+"|"+(u===Ro?Bo:zo).source+"|"+(r.evaluate||zo).source+"|$","g"),d=Fo.call(r,"sourceURL")?"//# sourceURL="+(r.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(h,(function(r,e,o,a,l,s){return o||(o=a),f+=t.slice(c,s).replace(No,So),e&&(n=!0,f+="' +\n__e("+e+") +\n'"),l&&(i=!0,f+="';\n"+l+";\n__p += '"),o&&(f+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),c=s+r.length,r})),f+="';\n";var p=Fo.call(r,"variable")&&r.variable;if(p){if(Eo.test(p))throw new Error(xo)}else f="with (obj) {\n"+f+"\n}\n";f=(i?f.replace(To,""):f).replace(Io,"$1").replace(Do,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(n?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=jr((function(){return Function(l,d+"return "+f).apply(void 0,s)}));if(g.source=f,wr(g))throw g;return g}var Lo=0;function qo(t,r){return Uo(t)(r)}function $o(t){return function(t){var r=++Lo;return ur(t)+r}(t)}function Go(t,r){return vo(t,r)}function Wo(t,r){const e=new Set;return t.filter((t=>{const o=r.reduce(((r,e)=>`${r}&${e}=${t[e]}`),"");return!e.has(o)&&(e.add(o),!0)}))}async function Vo(t,r){return(0,i.default)(t,r)}function Jo(t){let r="";t=encodeURIComponent(t);for(let e=0;e<t.length;e++)"%"==t[e]?(r+=String.fromCharCode(parseInt(t.substring(e+1,e+3),16)),e+=2):r+=t[e];return r}function Yo(t){return null!==t&&"object"==typeof t}function Ho(t,r){Array.isArray(t)?t.forEach(((e,o)=>{r(t,o)})):Yo(t)&&Object.keys(t).forEach((e=>{r(t,e)}))}function Ko(t){return Le(t)}const Qo=t=>!("isConnected"in t)||t.isConnected,Zo=((t,r)=>{let e;return(...o)=>{e&&clearTimeout(e),e=setTimeout((()=>{e=0,t(...o)}),r)}})((t=>{for(let r of t.keys())t.set(r,t.get(r).filter(Qo))}),2e3),Xo=t=>"function"==typeof t?t():t,tn=(t,r)=>{const e=t.indexOf(r);e>=0&&(t[e]=t[t.length-1],t.length--)};var rn={exports:{}};function en(t,r,e,o){var n,i=null==(n=o)||"number"==typeof n||"boolean"==typeof n?o:e(o),a=r.get(i);return void 0===a&&(a=t.call(this,o),r.set(i,a)),a}function on(t,r,e){var o=Array.prototype.slice.call(arguments,3),n=e(o),i=r.get(n);return void 0===i&&(i=t.apply(this,o),r.set(n,i)),i}function nn(t,r,e,o,n){return e.bind(r,t,o,n)}function an(t,r){return nn(t,this,1===t.length?en:on,r.cache.create(),r.serializer)}function ln(){return JSON.stringify(arguments)}function sn(){this.cache=Object.create(null)}sn.prototype.has=function(t){return t in this.cache},sn.prototype.get=function(t){return this.cache[t]},sn.prototype.set=function(t,r){this.cache[t]=r};var cn={create:function(){return new sn}};rn.exports=function(t,r){var e=r&&r.cache?r.cache:cn,o=r&&r.serializer?r.serializer:ln;return(r&&r.strategy?r.strategy:an)(t,{cache:e,serializer:o})},rn.exports.strategies={variadic:function(t,r){return nn(t,this,on,r.cache.create(),r.serializer)},monadic:function(t,r){return nn(t,this,en,r.cache.create(),r.serializer)}};const un=rn.exports;function fn(t){const{customBaseUrl:r,portalHostname:e,urlKey:o}=t,{protocol:n}=window.location;return`${n}//${void 0!==o?`${o}.${r}`:e}`}function hn(t){const{helperServices:{rasterAnalytics:{url:r}},isPortal:e}=t;return e?r:r.replace("rasteranalysis","rasterutils")}function dn(t){return hn(t).replace("RasterAnalysisTools/GPServer","RasterRendering/ImageServer/validate")}function pn(t){return hn(t).replace("RasterAnalysisTools/GPServer","RasterRendering/ImageServer")}un((async t=>{const r=new n.default({url:t});r.authMode="immediate";try{await r.load()}catch(t){console.error(t)}return r}));const gn=un((async t=>{const{restUrl:r}=t,e=`${r}/portals/helpmap`;let o;try{const t=await Vo(e,{query:{f:"json"},responseType:"json",method:"auto"});o=await(t.data?.helpMap)??void 0}catch(t){o=void 0}return console.log(o),o}),{serializer:t=>`${t[0]}-${t[1]?.url}`});const mn=((t,r)=>{const e=((t,r=(t,r)=>t!==r)=>{const e=Xo(t);let o=new Map(Object.entries(null!=e?e:{}));const n={dispose:[],get:[],set:[],reset:[]},i=()=>{var r;o=new Map(Object.entries(null!==(r=Xo(t))&&void 0!==r?r:{})),n.reset.forEach((t=>t()))},a=t=>(n.get.forEach((r=>r(t))),o.get(t)),l=(t,e)=>{const i=o.get(t);r(e,i,t)&&(o.set(t,e),n.set.forEach((r=>r(t,e,i))))},s="undefined"==typeof Proxy?{}:new Proxy(e,{get:(t,r)=>a(r),ownKeys:t=>Array.from(o.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(t,r)=>o.has(r),set:(t,r,e)=>(l(r,e),!0)}),c=(t,r)=>(n[t].push(r),()=>{tn(n[t],r)});return{state:s,get:a,set:l,on:c,onChange:(r,e)=>{const o=c("set",((t,o)=>{t===r&&e(o)})),n=c("reset",(()=>e(Xo(t)[r])));return()=>{o(),n()}},use:(...t)=>{const r=t.reduce(((t,r)=>(r.set&&t.push(c("set",r.set)),r.get&&t.push(c("get",r.get)),r.reset&&t.push(c("reset",r.reset)),r.dispose&&t.push(c("dispose",r.dispose)),t)),[]);return()=>r.forEach((t=>t()))},dispose:()=>{n.dispose.forEach((t=>t())),i()},reset:i,forceUpdate:t=>{const r=o.get(t);n.set.forEach((e=>e(t,r,r)))}}})(t,r);return e.use((()=>{if("function"!=typeof o.d)return{};const t=new Map;return{dispose:()=>t.clear(),get:r=>{const e=(0,o.d)();e&&((t,r,e)=>{const o=t.get(r);o?o.includes(e)||o.push(e):t.set(r,[e])})(t,r,e)},set:r=>{const e=t.get(r);e&&t.set(r,e.filter(o.f)),Zo(t)},reset:()=>{t.forEach((t=>t.forEach(o.f))),Zo(t)}}})()),e})({portal:undefined,assetPath:undefined,coreStrings:undefined,selectedFileName:undefined,isRightToLeft:!1,rftId:undefined,canUpdateItem:!1,activeRFxTemplates:[],portalHelpMap:undefined,currentViewport:undefined}),bn=mn.state;mn.onChange("portal",(async t=>{void 0!==t&&t.isPortal&&(bn.portalHelpMap=await gn(t))}));const yn={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function vn(t,r,e){e<0&&++e,e>1&&--e;const o=6*e;return o<1?t+(r-t)*o:2*e<1?r:3*e<2?t+(r-t)*(2/3-e)*6:t}function Cn(){return[0,0,0]}function _n(t,r,e){return[t,r,e]}function wn(){return[0,0,0]}function Mn(){return _n(1,1,1)}function jn(){return _n(1,0,0)}function kn(){return _n(0,1,0)}function An(){return _n(0,0,1)}const On=[0,0,0],Sn=Mn(),Rn=jn(),Pn=kn(),xn=An();Object.freeze(Object.defineProperty({__proto__:null,ONES:Sn,UNIT_X:Rn,UNIT_Y:Pn,UNIT_Z:xn,ZEROS:On,clone:function(t){return[t[0],t[1],t[2]]},create:Cn,createView:function(t,r){return new Float64Array(t,r,3)},fromArray:function(t){const r=[0,0,0],e=Math.min(3,t.length);for(let o=0;o<e;++o)r[o]=t[o];return r},fromValues:_n,ones:Mn,unitX:jn,unitY:kn,unitZ:An,zeros:wn},Symbol.toStringTag,{value:"Module"}));let Tn=1e-6;function In(){return Tn}const Dn=Math.random,En=Math.PI/180,Bn=180/Math.PI;function zn(t){const r=t[0],e=t[1],o=t[2];return Math.sqrt(r*r+e*e+o*o)}function Nn(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function Fn(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function Un(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t}function Ln(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t}function qn(t,r){const e=r[0]-t[0],o=r[1]-t[1],n=r[2]-t[2];return Math.sqrt(e*e+o*o+n*n)}function $n(t,r){const e=r[0]-t[0],o=r[1]-t[1],n=r[2]-t[2];return e*e+o*o+n*n}function Gn(t){const r=t[0],e=t[1],o=t[2];return r*r+e*e+o*o}function Wn(t,r){const e=r[0],o=r[1],n=r[2];let i=e*e+o*o+n*n;return i>0&&(i=1/Math.sqrt(i),t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i),t}function Vn(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:Dn,equals:function(t,r){return Math.abs(t-r)<=Tn*Math.max(1,Math.abs(t),Math.abs(r))},getEpsilon:In,setEpsilon:function(t){Tn=t},toDegree:function(t){return t*Bn},toRadian:function(t){return t*En}},Symbol.toStringTag,{value:"Module"}));const Jn=[0,0,0],Yn=[0,0,0];const Hn=Fn,Kn=Un,Qn=Ln,Zn=qn,Xn=$n,ti=zn,ri=Gn;function ei(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function oi(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t[3]=r[3]*e[3],t}function ni(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t[3]=r[3]/e[3],t}function ii(t,r){const e=r[0]-t[0],o=r[1]-t[1],n=r[2]-t[2],i=r[3]-t[3];return Math.sqrt(e*e+o*o+n*n+i*i)}function ai(t,r){const e=r[0]-t[0],o=r[1]-t[1],n=r[2]-t[2],i=r[3]-t[3];return e*e+o*o+n*n+i*i}function li(t){const r=t[0],e=t[1],o=t[2],n=t[3];return Math.sqrt(r*r+e*e+o*o+n*n)}function si(t){const r=t[0],e=t[1],o=t[2],n=t[3];return r*r+e*e+o*o+n*n}Object.freeze(Object.defineProperty({__proto__:null,abs:function(t,r){return t[0]=Math.abs(r[0]),t[1]=Math.abs(r[1]),t[2]=Math.abs(r[2]),t},add:function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t},angle:function(t,r){Nn(Jn,t),Nn(Yn,r),Wn(Jn,Jn),Wn(Yn,Yn);const e=Vn(Jn,Yn);return e>1?0:e<-1?Math.PI:Math.acos(e)},bezier:function(t,r,e,o,n,i){const a=1-i,l=a*a,s=i*i,c=l*a,u=3*i*l,f=3*s*a,h=s*i;return t[0]=r[0]*c+e[0]*u+o[0]*f+n[0]*h,t[1]=r[1]*c+e[1]*u+o[1]*f+n[1]*h,t[2]=r[2]*c+e[2]*u+o[2]*f+n[2]*h,t},ceil:function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t},copy:Nn,cross:function(t,r,e){const o=r[0],n=r[1],i=r[2],a=e[0],l=e[1],s=e[2];return t[0]=n*s-i*l,t[1]=i*a-o*s,t[2]=o*l-n*a,t},direction:function(t,r,e){const o=e[0]-r[0],n=e[1]-r[1],i=e[2]-r[2];let a=o*o+n*n+i*i;return a>0?(a=1/Math.sqrt(a),t[0]=o*a,t[1]=n*a,t[2]=i*a,t):(t[0]=0,t[1]=0,t[2]=0,t)},dist:Zn,distance:qn,div:Qn,divide:Ln,dot:Vn,equals:function(t,r){if(t===r)return!0;const e=t[0],o=t[1],n=t[2],i=r[0],a=r[1],l=r[2],s=In();return Math.abs(e-i)<=s*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(o-a)<=s*Math.max(1,Math.abs(o),Math.abs(a))&&Math.abs(n-l)<=s*Math.max(1,Math.abs(n),Math.abs(l))},exactEquals:function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]},floor:function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t},hermite:function(t,r,e,o,n,i){const a=i*i,l=a*(2*i-3)+1,s=a*(i-2)+i,c=a*(i-1),u=a*(3-2*i);return t[0]=r[0]*l+e[0]*s+o[0]*c+n[0]*u,t[1]=r[1]*l+e[1]*s+o[1]*c+n[1]*u,t[2]=r[2]*l+e[2]*s+o[2]*c+n[2]*u,t},inverse:function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t},len:ti,length:zn,lerp:function(t,r,e,o){const n=r[0],i=r[1],a=r[2];return t[0]=n+o*(e[0]-n),t[1]=i+o*(e[1]-i),t[2]=a+o*(e[2]-a),t},max:function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t},min:function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t},mul:Kn,multiply:Un,negate:function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t},normalize:Wn,random:function(t,r){r=r||1;const e=Dn,o=2*e()*Math.PI,n=2*e()-1,i=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(o)*i,t[1]=Math.sin(o)*i,t[2]=n*r,t},rotateX:function(t,r,e,o){const n=[],i=[];return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],i[0]=n[0],i[1]=n[1]*Math.cos(o)-n[2]*Math.sin(o),i[2]=n[1]*Math.sin(o)+n[2]*Math.cos(o),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},rotateY:function(t,r,e,o){const n=[],i=[];return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],i[0]=n[2]*Math.sin(o)+n[0]*Math.cos(o),i[1]=n[1],i[2]=n[2]*Math.cos(o)-n[0]*Math.sin(o),t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},rotateZ:function(t,r,e,o){const n=[],i=[];return n[0]=r[0]-e[0],n[1]=r[1]-e[1],n[2]=r[2]-e[2],i[0]=n[0]*Math.cos(o)-n[1]*Math.sin(o),i[1]=n[0]*Math.sin(o)+n[1]*Math.cos(o),i[2]=n[2],t[0]=i[0]+e[0],t[1]=i[1]+e[1],t[2]=i[2]+e[2],t},round:function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t},scale:function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t},scaleAndAdd:function(t,r,e,o){return t[0]=r[0]+e[0]*o,t[1]=r[1]+e[1]*o,t[2]=r[2]+e[2]*o,t},set:function(t,r,e,o){return t[0]=r,t[1]=e,t[2]=o,t},sign:function(t,r){return t[0]=Math.sign(r[0]),t[1]=Math.sign(r[1]),t[2]=Math.sign(r[2]),t},sqrDist:Xn,sqrLen:ri,squaredDistance:$n,squaredLength:Gn,str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},sub:Hn,subtract:Fn,transformMat3:function(t,r,e){const o=r[0],n=r[1],i=r[2];return t[0]=o*e[0]+n*e[3]+i*e[6],t[1]=o*e[1]+n*e[4]+i*e[7],t[2]=o*e[2]+n*e[5]+i*e[8],t},transformMat4:function(t,r,e){const o=r[0],n=r[1],i=r[2];return t[0]=e[0]*o+e[4]*n+e[8]*i+e[12],t[1]=e[1]*o+e[5]*n+e[9]*i+e[13],t[2]=e[2]*o+e[6]*n+e[10]*i+e[14],t},transformQuat:function(t,r,e){const o=e[0],n=e[1],i=e[2],a=e[3],l=r[0],s=r[1],c=r[2];let u=n*c-i*s,f=i*l-o*c,h=o*s-n*l,d=n*h-i*f,p=i*u-o*h,g=o*f-n*u;const m=2*a;return u*=m,f*=m,h*=m,d*=2,p*=2,g*=2,t[0]=l+u+d,t[1]=s+f+p,t[2]=c+h+g,t}},Symbol.toStringTag,{value:"Module"}));const ci=ei,ui=oi,fi=ni,hi=ii,di=ai,pi=li,gi=si;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t},ceil:function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t},copy:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},dist:hi,distance:ii,div:fi,divide:ni,dot:function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]},equals:function(t,r){const e=t[0],o=t[1],n=t[2],i=t[3],a=r[0],l=r[1],s=r[2],c=r[3],u=In();return Math.abs(e-a)<=u*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(o-l)<=u*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(n-s)<=u*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-c)<=u*Math.max(1,Math.abs(i),Math.abs(c))},exactEquals:function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]},floor:function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t},inverse:function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t},len:pi,length:li,lerp:function(t,r,e,o){const n=r[0],i=r[1],a=r[2],l=r[3];return t[0]=n+o*(e[0]-n),t[1]=i+o*(e[1]-i),t[2]=a+o*(e[2]-a),t[3]=l+o*(e[3]-l),t},max:function(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t[3]=Math.max(r[3],e[3]),t},min:function(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t[3]=Math.min(r[3],e[3]),t},mul:ui,multiply:oi,negate:function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t},normalize:function(t,r){const e=r[0],o=r[1],n=r[2],i=r[3];let a=e*e+o*o+n*n+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e*a,t[1]=o*a,t[2]=n*a,t[3]=i*a),t},random:function(t,r){const e=Dn;let o,n,i,a,l,s;r=r||1;do{o=2*e()-1,n=2*e()-1,l=o*o+n*n}while(l>=1);do{i=2*e()-1,a=2*e()-1,s=i*i+a*a}while(s>=1);const c=Math.sqrt((1-l)/s);return t[0]=r*o,t[1]=r*n,t[2]=r*i*c,t[3]=r*a*c,t},round:function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t},scale:function(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t},scaleAndAdd:function(t,r,e,o){return t[0]=r[0]+e[0]*o,t[1]=r[1]+e[1]*o,t[2]=r[2]+e[2]*o,t[3]=r[3]+e[3]*o,t},set:function(t,r,e,o,n){return t[0]=r,t[1]=e,t[2]=o,t[3]=n,t},sqrDist:di,sqrLen:gi,squaredDistance:ai,squaredLength:si,str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},sub:ci,subtract:ei,transformMat4:function(t,r,e){const o=r[0],n=r[1],i=r[2],a=r[3];return t[0]=e[0]*o+e[4]*n+e[8]*i+e[12]*a,t[1]=e[1]*o+e[5]*n+e[9]*i+e[13]*a,t[2]=e[2]*o+e[6]*n+e[10]*i+e[14]*a,t[3]=e[3]*o+e[7]*n+e[11]*i+e[15]*a,t},transformQuat:function(t,r,e){const o=r[0],n=r[1],i=r[2],a=e[0],l=e[1],s=e[2],c=e[3],u=c*o+l*i-s*n,f=c*n+s*o-a*i,h=c*i+a*n-l*o,d=-a*o-l*n-s*i;return t[0]=u*c+d*-a+f*-s-h*-l,t[1]=f*c+d*-l+h*-a-u*-s,t[2]=h*c+d*-s+u*-l-f*-a,t[3]=r[3],t}},Symbol.toStringTag,{value:"Module"}));const mi=new Float32Array(1);const bi=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));const yi=BigInt("1000000");let vi;function Ci(t){return"function"==typeof vi[t]?vi[t]=vi[t](globalThis):vi[t]}function _i(t){if(!t||"object"!=typeof t||"function"==typeof t)return t;const r=function(t){if(function(t){return"Int8Array"===t?.constructor?.name}(t)||function(t){return"Uint8Array"===t?.constructor?.name}(t)||function(t){return"Uint8ClampedArray"===t?.constructor?.name}(t)||function(t){return"Int16Array"===t?.constructor?.name}(t)||function(t){return"Uint16Array"===t?.constructor?.name}(t)||function(t){return"Int32Array"===t?.constructor?.name}(t)||function(t){return"Uint32Array"===t?.constructor?.name}(t)||function(t){return"Float32Array"===t?.constructor?.name}(t)||function(t){return"Float64Array"===t?.constructor?.name}(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const r=new Map;for(const[e,o]of t)r.set(e,_i(o));return r}if(t instanceof Set){const r=new Set;for(const e of t)r.add(_i(e));return r}return null}(t);if(null!=r)return r;if(function(t){return"function"==typeof t.clone}(t))return t.clone();if(function(t){return"function"==typeof t.map&&"function"==typeof t.forEach}(t))return t.map(_i);if(function(t){return"function"==typeof t.notifyChange&&"function"==typeof t.watch}(t))return t.clone();const e={};for(const r of Object.getOwnPropertyNames(t))e[r]=_i(t[r]);return e}function wi(t,r,e){return r?Object.keys(r).reduce(((t,o)=>{let n=t[o],i=r[o];return n===i?t:void 0===n?(t[o]=_i(i),t):(Array.isArray(i)||Array.isArray(t)?(n=n?Array.isArray(n)?t[o]=n.concat():t[o]=[n]:t[o]=[],i&&(Array.isArray(i)||(i=[i]),e?i.forEach((t=>{n.includes(t)||n.push(t)})):t[o]=i.concat())):i&&"object"==typeof i?t[o]=wi(n,i,e):t.hasOwnProperty(o)&&!r.hasOwnProperty(o)||(t[o]=i),t)}),t||{}):t}!function(t){const r=function(t){return bi.setFloat64(0,t),bi.getBigInt64(0)}(t=Math.abs(t)),e=function(t){return bi.setBigInt64(0,t),bi.getFloat64(0)}(r<=yi?yi:r-yi);Math.abs(t-e)}(1),function(t){mi[0]=t,mi[0]}(34028234663852886e22),vi=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},Ci.add=(t,r,e,o)=>((o||void 0===vi[t])&&(vi[t]=r),e&&Ci(t)),Ci.cache=vi,Ci.add("esri-deprecation-warnings",!0),Ci.add("esri-force-fullscreen-debug",!1),(()=>{Ci.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const t="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(Ci.add("host-browser",t),Ci.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),Ci.add("dom",t),Ci("host-browser")){const t=navigator,r=t.userAgent,e=t.appVersion,o=parseFloat(e);if(Ci.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),Ci.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),Ci.add("khtml",e.includes("Konqueror")?o:void 0),Ci.add("edge",parseFloat(r.split("Edge/")[1])||void 0),Ci.add("opr",parseFloat(r.split("OPR/")[1])||void 0),Ci.add("webkit",!Ci("wp")&&!Ci("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),Ci.add("chrome",!Ci("edge")&&!Ci("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),Ci.add("android",!Ci("wp")&&parseFloat(r.split("Android ")[1])||void 0),Ci.add("safari",!e.includes("Safari")||Ci("wp")||Ci("chrome")||Ci("android")||Ci("edge")||Ci("opr")?void 0:parseFloat(e.split("Version/")[1])),Ci.add("mac",e.includes("Macintosh")),!Ci("wp")&&/(iPhone|iPod|iPad)/.test(r)){const t=RegExp.$1.replace(/P/,"p"),e=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",o=parseFloat(e.replace(/_/,".").replaceAll("_",""));Ci.add(t,o),Ci.add("ios",o)}Ci("webkit")||(!r.includes("Gecko")||Ci("wp")||Ci("khtml")||Ci("edge")||Ci.add("mozilla",o),Ci("mozilla")&&Ci.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const t=navigator.userAgent,r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),e=/iPhone/i.test(t);r&&Ci.add("esri-mobile",r),e&&Ci.add("esri-iPhone",e),Ci.add("esri-geolocation",!!navigator.geolocation)}Ci.add("esri-wasm","WebAssembly"in globalThis),Ci.add("esri-shared-array-buffer",(()=>{const t="SharedArrayBuffer"in globalThis,r=!1===globalThis.crossOriginIsolated;return t&&!r})),Ci.add("wasm-simd",(()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))),Ci.add("esri-atomics","Atomics"in globalThis),Ci.add("esri-workers","Worker"in globalThis),Ci.add("web-feat:cache","caches"in globalThis),Ci.add("esri-workers-arraybuffer-transfer",!Ci("safari")||Number(Ci("safari"))>=12),Ci.add("workers-pool-size",8),Ci.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),Ci.add("featurelayer-simplify-payload-size-factors",[1,1,4]),Ci.add("featurelayer-animation-enabled",!0),Ci.add("featurelayer-snapshot-enabled",!0),Ci.add("featurelayer-snapshot-point-min-threshold",8e4),Ci.add("featurelayer-snapshot-point-max-threshold",4e5),Ci.add("featurelayer-snapshot-point-coverage",.1),Ci.add("featurelayer-advanced-symbols",!1),Ci.add("featurelayer-pbf",!0),Ci.add("featurelayer-pbf-statistics",!1),Ci.add("feature-layers-workers",!0),Ci.add("feature-polyline-generalization-factor",1),Ci.add("mapview-transitions-duration",200),Ci.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),Ci.add("mapserver-pbf-version-support",10.81),Ci.add("mapservice-popup-identify-max-tolerance",20),Ci.add("heatmap-allow-raster-fallback",!1),Ci.add("heatmap-force-raster",!1),Ci("host-webworker")||Ci("host-browser")&&(Ci.add("esri-csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),Ci.add("esri-image-decode",(()=>{if("decode"in new Image){const t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then((()=>{Ci.add("esri-image-decode",!0,!0,!0)})).catch((()=>{Ci.add("esri-image-decode",!1,!0,!0)}))}return!1})),Ci.add("esri-url-encodes-apostrophe",(()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")})))})();const Mi={analysisTheme:{accentColor:[255,127,0],textColor:"white"},apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!1,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(function(t,r,e=!1){wi(t,r,e)}(Mi,globalThis.esriConfig,!0),delete Mi.has),!Mi.assetsPath){{const t="4.27.0";Mi.assetsPath=`https://cdn.jsdelivr.net/npm/@arcgis/core@${t}-next.20230526/assets`}Mi.defaultAssetsPath=Mi.assetsPath}const ji={info:0,warn:1,error:2,none:3};class ki{constructor(t){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=t.level&&(this.level=t.level),null!=t.writer&&(this.writer=t.writer),this._module=t.module,ki._loggers.set(this.module,this);const r=this.module.lastIndexOf(".");-1!==r&&(this._parent=ki.getLogger(this.module.slice(0,r)))}get module(){return this._module}get parent(){return this._parent}error(...t){this._log("error","always",...t)}warn(...t){this._log("warn","always",...t)}info(...t){this._log("info","always",...t)}errorOnce(...t){this._log("error","once",...t)}warnOnce(...t){this._log("warn","once",...t)}infoOnce(...t){this._log("info","once",...t)}errorOncePerTick(...t){this._log("error","oncePerTick",...t)}warnOncePerTick(...t){this._log("warn","oncePerTick",...t)}infoOncePerTick(...t){this._log("info","oncePerTick",...t)}get test(){const t=this;return{loggedMessages:t._loggedMessages,clearLoggedWarnings:()=>t._loggedMessages.warn.clear()}}static get test(){return{resetLoggers(t=new Map){const r=ki._loggers;return ki._loggers=t,r},set throttlingDisabled(t){ki._throttlingDisabled=t}}}static getLogger(t){return t="string"!=typeof t?t.declaredClass:t,ki._loggers.get(t)||new ki({module:t})}_log(t,r,...e){if(this._matchLevel(t)){if("always"!==r&&!ki._throttlingDisabled){const o=this._argsToKey(e),n=this._loggedMessages[t].get(o);if("once"===r&&null!=n||"oncePerTick"===r&&n&&n>=ki._tickCounter)return;this._loggedMessages[t].set(o,ki._tickCounter),ki._scheduleTickCounterIncrement()}for(const r of Mi.log.interceptors)if(r(t,this.module,...e))return;this._inheritedWriter()(t,this.module,...e)}}_parentWithMember(t,r){let e=this;for(;null!=e;){const r=e[t];if(null!=r)return r;e=e.parent}return r}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(t,r,...e){console[t](`[${r}]`,...e)}_matchLevel(t){const r=Mi.log.level||"warn";return ji[this._parentWithMember("level",r)]<=ji[t]}_argsToKey(...t){return function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return r}(JSON.stringify(t,((t,r)=>"object"!=typeof r||Array.isArray(r)?r:"[Object]")))}static _scheduleTickCounterIncrement(){ki._tickCounterScheduled||(ki._tickCounterScheduled=!0,Promise.resolve().then((()=>{ki._tickCounter++,ki._tickCounterScheduled=!1})))}}function Ai(t){return function(t,r,e){return Math.min(Math.max(t,r),e)}(function(t){return null==t?t:Math.round(parseFloat(t))}(t),0,255)}function Oi(t,r,e){return t=Number(t),isNaN(t)?e:t<r?r:t>e?e:t}ki._loggers=new Map,ki._tickCounter=0,ki._tickCounterScheduled=!1,ki._throttlingDisabled=!1,ki.getLogger("esri.core.accessorSupport.ensureTypes");class Si{static blendColors(t,r,e,o=new Si){return o.r=Math.round(t.r+(r.r-t.r)*e),o.g=Math.round(t.g+(r.g-t.g)*e),o.b=Math.round(t.b+(r.b-t.b)*e),o.a=t.a+(r.a-t.a)*e,o._sanitize()}static fromRgb(t,r){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(e){const t=e[2].split(/\s*,\s*/),o=e[1];if("rgb"===o&&3===t.length||"rgba"===o&&4===t.length){const e=t[0];if("%"===e.charAt(e.length-1)){const e=t.map((t=>2.56*parseFloat(t)));return 4===t.length&&(e[3]=parseFloat(t[3])),Si.fromArray(e,r)}return Si.fromArray(t.map((t=>parseFloat(t))),r)}if("hsl"===o&&3===t.length||"hsla"===o&&4===t.length)return Si.fromArray(function(t,r,e,o=1){const n=(t%360+360)%360/360,i=e<=.5?e*(r+1):e+r-e*r,a=2*e-i;return[Math.round(255*vn(a,i,n+1/3)),Math.round(255*vn(a,i,n)),Math.round(255*vn(a,i,n-1/3)),o]}(parseFloat(t[0]),parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3])),r)}return null}static fromHex(t,r=new Si){if(4!==t.length&&7!==t.length||"#"!==t[0])return null;const e=4===t.length?4:8,o=(1<<e)-1;let n=Number("0x"+t.substr(1));return isNaN(n)?null:(["b","g","r"].forEach((t=>{const i=n&o;n>>=e,r[t]=4===e?17*i:i})),r.a=1,r)}static fromArray(t,r=new Si){return r._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(r.a)&&(r.a=1),r._sanitize()}static fromString(t,r){const e=function(t){return!!yn[t]||!!yn[t.toLowerCase()]}(t)?function(t){return yn[t]??yn[t.toLowerCase()]}(t):null;return e&&Si.fromArray(e,r)||Si.fromRgb(t,r)||Si.fromHex(t,r)}static fromJSON(t){return t&&new Si([t[0],t[1],t[2],t[3]/255])}static toUnitRGB(t){return null!=t?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return null!=t?[t.r/255,t.g/255,t.b/255,null!=t.a?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return"string"==typeof t?Si.fromString(t,this):Array.isArray(t)?Si.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof Si||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const t=this.r.toString(16),r=this.g.toString(16),e=this.b.toString(16);return`#${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}${e.length<2?"0"+e:e}`}toCss(t=!1){const r=this.r+", "+this.g+", "+this.b;return t?`rgba(${r}, ${this.a})`:`rgb(${r})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=Si.AlphaMode.ALWAYS){const r=Ai(this.r),e=Ai(this.g),o=Ai(this.b);return t===Si.AlphaMode.ALWAYS||1!==this.a?[r,e,o,Ai(255*this.a)]:[r,e,o]}clone(){return new Si(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return null!=t&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=Math.round(Oi(this.r,0,255)),this.g=Math.round(Oi(this.g,0,255)),this.b=Math.round(Oi(this.b,0,255)),this.a=Oi(this.a,0,1),this}_set(t,r,e,o){this.r=t,this.g=r,this.b=e,this.a=o}}Si.prototype.declaredClass="esri.Color",function(t){var r;(r=t.AlphaMode||(t.AlphaMode={}))[r.ALWAYS=0]="ALWAYS",r[r.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Si||(Si={}));const Ri=Si;function Pi(t){return"h"in t&&"s"in t&&"v"in t}function xi(t){return"l"in t&&"a"in t&&"b"in t}function Ti(t){return"l"in t&&"c"in t&&"h"in t}const Ii=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],Di=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function Ei(t,r){const e=[];let o,n;if(t[0].length!==r.length)throw new Error("dimensions do not match");const i=t.length,a=t[0].length;let l=0;for(o=0;o<i;o++){for(l=0,n=0;n<a;n++)l+=t[o][n]*r[n];e.push(l)}return e}function Bi(t){const r=[t.r/255,t.g/255,t.b/255].map((t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4)),e=Ei(Ii,r);return{x:100*e[0],y:100*e[1],z:100*e[2]}}function zi(t){const r=Ei(Di,[t.x/100,t.y/100,t.z/100]).map((t=>{const r=t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055;return Math.min(1,Math.max(r,0))}));return{r:Math.round(255*r[0]),g:Math.round(255*r[1]),b:Math.round(255*r[2])}}function Ni(t){const r=[t.x/95.047,t.y/100,t.z/108.883].map((t=>t>(6/29)**3?t**(1/3):1/3*(29/6)**2*t+4/29));return{l:116*r[1]-16,a:500*(r[0]-r[1]),b:200*(r[1]-r[2])}}function Fi(t){const r=t.l,e=[(r+16)/116+t.a/500,(r+16)/116,(r+16)/116-t.b/200].map((t=>t>6/29?t**3:3*(6/29)**2*(t-4/29)));return{x:95.047*e[0],y:100*e[1],z:108.883*e[2]}}function Ui(t){return function(t){const r=t.l,e=t.a,o=t.b,n=Math.sqrt(e*e+o*o);let i=Math.atan2(o,e);return i=i>0?i:i+2*Math.PI,{l:r,c:n,h:i}}(Ni(Bi(t)))}function Li(t){return zi(Fi(function(t){const r=t.l,e=t.c,o=t.h;return{l:r,a:e*Math.cos(o),b:e*Math.sin(o)}}(t)))}function qi(t){return function(t){return"r"in t&&"g"in t&&"b"in t}(t)?t:Ti(t)?Li(t):xi(t)?function(t){return zi(Fi(t))}(t):function(t){return"x"in t&&"y"in t&&"z"in t}(t)?zi(t):Pi(t)?function(t){const r=(t.h+360)%360/60,e=t.s/100,o=t.v/100*255,n=o*e,i=n*(1-Math.abs(r%2-1));let a;switch(Math.floor(r)){case 0:a={r:n,g:i,b:0};break;case 1:a={r:i,g:n,b:0};break;case 2:a={r:0,g:n,b:i};break;case 3:a={r:0,g:i,b:n};break;case 4:a={r:i,g:0,b:n};break;case 5:case 6:a={r:n,g:0,b:i};break;default:a={r:0,g:0,b:0}}return a.r=Math.round(a.r+o-n),a.g=Math.round(a.g+o-n),a.b=Math.round(a.b+o-n),a}(t):t}function $i(t){return Pi(t)?t:function(t){const r=t.r,e=t.g,o=t.b,n=Math.max(r,e,o),i=n-Math.min(r,e,o);let a=n,l=0===i?0:n===r?(e-o)/i%6:n===e?(o-r)/i+2:(r-e)/i+4,s=0===i?0:i/a;return l<0&&(l+=6),l*=60,s*=100,a*=100/255,{h:l,s,v:a}}(qi(t))}function Gi(t){return xi(t)?t:function(t){return Ni(Bi(t))}(qi(t))}function Wi(t){return Ti(t)?t:Ui(qi(t))}const Vi=[{id:"aspect",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"black-to-white",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blue-bright",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blue-light-to-dark",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blue-green-bright",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blue-green-light-to-dark",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brown-light-to-dark",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brown-to-blue-green-diverging-right",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brown-to-blue-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficient-bias",fromColor:[214,214,255],toColor:[0,57,148]},{id:"cold-to-hot-diverging",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"condition-number",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyan-to-purple",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyan-light-to-blue-dark",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors",fromColor:[255,235,214],toColor:[196,10,10]},{id:"gray-light-to-dark",fromColor:[219,219,219],toColor:[69,69,69]},{id:"green-bright",fromColor:[204,255,204],toColor:[14,204,14]},{id:"green-light-to-dark",fromColor:[220,245,233],toColor:[34,102,51]},{id:"green-to-blue",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orange-bright",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orange-light-to-dark",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partial-spectrum",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partial-spectrum-1-diverging",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partial-spectrum-2-diverging",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pink-to-yellow-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pink-to-yellow-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purple-bright",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purple-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purple-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purple-blue-bright",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purple-blue-light-to-dark",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purple-red-bright",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purple-red-light-to-dark",fromColor:[250,215,246],toColor:[143,17,57]},{id:"red-bright",fromColor:[255,204,204],toColor:[219,0,0]},{id:"red-light-to-dark",fromColor:[255,224,224],toColor:[143,10,10]},{id:"red-to-blue-diverging-bright",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"red-to-blue-diverging-dark",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"red-to-green",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"red-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"red-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrum-full-bright",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrum-full-dark",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrum-full-light",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"white-to-black",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellow-to-dark-red",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellow-to-green-to-dark-blue",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellow-to-red",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellow-green-bright",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellow-green-light-to-dark",fromColor:[215,240,175],toColor:[96,107,45]}],Ji=new class{constructor(t,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=t,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(t),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=t=>this.fromJSON(t),this.write=(t,r,e)=>{const o=this.toJSON(t);void 0!==o&&function(t,r,e){const o=t.split("."),n=o.pop(),i=function(t,r,e){let o=e;for(const e of t){if(null==o)return;if(!(e in o)){if(!r)return;o[e]={}}o=o[e]}return o}(o,!0,e);i&&n&&(i[n]=r)}(e,o,r)},this.write.isJSONMapWriter=!0}toJSON(t){if(null==t)return null;if(this._apiToJSON.hasOwnProperty(t)){const r=this._apiToJSON[t];return this._options.useNumericKeys?+r:r}return this._options.ignoreUnknown?void 0:t}fromJSON(t){return null!=t&&this._jsonToAPI.hasOwnProperty(t)?this._jsonToAPI[t]:this._options.ignoreUnknown?void 0:t}_invertMap(t){const r={};for(const e in t)r[t[e]]=e;return r}_getKeysSorted(t){const r=[];for(const e in t)r.push(e);return r.sort(),r}}({Aspect:"aspect","Black to White":"black-to-white","Blue Bright":"blue-bright","Blue Light to Dark":"blue-light-to-dark","Blue-Green Bright":"blue-green-bright","Blue-Green Light to Dark":"blue-green-light-to-dark","Brown Light to Dark":"brown-light-to-dark","Brown to Blue Green Diverging, Bright":"brown-to-blue-green-diverging-right","Brown to Blue Green Diverging, Dark":"brown-to-blue-green-diverging-dark","Coefficient Bias":"coefficient-bias","Cold to Hot Diverging":"cold-to-hot-diverging","Condition Number":"condition-number","Cyan to Purple":"cyan-to-purple","Cyan-Light to Blue-Dark":"cyan-light-to-blue-dark",Distance:"distance","Elevation #1":"elevation1","Elevation #2":"elevation2",Errors:"errors","Gray Light to Dark":"gray-light-to-dark","Green Bright":"green-bright","Green Light to Dark":"green-light-to-dark","Green to Blue":"green-to-blue","Orange Bright":"orange-bright","Orange Light to Dark":"orange-light-to-dark","Partial Spectrum":"partial-spectrum","Partial Spectrum 1 Diverging":"partial-spectrum-1-diverging","Partial Spectrum 2 Diverging":"partial-spectrum-2-diverging","Pink to YellowGreen Diverging, Bright":"pink-to-yellow-green-diverging-bright","Pink to YellowGreen Diverging, Dark":"pink-to-yellow-green-diverging-dark",Precipitation:"precipitation",Prediction:"prediction","Purple Bright":"purple-bright","Purple to Green Diverging, Bright":"purple-to-green-diverging-bright","Purple to Green Diverging, Dark":"purple-to-green-diverging-dark","Purple-Blue Bright":"purple-blue-bright","Purple-Blue Light to Dark":"purple-blue-light-to-dark","Purple-Red Bright":"purple-red-bright","Purple-Red Light to Dark":"purple-red-light-to-dark","Red Bright":"red-bright","Red Light to Dark":"red-light-to-dark","Red to Blue Diverging, Bright":"red-to-blue-diverging-bright","Red to Blue Diverging, Dark":"red-to-blue-diverging-dark","Red to Green":"red-to-green","Red to Green Diverging, Bright":"red-to-green-diverging-bright","Red to Green Diverging, Dark":"red-to-green-diverging-dark",Slope:"slope","Spectrum-Full Bright":"spectrum-full-bright","Spectrum-Full Dark":"spectrum-full-dark","Spectrum-Full Light":"spectrum-full-light",Surface:"surface",Temperature:"temperature","White to Black":"white-to-black","Yellow to Dark Red":"yellow-to-dark-red","Yellow to Green to Dark Blue":"yellow-to-green-to-dark-blue","Yellow to Red":"yellow-to-red","Yellow-Green Bright":"yellow-green-bright","Yellow-Green Light to Dark":"yellow-green-light-to-dark"});function Yi(t,r){if(!t||!r||t.length!==r.length)return!1;for(let e=0;e<t.length;e++)if(t[e]>r[e]+2||t[e]<r[e]-2)return!1;return!0}function Hi(t){const r=t.clone();return r.fromColor=t.toColor,r.toColor=t.fromColor,r.algorithm=t.algorithm,r}function Ki(t,r){if(!t)return;const e=r??Vi;let o=null;return"algorithmic"===t.type?e.some((r=>{if(Yi(t.fromColor.toRgb(),r.fromColor)&&Yi(t.toColor.toRgb(),r.toColor))return o=r.id,!0})):"multipart"===t.type&&e.some((r=>{const e=t.colorRamps,n=r.colorRamps;if(e&&n&&e.length===n.length&&!n.some(((t,r)=>{if(!Yi(e[r].fromColor.toRgb(),new Ri(t.fromColor).toRgb())||!Yi(e[r].toColor.toRgb(),new Ri(t.toColor).toRgb()))return!0}))){if(o)return!0;o=r.id}})),o}function Qi(t,r){if(!t)return;let e=Ki(t,r);return null==e&&(e=Ki(t=function(t){if("multipart"===t.type){const r=t.clone();return r.colorRamps?.length?(r.colorRamps=r.colorRamps.reverse().map((t=>Hi(t))),r):r}return Hi(t)}(t),r)),e}function Zi(t){const r=(t=t||{}).numColors||256,e=t.distanceOffset||0,o=null!=t.isCustomInterval?t.isCustomInterval:null!==t.distanceInterval&&t.distanceInterval!==1/(r-1),n=t.distanceInterval||1/(r-1);return{...t,numColors:r,distanceOffset:e,interpolateAlpha:!!t.interpolateAlpha,distanceInterval:n,isCustomInterval:o,weights:t.weights}}function Xi(t,r){let{fromColor:e,toColor:o}=t;e=[...e],o=[...o],3===e.length&&(e=e.concat([255])),3===o.length&&(o=o.concat([255]));const n=t.algorithm||"esriCIELabAlgorithm",i=Zi(r),{numColors:a,distanceOffset:l,isCustomInterval:s,interpolateAlpha:c}=i;if(1===a&&0===l)return[e];if(2===a&&0===l&&!s)return[e,o];const u={r:e[0],g:e[1],b:e[2]},f={r:o[0],g:o[1],b:o[2]},h="esriCIELabAlgorithm"===n?function(t,r,e){const{numColors:o,distanceOffset:n,distanceInterval:i,isCustomInterval:a}=e;let{l,a:s,b:c}=t;const u=(r.l-l)*i,f=(r.a-s)*i,h=(r.b-c)*i,d=[];if(n){const t=n/i;l+=t*u,s+=t*f,c+=t*h}for(let t=0;t<o-1;t++)d.push({l,a:s,b:c}),l+=u,s+=f,c+=h;return d.push(a?{l,a:s,b:c}:r),d}(Gi(u),Gi(f),i):"esriHSVAlgorithm"===n?function(t,r,e){const{numColors:o,distanceOffset:n,distanceInterval:i,isCustomInterval:a}=e,l=0===t.s,s=0===r.s;let c=t.h,u=r.h;l&&!s?c=u:s&&!l&&(r={...r,h:c},u=c);let f,h=Math.abs(u-c);const d=360;h<180?f=(u-c)*i:(h=d-h,f=c>u?h*i:-h*i);const p=(r.s-t.s)*i,g=(r.v-t.v)*i;let{s:m,v:b}=t,y=c;if(n){const t=n/i;y=(y+t*f+d)%d,m+=t*p,b+=t*g}const v=[];for(let t=0;t<o-1;t++)v.push({h:y,s:m,v:b}),y=(y+f+d)%d,m+=p,b+=g;return v.push(a?{h:y,s:m,v:b}:r),v}($i(u),$i(f),i):function(t,r,e){const{numColors:o,distanceOffset:n,distanceInterval:i,isCustomInterval:a}=e,l=t.h,s=r.h,c=2*Math.PI;let u;if(l<=s){const t=s-l,r=s-l-c;u=Math.abs(r)<Math.abs(t)?r:t}else{const t=s+c-l,r=s-l;u=Math.abs(r)<Math.abs(t)?r:t}const f=u*i,h=(r.l-t.l)*i,d=(r.c-t.c)*i;let{l:p,c:g,h:m}=t;if(n){const t=n/i;p+=t*h,g+=t*d,m=(m+t*f+c)%c}const b=[];for(let t=0;t<o-1;t++)b.push({l:p,c:g,h:m}),p+=h,g+=d,m=(m+f+c)%c;return b.push(a?{l:p,c:g,h:m}:r),b}(Wi(u),Wi(f),i),d=[],p=e[3]??255,g=((o[3]??255)-p)/(a-1);for(let t=0;t<a;t++){const{r,g:e,b:o}=qi(h[t]),n=c?Math.round(p+g*t):255;d.push([r,e,o,n])}return d}function ta(t,r){const e="toJSON"in t?t.toJSON():t,o="multipart"===e.type?function(t,r){const{numColors:e,interpolateAlpha:o}=Zi(r);let n=r?.weights;const{colorRamps:i}=t;if(n){const t=n.reduce(((t,r)=>t+r));n=n.map((r=>r/t))}else{n=[];for(let t=0;t<i.length;t++)n[t]=1/i.length}const a=[];let l=0,s=0;const c=1/(e-1);let u=!1;for(let t=0;t<i.length;t++){let r=u?0:l*c-s,f=t===i.length-1?e-1-l:(n[t]-r)/c;if(u=Math.ceil(f)===f,f=Math.ceil(f),0===f)continue;r/=n[t];const h=Xi(i[t],{numColors:f,interpolateAlpha:o,distanceOffset:r,distanceInterval:c/n[t]});l+=h.length,a.push(...h),s+=n[t]}const f=[...i[i.length-1].toColor];return 3===f.length&&f.push(255),a.push(f),a}(e,r):Xi(e,r);return o}function ra(t,r){const e=ta(t,r),o=r?.interpolateAlpha;return e.forEach(((t,r)=>{t.unshift(r),o||t.pop()})),e}function ea(t){const r=$i(t);return{type:"HsvColor",Hue:r.h,Saturation:r.s,Value:r.v,AlphaValue:255}}function oa(t){const r=t.toJSON();return{Algorithm:r?.Algorithm||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:ea(t.fromColor),ToColor:ea(t.toColor)}}function na(t){const r=function(t){const r="string"==typeof t?t:Qi(t);return r?Ji.toJSON(r):null}(t);if(!r)return null;if("algorithmic"===t.type)return{...oa(t),Name:r};if(t.colorRamps){const e=t.colorRamps.map(oa);return{type:"MultiPartColorRamp",NumColorRamps:e.length,ArrayOfColorRamp:e,Name:r}}return null}}}]);