/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-tunnel_-3fd0b0.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-tunnel_-3fd0b0"],{25575:(e,t,r)=>{r.r(t),r.d(t,{arcgis_tunnel:()=>u,arcgis_user_avatar:()=>d});var a=r(20536),s=r(91102),i=r(37568),n=r(84873),o=r(80041);r(73807),r(34752),r(98034),r(99004),r(38973),r(44090),r(10699),r(25972),r(369),r(4009);const l={elements:new Map};function c(e){if(e.find((e=>{var t;return(null===(t=e.removedNodes)||void 0===t?void 0:t.length)&&"childList"===e.type})))for(const e of l.elements.keys())if(!e.parentNode||!(0,s.i)(e)){const t=l.elements.get(e);null==t||t.forEach((e=>e())),l.elements.delete(e)}}const u=class{constructor(e){(0,a.r)(this,e),this.moved=!1,this.cleanUp=()=>{var e;null===(e=this.tunnel)||void 0===e||e.remove()},this.reference=void 0,this.destination=document.body}createTunnel(){this.tunnel=document.createElement("div"),this.destination.append(this.tunnel),this.tunnel.appendChild(this.element),function(e,t){var r;if(e&&t)l.observer||(l.observer=new MutationObserver(c),l.observer.observe(document.querySelector("body"),{childList:!0,subtree:!0})),l.elements.set(e,[...null!==(r=l.elements.get(e))&&void 0!==r?r:[],t]),l.observer}(this.reference,this.cleanUp)}componentDidLoad(){this.createTunnel()}disconnectedCallback(){this.moved?this.tunnel.remove():this.moved=!0}render(){return(0,a.h)(a.H,{key:"ee65d5d6bbdd09831a9e29221992528b299c2157",ref:e=>this.element=e},(0,a.h)("slot",{key:"a8b67513ed3c85b640a6d5188e3ca929f65b7fda"}))}},d=class{constructor(e){(0,a.r)(this,e),this.user=void 0,this.portal=void 0,this.scale="m",this.showName=void 0,this.showAvatar=!0,this.heading=void 0,this.description=void 0,this.underline=void 0,this.username=void 0,this.wrap=void 0,this.checkOnline=void 0}async componentWillLoad(){const{el:e,portal:t,username:r,checkOnline:a}=this;this.lang=await(0,i.a)(e),r?this.user=await(0,o.f)(r,t,a):this.thumbnailUrl=(0,o.d)(this.user,t,this.checkOnline)}updateThumbnail(){this.thumbnailUrl=(0,o.d)(this.user,this.portal,this.checkOnline)}renderSkeleton(){return(0,a.h)("div",{class:"skeleton"},this.showAvatar&&(0,a.h)("div",{class:"skeleton-avatar"}),this.showName&&(0,a.h)("div",{class:"skeleton-name"}))}renderUser(){const{user:e,lang:t,thumbnailUrl:r,showAvatar:s,showName:i,description:l,scale:c,underline:u,heading:d}=this,{fullName:h,username:m}=e,v=(0,n.g)(e),p=!!l,g=((null==h?void 0:h.split(" "))||[]).slice(0,2).join(" "),f=this.wrap?"text--clamp":"text--ellipsis";return[s&&(0,a.h)("calcite-avatar",Object.assign({class:"avatar",scale:"xs"===c?"s":c,fullName:g,username:m,userId:v,thumbnail:r},i||p?{inert:!0}:{})),(i||p)&&(0,a.h)("span",{class:{text:!0,"text--underline":u,"text--no-avatar":!s}},i&&(0,a.h)("span",{class:{title:!0,"has-description":p,[f]:!0}},d||(0,o.g)(e,t)),p&&(0,a.h)("span",{class:{description:!0,[f]:!0}},l))]}render(){return(0,a.h)(a.H,{key:"c692cd94cc274e7b247ab7b29d88434838127c15"},this.user&&this.lang?this.renderUser():this.renderSkeleton())}get el(){return(0,a.d)(this)}static get watchers(){return{user:["updateThumbnail"]}}};d.style=":host{max-width:100%}.skeleton{display:flex}@keyframes pulse{50%{opacity:.5}}.skeleton{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;align-items:center}.skeleton-avatar{border-radius:100%;background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-size);height:var(--arcgis-user-avatar-size)}.skeleton-name{border-radius:var(--calcite-border-radius);background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-skeleton-width);border-radius:var(--arcgis-user-avatar-spacing);height:var(--arcgis-user-avatar-spacing);margin-inline-start:var(--arcgis-user-avatar-spacing)}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}.avatar{display:block;flex-shrink:0;flex-grow:0;border-radius:100%;background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-size);height:var(--arcgis-user-avatar-size)}.text{display:flex;min-width:0px;flex-direction:column;justify-content:center;color:var(--calcite-color-text-2);text-align:start;margin-inline-start:var(--arcgis-user-avatar-spacing);line-height:calc(var(--arcgis-user-avatar-size) / 2)}.text--no-avatar{margin-inline-start:0px}.-text-underline .title{text-decoration-line:underline}.text--clamp{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.text--ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.has-description{font-weight:500}.description{font-weight:400;color:var(--calcite-color-text-2)}:host{display:flex;min-width:0px;align-items:center}:host([scale=xs]){font-size:0.75rem;--arcgis-user-avatar-size:18px;--arcgis-user-avatar-spacing:0.25rem}:host([scale=xs]) .description{font-size:0.625rem;margin-top:-0.125rem}:host([scale=xs]) .text{line-height:1.35}:host([scale=s]){font-size:0.75rem;--arcgis-user-avatar-size:1.5rem;--arcgis-user-avatar-spacing:0.5rem;--arcgis-user-avatar-skeleton-width:4rem}:host([scale=s]) .description{font-size:0.625rem}:host([scale=m]){font-size:0.875rem;--arcgis-user-avatar-size:2rem;--arcgis-user-avatar-spacing:0.75rem;--arcgis-user-avatar-skeleton-width:5rem}:host([scale=m]) .description{font-size:0.75rem}:host([scale=l]){font-size:1rem;--arcgis-user-avatar-size:2.5rem;--arcgis-user-avatar-spacing:1rem;--arcgis-user-avatar-skeleton-width:6rem}:host([scale=l]) .description{font-size:0.875rem}"},96295:(e,t,r)=>{r.d(t,{H:()=>a,R:()=>s});const a='-typekeywords:("MapAreaPackage") -type:("Map Area" OR "Indoors Map Configuration" OR "Code Attachment")',s="Indoors Map Configuration,Code Attachment"},80041:(e,t,r)=>{r.d(t,{a:()=>u,b:()=>d,c:()=>h,d:()=>m,f:()=>c,g:()=>v});var a=r(38973),s=r(96295),i=r(25972),n=r(91102),o=r(369),l=r(4009);async function c(e,t,r){const s=`${r?"https://www.arcgis.com/sharing/rest/":(0,a.g)(t)}community/users/${e}`,n=(null==s?void 0:s.includes("www.arcgis.com"))&&t.isPortal?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,i.f)((async()=>{try{return await(0,i.r)(s,{},n)}catch(t){return{username:e}}}),"user",s)}async function u(e,t,r,a){var s,i;if("public_authoritative"===(null==e?void 0:e.contentStatus)||"public_authoritative"===(null===(s=e.sourceJSON)||void 0===s?void 0:s.contentStatus)){const s=await(0,l.f)(e,r,t,a);if(!s)return c(e.owner,t,a);const{description:o,name:u,thumbnail:d,url:h}=s;return{description:o?(0,n.s)(o):"",fullName:u,username:e.owner,thumbnail:d,id:e.orgId||(null===(i=e.portal)||void 0===i?void 0:i.id),url:h}}return c(e.owner,t,a)}async function d(e,t,r){const s=r?"https://www.arcgis.com/sharing/rest/":(0,a.g)(t),n=r?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,i.f)((async()=>(0,i.r)(`${s}community/groups`,{q:`(owner:"${e}")`,num:100},n)),"userGroups",e)}async function h(e,t,r){const n=r?"https://www.arcgis.com/sharing/rest/":(0,a.g)(t),o=r?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,i.f)((async()=>(await(0,i.r)(`${n}search`,{q:`(owner:"${e}") ${s.H}`,num:1},o)).total),"userItemsTotal",e)}function m(e,t,r=!1){if(null==e?void 0:e.thumbnailUrl)return e.thumbnailUrl;if(!(null==e?void 0:e.thumbnail))return null;if(e.thumbnail.startsWith("http"))return e.thumbnail;const s=(0,o.g)(t);return`${r?"https://www.arcgis.com/sharing/rest/":(0,a.g)(t)}community/users/${e.username}/info/${e.thumbnail}${s&&!r?`?token=${s}`:""}`}function v(e,t){const{fullName:r,firstName:a,lastName:s,username:i}=e;return r||(a&&s?"ja"===t?`${s} ${a}`:`${a} ${s}`:i)}},4009:(e,t,r)=>{r.d(t,{f:()=>i});var a=r(25972),s=r(91102);async function i(e,t,r,i){var n,o,l;const c=null!==(l=null!==(n=e.orgId)&&void 0!==n?n:null===(o=e.portal)||void 0===o?void 0:o.id)&&void 0!==l?l:null==r?void 0:r.id;return(0,a.f)((()=>async function(e,t,r,i,n){var o,l;const c=(null===(o=e.portal)||void 0===o?void 0:o.portalHostname)||(null==i?void 0:i.portalHostname)||(null===(l=null==i?void 0:i.restUrl)||void 0===l?void 0:l.replace("/sharing/rest","")),u=n?`https://www.arcgis.com/sharing/rest/portals/${t}`:`https://${c}/sharing/rest/portals/${t}`;if(!c&&!n)return null;const d=n?{disableIdentityLookup:!0,addTokenManually:!1}:{},h=await(0,a.r)(u,{},d),{urlKey:m,thumbnail:v,customBaseUrl:p}=h,g=`https://${m}.${p}/`,f=v?`${g}sharing/rest/portals/self/resources/${v}`:null;let w,b;try{const e=await(0,a.r)(`${u}/resources/localizedOrgProperties`,{start:1,num:100},d);if(e){const t=e[r]||e.default;w=t.name,b=t.description||e.description}}catch(e){}return{name:w||h.name,description:(0,s.a)(b||h.description),url:`${g}home/`,thumbnail:f}}(e,c,t,r,i)),"verified",c)}}}]);