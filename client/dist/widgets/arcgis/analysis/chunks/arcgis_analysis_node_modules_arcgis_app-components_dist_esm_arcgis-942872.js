/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-942872.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-942872"],{99004:(e,t,r)=>{r.d(t,{c:()=>n,g:()=>i});var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},74812:(e,t,r)=>{r.r(t),r.d(t,{arcgis_member_browser_filter_app:()=>u});var n=r(20536),i=r(9055),o=r(44090),s=r(68537),l=r(33198),a=r(39489);r(10699),r(78231),r(98034),r(99004),r(38973),r(25972),r(369),r(91589),r(91102),r(73807);const u=class{constructor(e){(0,n.r)(this,e),this.arcgisMemberBrowserFilter=(0,n.c)(this,"arcgisMemberBrowserFilter",7),this.loadApps=async()=>{const{user:e,portal:t}=null!==o.c&&void 0!==o.c?o.c:{};!this.apps&&e&&t&&(0,s.l)(e)&&(this.apps=await(0,l.g)(t))},this.app=void 0,this.expanded=void 0,this.apps=void 0,this.searchTerm=""}componentWillLoad(){this.store=(0,i.g)(this.el),this.i18n=this.store.state.i18n.filterApp}async componentDidLoad(){this.loadApps(),(0,o.o)("user",this.loadApps),(0,o.o)("portal",this.loadApps),(0,a.a)("app",this.store,(()=>this.app=null))}getEventDetail(){const{app:e}=this;return e?{id:"app",param:"app",value:this.app.id,label:this.i18n.label.replace("${app}",this.app.title)}:{id:"app",param:"app",value:"",label:""}}emitEvent(){const e=this.getEventDetail();this.arcgisMemberBrowserFilter.emit(e)}render(){const{apps:e}=this;return this.store.state.groupId&&!this.store.state.myOrgView||!(null==e?void 0:e.length)||this.store.state.includeExternalUsers?null:(0,n.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,active:!!this.app,onArcgisBrowserFilterRemove:()=>{this.app=null},filterID:"app"},(0,n.h)("div",null,(0,n.h)("calcite-input",{type:"search",icon:"search",placeholder:this.i18n.title,onCalciteInputInput:e=>{this.searchTerm=e.target.value.toLowerCase()}}),(0,n.h)("div",{class:"tree-wrapper"},(0,n.h)("calcite-tree",{selectionMode:"single",onCalciteTreeSelect:e=>{var t,r;const n=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0].dataset.appId,i=this.apps.find((e=>e.id===n));this.app&&(null===(r=this.app)||void 0===r?void 0:r.id)===(null==i?void 0:i.id)?this.app=null:this.app=i,this.emitEvent()}},e.filter((e=>!this.searchTerm||e.title.toLowerCase().includes(this.searchTerm))).map((e=>(0,n.h)("calcite-tree-item",{key:e.id,"data-app-id":e.id,selected:this.app&&this.app.id===e.id},(0,n.h)("a",null,e.title))))))))}get el(){return(0,n.d)(this)}}},91102:(e,t,r)=>{r.d(t,{a:()=>a,c:()=>i,d:()=>u,g:()=>o,i:()=>s,s:()=>l});var n=r(73807);function i(e,t){return function e(r){return r?r.closest(t)||e(function(e){return e.getRootNode()}(r).host||null):null}(e)}function o(e){const t=i(e,".calcite-mode-dark, .calcite-mode-light");return(null==t?void 0:t.classList.contains("calcite-mode-dark"))?"dark":"light"}function s(e){let t=e;for(;null==t?void 0:t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1}function l(e){return(new n.S).sanitize(e)}function a(e){const t=l(e),r=document.createElement("div");return r.innerHTML=t,r.textContent||r.innerText||""}function u(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}},78231:(e,t,r)=>{r.d(t,{a:()=>l,b:()=>s,c:()=>c,d:()=>d,e:()=>p,f:()=>f,g:()=>$,h:()=>h,i:()=>a,j:()=>y,k:()=>b,l:()=>g,m:()=>I,n:()=>T,o:()=>m,p:()=>w,q:()=>v,u:()=>u});var n=r(98034),i=r(38973);function o(e){var t;return!!(null===(t=e.owner)||void 0===t?void 0:t.toLowerCase().includes("esri"))}function s(e){var t;return o(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Credits"))}function l(e){var t;return o(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Subscription"))}function a(e,t){return e.owner===t.username}function u(e,t){return a(e,t)||function(e,t){var r;if(null!=e.isAdmin)return!!e.isAdmin;const n=e.owner,i="admin"===e.itemControl,o=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(r=e.portal)||void 0===r?void 0:r.isPortal)&&!a(e,t)&&i&&n.includes("esri_")&&!o.includes(n))return!1;return i}(e,t)}const c=(e,t)=>!!t.orgId&&e.every((e=>e.isOrgItem)),d=(e,t)=>`${(0,i.a)(t)}item.html?id=${e}`,p=(e,t)=>`${(0,i.g)(t)}/content/users/${e}`,v=e=>e.reduce(((e,t)=>(e[t.owner]=e[t.owner]?[...e[t.owner],t.id]:[t.id],e)),{});function m(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Spatiotemporal")}function f(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("View Service")}function h(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Hosted Service")}function g(e){var t;return null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Multi Services View")}function w(e){return(null==e?void 0:e.hasViews)&&!e.sourceSchemaChangesAllowed}async function y(e){var t;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[s]=await(0,n.l)(["esri/request"]);if(null==o?void 0:o.user){return s(`${(0,i.g)(o)}community/users/${o.user.username}`,{query:{f:"json",token:null===(t=r.portal.credential)||void 0===t?void 0:t.token},responseType:"json"}).then((e=>{var t,r;const n=null!==(r=null===(t=e.data)||void 0===t?void 0:t.groups)&&void 0!==r?r:[];return Promise.resolve(n)}),(()=>Promise.reject()))}return Promise.resolve(null)}async function b(e){var t;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[s]=await(0,n.l)(["esri/request"]);return s(`${(0,i.g)(o)}content/items/${r.id}/groups`,{query:{f:"json",token:null===(t=r.portal.credential)||void 0===t?void 0:t.token},responseType:"json"}).then((e=>{var t,r,n,i,o,s;const l=[...null!==(r=null===(t=e.data)||void 0===t?void 0:t.admin)&&void 0!==r?r:[],...null!==(i=null===(n=e.data)||void 0===n?void 0:n.member)&&void 0!==i?i:[],...null!==(s=null===(o=e.data)||void 0===o?void 0:o.other)&&void 0!==s?s:[]];return Promise.resolve(l)}),(()=>Promise.reject()))}async function T(e,t,{relationshipType:r,direction:o}){const s=`${(0,i.g)(t)}content/items/${e}/relatedItems`,[l]=await(0,n.l)(["esri/request"]);return await l(s,{query:{f:"json",relationshipType:r,direction:o},method:"get",responseType:"json"})}function I(e,t){return null==e?void 0:e.some((e=>null==t?void 0:t.some((t=>e.id===t.id&&e.capabilities.includes("updateitemcontrol")))))}const $=(e,t)=>`${t}/content/items/${e}`},98034:(e,t,r)=>{r.d(t,{e:()=>o,l:()=>s});var n,i=r(99004),o={exports:{}};n=o.exports,i.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",n="next";function i(e){if(e.toLowerCase()===n)return n;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function o(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function s(e){void 0===e&&(e=r);var t=o(e),s=i(e);if(s!==n&&3===s.major){var l=s.minor<=10?"js/":"";return"".concat(t).concat(l,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function l(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function a(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function u(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function c(e){return!e||i(e)?s(e):e}function d(e,t){var r=c(e),n=u(r);return n||a(n=l(r),t),n}var p={};function v(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function m(e,t,r){var n;r&&(n=f(e,r));var i=function(){t(e),e.removeEventListener("load",i,!1),n&&e.removeEventListener("error",n,!1)};e.addEventListener("load",i,!1)}function f(e,t){var r=function(n){t(n.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function h(e){void 0===e&&(e={}),p=e}function g(){return document.querySelector("script[data-esri-loader]")}function w(){var e=window.require;return e&&e.on}function y(e){void 0===e&&(e={});var r={};[p,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var n=r.version,i=r.url||o(n);return new t.Promise((function(e,t){var o=g();if(o){var s=o.getAttribute("src");s!==i?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(s,")."))):w()?e(o):m(o,e,t)}else if(w())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=r.css;l&&d(!0===l?n:l,r.insertCssBefore),m(o=v(i),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),t),document.body.appendChild(o)}}))}function b(e){return new t.Promise((function(t,r){var n=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.remove(),t(e)}))}))}function T(e,t){if(void 0===t&&(t={}),w())return b(e);var r=g(),n=r&&r.getAttribute("src");return!t.url&&n&&(t.url=n),y(t).then((function(){return b(e)}))}e.utils=t,e.loadModules=T,e.getScript=g,e.isLoaded=w,e.loadScript=y,e.setDefaultOptions=h,e.loadCss=d,Object.defineProperty(e,"__esModule",{value:!0})}(n);const s=async(e,t)=>(await o.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},68537:(e,t,r)=>{r.d(t,{a:()=>l,b:()=>o,c:()=>s,d:()=>m,e:()=>v,f:()=>p,g:()=>f,h:()=>g,i:()=>u,j:()=>h,k:()=>C,l:()=>a,m:()=>w,n:()=>d,o:()=>A,p:()=>b,q:()=>T,r:()=>P,s:()=>$,t:()=>I,u:()=>_,v:()=>L,w:()=>c,x:()=>S});var n=r(78231);const i=e=>{var t,r,n;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(r=null!==(t=null==e?void 0:e.roleId)&&void 0!==t?t:null==e?void 0:e.id)&&void 0!==r?r:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.id};function o(e){return e&&!e.orgId}function s(e,t){return(0,n.u)(e,t)||"update"===e.itemControl||(0,n.c)([e],t)&&v(t)}function l(e,t){const r=(0,n.c)([e],t),i=(0,n.u)(e,t)||v(t)&&r,o=f(t)&&y(t);return!!(i||r&&o)}const a=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageLicenses"))};function u(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function c(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function d(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const p=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("Developer")};function v(e){return"org_admin"===i(e)||"account_admin"===i(e)}function m(e){return["org_admin","account_admin"].includes(i(e))&&!(null==e?void 0:e.roleId)}function f(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function h(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItemCategorySchema"))}function g(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateGroups"))}function w(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:assignToGroups"))}const y=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:deleteItems"))};function b(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function T(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function I(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function $(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function _(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function P(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function C(e,t,r,n){const i=n&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(n.type),o=((null==t?void 0:t.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!t||!v(t)&&!o||!(null==r?void 0:r.isPortal)&&!i)}function S(e){return!!e&&(!f(e)||f(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const L=({items:e,user:t,portal:r})=>{const i=e[0],o=i.owner;if(r.isPortal&&o!==t.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const l=(0,n.u)(i,t),a=f(t),u=E(t),c=s(i,t)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(t)&&!a&&(function(e,t){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(t)||b(e)||T(e)||!!t.canSharePublic&&I(e)}(t,r)||E(t));return l||c||(0,n.c)(e,t)&&u};function E(e){return P(e)||$(e)||_(e)}function A(e){const t=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];return e.some((e=>t.includes(e)))}},91589:(e,t,r)=>{r.d(t,{f:()=>i});var n=r(25972);async function i(e,t,r="results",i=!1){let o,s,l,a,u=1,c=[];t.start=u,t.num||(t.num=100);try{const d=await(0,n.r)(e,t);if(!(null==d?void 0:d[r]))return c;for(c=[...c,...d[r]],u=d.nextStart,o=d.total-c.length,s=Math.ceil(o/t.num),l=[],a=0;a<s;a++)if(t.start=u+a*t.num,i){const i=await(0,n.r)(e,t);(null==i?void 0:i[r])&&(c=[...c,...i[r]])}else l.push((0,n.r)(e,t));if(!i){(await Promise.all(l)).forEach((e=>{c=[...c,...e[r]]}))}return c}catch(e){return c}}},33198:(e,t,r)=>{r.d(t,{a:()=>l,b:()=>a,c:()=>v,d:()=>m,e:()=>f,f:()=>u,g:()=>g,h:()=>h,i:()=>c,j:()=>d,k:()=>p,l:()=>s});var n=r(38973),i=r(25972),o=r(91589);async function s(e){const t=(0,n.c)(e);try{return(await(0,i.r)(`${t}portals/self/users/counts`,{type:"userLicenseType"})).results}catch(e){return[]}}async function l(e){const t=(0,n.c)(e);return await(0,o.f)(`${t}portals/self/userLicenseTypes`,{num:10},"userLicenseTypes")}async function a(e){const t=(0,n.c)(e),r=await(0,o.f)(`${t}portals/self/roles`,{returnPrivileges:!0},"roles");return r.sort(((e,t)=>{const r=e.name.toLowerCase(),n=t.name.toLowerCase();return r>n?1:r<n?-1:0})),r}async function u(e,t){const r=(0,n.c)(e);let s;try{s=(await(0,i.r)(`${r}community/groups/${t}/userlist`,{num:0})).owner}catch(e){}return{admins:await(0,o.f)(`${r}community/groups/${t}/userlist`,{memberType:"admin"},"users"),owner:null==s?void 0:s.username}}async function c(e,t){const r=(0,n.c)(e),o=await(0,i.r)(`${r}community/users/${t}`),s=(null==o?void 0:o.groups)||[];return s.sort(((e,t)=>{const r="owner"===e.userMembership.memberType?1:-1,n="owner"===t.userMembership.memberType?1:-1,i=e.title.toLowerCase(),o=t.title.toLowerCase();return r!==n?n-r:i>o?1:i<o?-1:0})),s}async function d(e,t){const r=(0,n.c)(e);try{return await(0,i.r)(`${r}community/groups`,t)}catch(e){return}}async function p(e,t){const r=(0,n.c)(e);return await(0,o.f)(`${r}community/groups`,t)}async function v(e){const t=(0,n.c)(e);try{return(await(0,i.r)(`${t}portals/self/trustedOrgs`,{num:100})).trustedOrgs.filter((e=>e.from.established>-1&&e.to.established>-1)).sort(((e,t)=>e.to.name>t.to.name?1:e.to.name<t.to.name?-1:0))}catch(e){return[]}}async function m(e){const t=(0,n.c)(e);return await(0,o.f)(`${t}portals/self/contacts`,{type:"collaboration",collaborators:!0},"users")}async function f(e,t){var r,o;const s=(0,n.c)(e);try{return(null===(o=null===(r=(await(0,i.r)(`${s}community/users`,{searchUserAccess:"groupMember",groups:t,countFields:"accountid",num:0,countSize:200})).aggregations.counts)||void 0===r?void 0:r[0])||void 0===o?void 0:o.fieldValues)||[]}catch(e){return[]}}async function h(e){var t,r,o;const s=(0,n.c)(e);try{const[e,n,l,a]=await Promise.all([(0,i.r)(`${s}portals/self/idp`),(0,i.r)(`${s}portals/self/idp/federation`),(0,i.r)(`${s}portals/self/oidc`),(0,i.r)(`${s}portals/self/socialProviders`)]);return{hasSAML:Boolean((null==e?void 0:e.id)?e:(null==n?void 0:n.id)?n:null),socialProviders:null===(t=null==a?void 0:a.config)||void 0===t?void 0:t.providers,oidcId:null===(o=null===(r=null==l?void 0:l.oidcProviders)||void 0===r?void 0:r[0])||void 0===o?void 0:o.id}}catch(e){return{hasSAML:!1}}}async function g(e){const t=(0,n.c)(e);try{const e=await(0,i.r)(`${t}portals/self/purchases`),r=w(e.purchases),n=w(e.trials),o=[...r,...n];return o.sort(((e,t)=>{const r=e.title.toLowerCase(),n=t.title.toLowerCase();return r>n?1:r<n?-1:0})),o}catch(e){return[]}}function w(e){const t=[];return e.forEach((({listing:e,provision:r})=>{var n;(null==e?void 0:e.type.includes("Application"))&&(null===(n=null==r?void 0:r.orgEntitlements)||void 0===n?void 0:n.entitlements)&&t.push({id:e.itemId,title:e.title})})),t}},9055:(e,t,r)=>{r.d(t,{g:()=>o,o:()=>s});var n=r(10699),i=r(39489);function o(e){return(0,i.g)(e,"arcgis-member-browser")}(0,n.c)({type:"member-browser",includeExternalUsers:!1});const s=(e,t)=>{e.onChange("sort",(e=>{t(e)}))}},39489:(e,t,r)=>{r.d(t,{a:()=>o,b:()=>l,g:()=>u,i:()=>i,o:()=>s});var n=r(91102);const i=e=>"item-browser"===e.state.type,o=(e,t,r)=>{t.onChange("filters",(t=>{t[e]&&t[e].value||r()}))},s=(e,t)=>{e.onChange("preview",(e=>{t()}))},l=(e,t)=>{e.onChange("groupId",(e=>{t()}))},a=new Map;function u(e,t){const r=a.get(e);if(r)return r;const i=(0,n.c)(e,t);return i?(a.set(e,i.store),i.store):null}}}]);