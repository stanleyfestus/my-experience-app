/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-credit--abf0ad.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-credit--abf0ad"],{21489:(e,t,i)=>{i.r(t),i.d(t,{arcgis_credit_estimate:()=>c,arcgis_select:()=>d});var s=i(20536),a=i(34752),n=i(37568),o=i(54637),r=i(91616),l=i(46227);i(98034),i(99004),i(91102),i(73807);const c=class{constructor(e){(0,s.r)(this,e),this.api=4,this.transactionCreditCost=void 0,this.availableCredits=void 0,this.showTotal=!1,this.formattedStrings=void 0}updateTransactionCost(){this.replaceStrings()}async componentWillLoad(){const e=await(0,n.g)(this.el);this.i18n=e[0],await this.replaceStrings()}getAvailablePlaces(e){if(e<=0||e>=.01)return 2;const t=-Math.floor(Math.log10(e)+1);return t>1?t+1:2}async replaceStrings(){const{transactionCreditCost:e,availableCredits:t,i18n:i}=this,s=this.getAvailablePlaces(e),n={api:this.api,type:"decimal",places:2},o=await(0,a.f)(t,n),r=await(0,a.f)(e,Object.assign(Object.assign({},n),{places:s})),l=await(0,a.f)(e/t,Object.assign(Object.assign({},n),{type:"percent"}));this.formattedStrings=Object.assign(Object.assign({},i),{creditsAvailable:i.creditsAvailable.replace("${credits}",o),creditsAvailableColon:i.creditsAvailableColon.replace("${credits}",o),creditsNeededColon:i.creditsNeededColon.replace("${credits}",r),creditsNeeded:i.creditsNeeded.replace("${credits}",r),creditsNeededPercent:i.creditsNeededPercent.replace("${percent}",l),needed:r,percent:l})}render(){if(!this.formattedStrings)return null;const{transactionCreditCost:e,availableCredits:t,showTotal:i,formattedStrings:a,api:n}=this,r=(0,o.g)(e,t);return(0,s.h)(s.H,null,(0,s.h)("div",{class:"left"},(0,s.h)("h4",{class:"header"},a.creditEstimate),(0,s.h)("p",{class:"text"},(0,s.h)("span",{class:"text--left"},a.creditsNeededColon),i&&(0,s.h)("span",null,a.creditsAvailableColon)),(0,s.h)("arcgis-meter",{max:t,maxLabel:a.notEnough,current:e,min:0,label:i?a.creditEstimate:a.creditsNeededPercent,api:n})),(0,s.h)("div",{class:"right"},(0,s.h)("span",{class:`number number--${r}`},"red"===r&&(0,s.h)("calcite-icon",{icon:"exclamation-mark-triangle"}),a.needed),a.creditsNeeded))}get el(){return(0,s.d)(this)}static get watchers(){return{transactionCreditCost:["updateTransactionCost"],availableCredits:["updateTransactionCost"]}}};c.style=":host{display:flex;border:1px solid var(--calcite-color-border-1)}.left{padding-top:1rem;padding-bottom:1rem;padding-left:1.5rem;padding-right:1.5rem;flex:1 1 auto}.right{display:flex;flex-direction:column;justify-content:center;padding-top:1rem;padding-bottom:1rem;padding-left:1.5rem;padding-right:1.5rem;text-align:center;font-size:0.875rem;color:var(--calcite-color-text-3);flex:0 0 auto;border-inline-start:1px solid var(--calcite-color-border-1)}.number{display:block;font-size:1.625rem;font-weight:700}.number--blue{color:var(--calcite-color-brand)}.number--red{color:var(--calcite-color-status-danger)}.number--orange{color:#fe583e}.number calcite-icon{margin-inline-end:0.25rem;vertical-align:-0.25rem}.header{margin:0px;padding-bottom:0.5rem;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1)}.text{margin-bottom:0.25rem;margin-top:0px;display:flex;font-size:0.875rem;color:var(--calcite-color-text-2)}.text--left{flex:1 1 auto}";const d=class{constructor(e){(0,s.r)(this,e),this.arcgisOptionChange=(0,s.c)(this,"arcgisOptionChange",7),this.guid=(0,l.g)(),this.handleKeys=e=>{const t=e.key,{options:i,selectedIndex:s,selectOpen:a,selectedOption:n}=this;switch(t){case" ":case"Enter":this.selectOpen=!this.selectOpen,a&&this.arcgisOptionChange.emit(i[s].value);break;case"ArrowDown":this.selectOpen=!0,this.selectOpen&&(e.preventDefault(),this.selectedIndex=(s+1)%i.length);break;case"ArrowUp":this.selectOpen&&(e.preventDefault(),this.selectedIndex=0===s?i.length-1:s-1);break;case"Tab":a&&(this.selectedIndex=Math.max(i.findIndex((e=>e.value===n)),0),this.selectOpen=!1);break;case"Escape":this.selectedIndex=Math.max(i.findIndex((e=>e.value===n)),0),this.selectOpen=!1,this.defaultOptionRef.setFocus()}},this.renderOptions=()=>this.options.map((({optionTitle:e,description:t,icon:i,badge:a,value:n},o)=>{const r=o===this.selectedIndex,l=n===this.selectedOption;return(0,s.h)("arcgis-option",{"aria-selected":l?"true":"false",selected:l,active:r,optionTitle:e,value:n,badge:a,description:t,icon:i,autoFocus:!0})})),this.renderSelectedOption=()=>{var e;const{selectOpen:t,selectedOption:i,emptyText:a,options:n,guid:o}=this,r=n.find((e=>e.value===i));return(0,s.h)("arcgis-option",{"aria-controls":`select_${o}`,"aria-labelledby":`label_${o}`,"aria-expanded":t?"true":"false","aria-activedescendant":(null===(e=n[this.selectedIndex])||void 0===e?void 0:e.value)||"no-selection",isSelector:!0,optionTitle:(null==r?void 0:r.optionTitle)||a,value:(null==r?void 0:r.value)||"",description:(null==r?void 0:r.description)||"",badge:null==r?void 0:r.badge,icon:(null==r?void 0:r.icon)||"",ref:e=>this.defaultOptionRef=e,onArcgisSelectOpen:()=>{this.selectOpen=!this.selectOpen}})},this.selectOpen=!1,this.selectedIndex=void 0,this.selectedOption="",this.emptyText=void 0,this.options=void 0,this.label=void 0,this.labelDescription=void 0,this.labelWeight="bold",this.autoFocus=void 0,this.focusDelay=0}async componentDidLoad(){this.onSelectedOptionChanged(this.selectedOption),this.autoFocus&&this.selectOpen&&(await(0,r.t)(this.focusDelay),this.defaultOptionRef.focus())}async setFocus(){this.defaultOptionRef.setFocus()}closeOnBlur(){this.selectOpen=!1}onSelectedOptionChanged(e){const t=this.options.findIndex((t=>t.value===e));this.selectedIndex=Math.max(0,t)}async arcgisOptionChangeHandler(){this.selectOpen=!1,this.defaultOptionRef.setFocus()}render(){const{label:e,labelDescription:t,guid:i,selectOpen:a}=this,n=!(!this.label||!this.labelDescription);return(0,s.h)(s.H,{key:"a346617b65e806e9dee23c8c5e23f1495ad31b29"},(0,s.h)("label",{key:"bafb51cb11286d1c6e81334497089333e3c3e52a",id:`label_${i}`,class:"label"},e&&(0,s.h)("span",{key:"117e5aaa4497b02320d93b423d9b49dedf52e880",class:{label:!0,"label--bold":"bold"===this.labelWeight,large:n}},e,(0,s.h)("slot",{key:"9ee850086b9e8d00dce28255416a8cbfaa7860d6",name:"afterLabel"})),t&&(0,s.h)("span",{key:"bee14eeb6e1c7e6767b78dd4ca75236ccb31144c",class:{description:!0,large:n}},t)),(0,s.h)("div",{key:"d2a198103edf29d29e1ba54274126d6321667832",class:"select",onKeyDown:this.handleKeys},this.renderSelectedOption(),a&&(0,s.h)("div",{key:"2ce586b67e559c3bed02ef3e79d489e6d77cad23",role:"listbox","aria-haspopup":"listbox",id:`select_${i}`,class:"dropdown-container"},this.renderOptions())))}get element(){return(0,s.d)(this)}static get watchers(){return{selectedOption:["onSelectedOptionChanged"]}}};d.style=":host{position:relative}.select{margin-top:0.25rem;margin-bottom:1rem;position:relative}.select--no-margin{margin:0}.label{font-size:0.875rem;color:var(--calcite-color-text-1);line-height:18px}.label--bold{font-weight:500}.description{margin-top:0.5rem;margin-bottom:1rem;display:block;font-size:0.875rem;font-weight:400;color:var(--calcite-color-text-3)}.large{font-size:1rem}.dropdown-container{position:absolute;left:0px;--tw-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);--tw-shadow-colored:0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);width:100%;top:100%;max-height:240px;overflow:auto;z-index:100}"},91616:(e,t,i)=>{i.d(t,{a:()=>c,b:()=>p,c:()=>a,d:()=>s,e:()=>n,f:()=>d,g:()=>g,h:()=>u,i:()=>o,m:()=>r,t:()=>l,u:()=>h});const s=(e,t)=>{let i,s="idle";const a=(...a)=>new Promise((n=>{switch(s){case"flushed":s="idle",i?(clearTimeout(i),n(e(...a))):n(null);break;case"invoked":clearTimeout(i),s="idle",n(e(...a));break;case"cancelled":clearTimeout(i),s="idle",n(null);break;default:i&&clearTimeout(i),s="pending",i=setTimeout((()=>(s="idle",n(e(...a)))),t)}}));return a.flush=function(...e){return s="flushed",a(...e)},a.invoke=function(...e){return s="invoked",a(...e)},a.cancel=function(...e){return s="cancelled",a(...e)},a.getStatus=function(){return s},a},a=(e,t)=>{let i;return(...s)=>new Promise((a=>{i||(i=setTimeout((()=>{clearTimeout(i),i=void 0,a(e(...s))}),t))}))};function n(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){return null!=e}async function r(e,t){return await Promise.all([e,l(t)]),e}function l(e){return new Promise((t=>setTimeout(t,e)))}const c=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:i,data:s}=t(e);return[i,s]}))),d=(e,t)=>e.length===t.length&&e.reduce(((e,i)=>e&&t.indexOf(i)>-1),!0);function h(e,t){const i=[],s={};return e.forEach((e=>{const a=t(e);null==s[a]&&(s[a]=e,i.push(e))})),i}function p(e){const t={boolean:{},number:{},string:{}},i=[];return e.filter((e=>{let s=typeof e;return s in t?!t[s].hasOwnProperty(e)&&(t[s][e]=!0):!(i.indexOf(e)>=0)&&i.push(e)}))}const u=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((i,s)=>e.slice(t*s,t+t*s))),g=(e,t)=>e.includes(t)},46227:(e,t,i)=>{i.d(t,{g:()=>s});const s=()=>[2,1,1,1,3].map((e=>{let t="";for(let i=0;i<e;i++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t})).join("-")},54637:(e,t,i)=>{function s(e,t){const i=e/t;return i>=1||i<0?"red":i>.8?"orange":"blue"}i.d(t,{g:()=>s})}}]);