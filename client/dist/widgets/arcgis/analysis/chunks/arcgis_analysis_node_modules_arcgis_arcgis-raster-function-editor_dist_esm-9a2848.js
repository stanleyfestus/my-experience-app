"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_dist_esm-9a2848"],{64005:(e,t,i)=>{i.r(t),i.d(t,{rfx_cte_kernel_selector:()=>c});var n=i(17002),l=i(10259),s=i(19562),a=i(68708),r=i(40320),o=i(33355),u=(i(588),i(5294),i(55448),i(2924),i(11840),i(52373),i(33752),i(440),i(66744),i(23795),i(17902),i(56451),i(45709));i(71802),i(44345),i(32513),i(36596);const h="typeHelpClickHandler",g="kernelHelpClickHandler",c=class{constructor(e){(0,n.r)(this,e),this.rfxArgumentChange=(0,n.c)(this,"rfxArgumentChange",7),this.uiElements={kernelArgLabel:void 0,kernelArgContainer:void 0,rowArgLabel:void 0,columnArgLabel:void 0,rowArgContainer:void 0,columnArgContainer:void 0},this.kernelTypesInfo=a.k,this.helpActionClickEventHandlers=new Map,this.userDefinedOptionKey=-1,this.noneOptionKey=255,this.defaults={rowArgDefaultValue:void 0,columnArgDefaultValue:void 0,kernelArgDefaultValue:[]},this.onConvolutionTypeChange=e=>{e.stopPropagation();const t=e.target,i=(0,u.p)(t.value);this.inputArg.value=i,this.value=i;const n=this.kernelTypesInfo[i?.toString()];this.widgetState={columns:n?.columns??this.defaults.columnArgDefaultValue,rows:n?.rows??this.defaults.rowArgDefaultValue,value:n?.value??this.defaults.kernelArgDefaultValue},this.rfxArgumentChange.emit({value:i})},this.value=void 0,this.widgetArgs=void 0,this.store=[],this.widgetState=void 0}connectedCallback(){this.processWidgetArgs(this.widgetArgs)}componentWillLoad(){this.setupInitialState(this.widgetArgs)}componentWillRender(){this.setWidgetValue()}componentDidLoad(){this.attachHelpClickEventHandlers()}async checkValidity(){let e=!0;return this.value===this.userDefinedOptionKey&&(e=await this.uiElements.rowArgContainer.checkValidity()&&await this.uiElements.columnArgContainer.checkValidity()),e}processWidgetArgs({inputArgs:e}){const t=e.ConvolutionType;this.inputArg=t,this.inputArg.key="ConvolutionType",t.input=this.hostElement,this.uiElements.rowArgLabel=e.Rows.displayName,this.uiElements.columnArgLabel=e.Columns.displayName,this.uiElements.kernelArgLabel=e.Kernel.displayName}setupInitialState({inputArgs:e,rfxArgs:t,rasterFunctions:i}){const n=i[(0,l.d)(t)],s=n?.rasterFunctionArguments,a=this.inputArg.key;this.value=this.inputArg.value;const u=s?.[a]?.domain;if("list"===u?.type){const e=u.enum;this.store=(0,l.k)(e)}else console.error("Invalid inputArg! Check Schema");this.store?.forEach((e=>{e.key=e.key.toString()})),(0,r.o)(this.store)&&console.error("Domain list Enum not set! Check Schema");const h=s?.[a]?.defaultValue;this.value=this.inputArg.value||h;const g=s?.Rows?.defaultValue,c=s?.Columns?.defaultValue,d=this.kernelTypesInfo[this.value?.toString()]?.value;this.defaults.columnArgDefaultValue=c,this.defaults.rowArgDefaultValue=g;const m=e.Kernel.value??d,p=e.Columns.value??c,f=e.Rows.value??g;this.widgetState=(0,o.d)({columns:p,rows:f,value:m})}setWidgetValue(){this.widgetArgs.inputArgs.ConvolutionType.value=this.value,this.widgetArgs.inputArgs.Columns.value=this.widgetState?.columns,this.widgetArgs.inputArgs.Rows.value=this.widgetState?.rows,this.widgetArgs.inputArgs.Kernel.value=this.widgetState?.value}attachHelpClickEventHandlers(){const e=this.widgetArgs.onHelpActionClick({heading:this.inputArg.displayName,referenceElement:this.widgetContainer,helpTextID:this.widgetArgs.helpTextIDs?.convolution_type});this.helpActionClickEventHandlers.set(h,e)}onColumnValueChange(e){!e||e<=0||(this.widgetState={...this.widgetState,columns:e})}onRowValueChange(e){!e||e<=0||(this.widgetState={...this.widgetState,rows:e})}render(){const e=this.value===this.userDefinedOptionKey,t=this.value===this.noneOptionKey;return(0,n.h)("div",{key:"503fc4708120435af421f62ecf57bb46024b16d7"},(0,n.h)("calcite-label",{key:"fecc3021008b4dfc25e157e74a93cf66f8c91e8a",alignment:"start",scale:s.U.Scale,layout:"default",ref:e=>{this.widgetContainer=e}},(0,n.h)("rfx-label",{key:"c1a69a147563363fd8dbaac4b3dd6f4ed6ed168b",label:this.inputArg.displayName,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(h)()}),(0,n.h)("rfx-dtex-common-select",{key:"5895d2285bf6849e2a2b2a9a690599948b94fc7c",mode:this.widgetArgs.mode,options:this.store,value:String(this.value),onRfxArgumentChange:this.onConvolutionTypeChange})),e?(0,n.h)("div",null,(0,n.h)("calcite-label",{alignment:"start",scale:s.U.Scale,layout:"default"},(0,n.h)("rfx-label",{label:this.uiElements.rowArgLabel,hideHelp:!0}),(0,n.h)("rfx-dte-number-input",{value:this.widgetState.rows,onRfxNumberInputChange:e=>{e.stopPropagation();const t=e.target?.value;this.onRowValueChange(t)},min:1,max:100,numberType:"integer",ref:e=>{this.uiElements.rowArgContainer=e}})),(0,n.h)("calcite-label",{alignment:"start",scale:s.U.Scale,layout:"default"},(0,n.h)("rfx-label",{label:this.uiElements.columnArgLabel,hideHelp:!0}),(0,n.h)("rfx-dte-number-input",{value:this.widgetState.columns,onRfxNumberInputChange:e=>{e.stopPropagation();const t=e.target?.value;this.onColumnValueChange(t)},min:1,max:100,numberType:"integer",ref:e=>{this.uiElements.columnArgContainer=e}}))):null,t?null:(0,n.h)("calcite-label",{alignment:"start",scale:s.U.Scale,layout:"default",ref:e=>{this.uiElements.kernelArgContainer=e;const t=this.widgetArgs.onHelpActionClick({heading:this.uiElements.kernelArgLabel,referenceElement:this.uiElements.kernelArgContainer,helpTextID:this.widgetArgs.helpTextIDs?.convolution_kernel});this.helpActionClickEventHandlers.set(g,t)}},(0,n.h)("rfx-label",{label:this.uiElements.kernelArgLabel,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(g)()}),(0,n.h)("rfx-simple-matrix",{columns:this.widgetState.columns,rows:this.widgetState.rows,value:this.widgetState.value,onRfxArgumentChange:e=>{e.stopPropagation();const{detail:{value:t}}=e;(0,o.i)(this.widgetState.value,t)||(this.widgetState={...this.widgetState,value:t})},isEditable:e})))}get hostElement(){return(0,n.a)(this)}};i(13661),i(18423),i(21255),i(35431),i(93210),i(54667),i(15195)},45709:(e,t,i)=>{i.d(t,{a:()=>u,f:()=>o,i:()=>s,p:()=>r,s:()=>a});var n=i(93210),l=i(40320);function s(e){return null!=e&&!1===Number.isNaN(e)&&!0===Number.isFinite(e)}function a(e,t){let i;if(null!==e){const n="string"==typeof e?Number.parseFloat(e):e;s(n)?i=n:s(t)&&(i=t)}return void 0===i?"":`${i}`}function r(e){if(!(0,l.o)(e))return Number.parseFloat(e)}function o(e,t=3){if(!(0,l.o)(e))return Number.parseFloat(e.toFixed(t))}function u(e,t){let i="";if(!(0,l.o)(e)&&!Number.isNaN(e)){const l=(0,n.g)().locale;i=Intl.NumberFormat(l,t).format(Number(e))}return i}},19562:(e,t,i)=>{i.d(t,{C:()=>l,U:()=>n,a:()=>s});const n={Scale:"s",PopoverTimer:60},l={s:"s",m:"m",l:"l"},s={absolute:"absolute",fixed:"fixed"}}}]);