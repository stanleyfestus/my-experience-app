/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-18f3cf.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-18f3cf"],{99004:(e,t,r)=>{r.d(t,{c:()=>a,g:()=>n});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},1391:(e,t,r)=>{r.d(t,{a:()=>n,b:()=>s,c:()=>o,d:()=>a});const a=(0,r(10699).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),n=a.state,o=a.state,s=a.state},23388:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_feature_layer_preference:()=>i});var a=r(20536),n=r(1391),o=r(19832),s=r(27995),c=r(15834);r(10699),r(44090),r(38973),r(76776),r(90079),r(4291),r(369),r(25972),r(98034),r(99004);const i=class{constructor(e){(0,a.r)(this,e),this.newItemUpdatePage=(0,a.c)(this,"newItemUpdatePage",7),this.featureLayerInfos=[],this.showCaptureGPS=!0,this.layerPreference={captureGPS:!1,enableZDefaults:!1,enableMDefaults:!1}}handleNext(){const{featureLayerInfos:e,layerPreference:t}=this,r=(0,s.m)(e,t);n.a.serviceInfo=Object.assign(Object.assign({},n.a.serviceInfo),{enableZDefaults:t.enableZDefaults,enableMDefaults:t.enableMDefaults,layers:r.filter((e=>"Feature Layer"===e.type)),tables:r.filter((e=>"Table"===e.type))}),this.newItemUpdatePage.emit("itemProperties")}async componentWillLoad(){var e,t;const{i18n:r}=o.u;this.i18n=r.featureLayerFromScratch;const{serviceInfo:a}=n.a,c=a;this.featureLayerInfos=[...c.layers,...c.tables].sort(((e,t)=>e.id-t.id)),this.layerPreference={captureGPS:this.featureLayerInfos.some(s.l),enableZDefaults:null!==(e=c.enableZDefaults)&&void 0!==e?e:this.featureLayerInfos.some(s.d),enableMDefaults:null!==(t=c.enableMDefaults)&&void 0!==t?t:this.featureLayerInfos.some(s.e)},this.showCaptureGPS=this.featureLayerInfos.some((e=>"Feature Layer"===e.type&&["esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline"].includes(e.geometryType)))}render(){const{i18n:e,layerPreference:t,showCaptureGPS:r}=this;return(0,a.h)(a.H,{key:"36ded4d7b946b85508fed5f7fef37cc6496ed51f"},(0,a.h)("arcgis-new-item-layer-preference",{key:"0ca166a0dae0e920667a229ccbe61af2ea87998c",i18n:e,defaultPreference:t,showCaptureGPS:r,onLayerPreferenceChange:e=>{const{layerPreference:t}=this,r=e.detail;!t.captureGPS&&r.captureGPS&&(0,c.e)("captureGPS"),!t.enableZDefaults&&r.enableZDefaults&&(0,c.e)("enableZDefaults"),!t.enableMDefaults&&r.enableMDefaults&&(0,c.e)("enableMDefaults"),this.layerPreference=r}}))}}},15834:(e,t,r)=>{r.d(t,{a:()=>y,b:()=>f,c:()=>h,d:()=>p,e:()=>u,f:()=>m,i:()=>d});var a=r(44090),n=r(1391),o=r(25972),s=r(38973);const c="create feature layer",i="my content",l=e=>{switch(e){case"build":return"blank";case"existing":return"fs";case"template":return"template";case"link":return"url"}},u=e=>{const t=a.c.telemetry;null==t||t.stepWorkflow(c,"enable "+("captureGPS"===e?"gps":"enableZDefaults"===e?"z":"m"),{category:c,attribute:l(n.a.addFeatureLayerType),pageName:i})},d=e=>{const t=a.c.telemetry;null==t||t.stepWorkflow(c,`expand ${e} details`,{category:c,attribute:l(n.a.addFeatureLayerType),pageName:i})},f=()=>{const e=a.c.telemetry;null==e||e.stepWorkflow(c,"filter",{category:c,attribute:l(n.a.addFeatureLayerType),pageName:i})},p=e=>{const t=l(e),r=a.c.telemetry;null==r||r.stepWorkflow(c,"from option",{category:c,attribute:t,pageName:i})},y=()=>{const{addFeatureLayerType:e,serviceInfo:t}=n.a,r=t,o=a.c.telemetry;null==o||o.endWorkflow(c,{category:c,attribute:l(e),pageName:i,count:r.layers.length,number:r.tables.length})},m=e=>{var t;null===(t=a.c.telemetry)||void 0===t||t.logError({category:c,error:e})};async function h(){const e=(0,s.g)().replace("portal/sharing/rest/","server/admin/services/types/customdataproviders/checkcdf");try{return await(0,o.r)(e,"post")}catch(e){return e}}},76776:(e,t,r)=>{r.d(t,{a:()=>a,i:()=>n});const a=(0,r(10699).c)({title:"",snippet:"",tags:[],categories:[]}),n=a.state},98034:(e,t,r)=>{r.d(t,{e:()=>o,l:()=>s});var a,n=r(99004),o={exports:{}};a=o.exports,n.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",a="next";function n(e){if(e.toLowerCase()===a)return a;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function o(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function s(e){void 0===e&&(e=r);var t=o(e),s=n(e);if(s!==a&&3===s.major){var c=s.minor<=10?"js/":"";return"".concat(t).concat(c,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function c(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function i(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function l(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function u(e){return!e||n(e)?s(e):e}function d(e,t){var r=u(e),a=l(r);return a||i(a=c(r),t),a}var f={};function p(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function y(e,t,r){var a;r&&(a=m(e,r));var n=function(){t(e),e.removeEventListener("load",n,!1),a&&e.removeEventListener("error",a,!1)};e.addEventListener("load",n,!1)}function m(e,t){var r=function(a){t(a.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function h(e){void 0===e&&(e={}),f=e}function v(){return document.querySelector("script[data-esri-loader]")}function b(){var e=window.require;return e&&e.on}function g(e){void 0===e&&(e={});var r={};[f,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var a=r.version,n=r.url||o(a);return new t.Promise((function(e,t){var o=v();if(o){var s=o.getAttribute("src");s!==n?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(s,")."))):b()?e(o):y(o,e,t)}else if(b())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var c=r.css;c&&d(!0===c?a:c,r.insertCssBefore),y(o=p(n),(function(){o.setAttribute("data-esri-loader","loaded"),e(o)}),t),document.body.appendChild(o)}}))}function w(e){return new t.Promise((function(t,r){var a=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];a.remove(),t(e)}))}))}function P(e,t){if(void 0===t&&(t={}),b())return w(e);var r=v(),a=r&&r.getAttribute("src");return!t.url&&a&&(t.url=a),g(t).then((function(){return w(e)}))}e.utils=t,e.loadModules=P,e.getScript=v,e.isLoaded=b,e.loadScript=g,e.setDefaultOptions=h,e.loadCss=d,Object.defineProperty(e,"__esModule",{value:!0})}(a);const s=async(e,t)=>(await o.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},19832:(e,t,r)=>{r.d(t,{a:()=>a,u:()=>n});const a=(0,r(10699).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{}}),n=a.state}}]);