/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-33c806.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-33c806"],{62647:(e,i,r)=>{r.r(i),r.d(i,{arcgis_file_browser:()=>l});var n=r(20536),t=r(37568),o=r(16808);r(91102),r(73807),r(34752),r(98034),r(99004),r(79717),r(25972),r(44090),r(10699),r(38973),r(369),r(68537),r(78231);const l=class{constructor(e){(0,n.r)(this,e),this.cloudDriveConnected=(0,n.c)(this,"cloudDriveConnected",7),this.fileSelect=(0,n.c)(this,"fileSelect",7),this.portal=void 0,this.config=void 0,this.user=void 0,this.userLicensedItems=void 0,this.cloud=!0,this.showHelpLinkOnError=!0,this.allowedExtensions=null,this.validTypes=null,this.maxFileSize=void 0,this.insideModal=void 0,this.fullHeight=void 0,this.helpText=void 0,this.helpLink=void 0,this.helpIdType="default",this.errorMessage=void 0,this.files=void 0,this.fromDevice=!1}async componentWillLoad(){const{el:e,user:i,portal:r,userLicensedItems:n}=this,l=await(0,t.g)(e);this.i18n=l[0],this.canPublishFromCloud=this.cloud&&await(0,o.c)(i,r,n)}connectCloudDrive(e){this.cloudDriveConnected.emit(e)}async focusMainInput(){this.mainInputRef.focus()}render(){const{i18n:e,canPublishFromCloud:i,allowedExtensions:r,maxFileSize:t,insideModal:o,helpText:l,helpLink:s,helpIdType:a,fullHeight:u,user:c,config:d,showHelpLinkOnError:v,validTypes:f}=this;return(0,n.h)("arcgis-drag-and-drop",{key:"c6a242b5e7a8aef702ba26d3be089ccf0c94cf93",files:this.files,showHelpLinkOnError:v,allowedExtensions:r,helpIdType:a,validTypes:f,maxFileSize:t,insideModal:o,fullHeight:u,class:{"full-height":u},user:c,config:d,onArcgisDropSuccess:e=>{this.fileSelect.emit({file:e.detail,source:this.fromDevice?"local-device":"drag-n-drop"})}},(0,n.h)("div",{key:"198b741691b4ee4ae279bb00bdb220150ffc6cb2",class:{"file-browser":!0,"full-height":u}},(0,n.h)("svg",{key:"7e554829fba33a46530a85c4410ccc3d5eecd57a",width:"42",height:"54",viewBox:"0 0 42 54",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},(0,n.h)("path",{key:"4203bf0e9ba015ff6ab5c58ed984a89d14ec56d4",d:"M31.566 0H0V53.8H41.8V10.234L31.566 0ZM31.8 1.366L40.434 10H31.8V1.366ZM0.799999 53V0.8H31V10.8H41V53H0.799999Z",fill:"#6A6A6A"}),")",(0,n.h)("path",{key:"80ac75f9873d09833dc826a19ca02163f0a68951","fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.9004 38V25.707L18.2544 28.354L17.5474 27.647L21.4004 23.793L25.2544 27.647L24.5474 28.354L21.9004 25.707V38H20.9004ZM14.9004 21H27.9004V20H14.9004V21Z",fill:"#6A6A6A"})),(0,n.h)("input",{key:"87ed9e41659f5a4c806a0b6b31da5926a2727eca","aria-label":e.drag,onChange:e=>{this.fromDevice=!0,this.files=Object.assign({},e.target.files),this.inputElement.value=null},ref:e=>this.inputElement=e,accept:null==r?void 0:r.map((e=>`.${e}`)).join(","),tabIndex:-1,class:"input",type:"file"}),(0,n.h)("div",{key:"1d4a6971f25d76ce747073f0eb3f91dc1e60fa93",class:"text-container"},(0,n.h)("h3",{key:"5b6a2bdc3053bd78e2acfb30e77083bf6e987ffe",class:"text"},e.drag),s?(0,n.h)("calcite-link",{href:s,target:"_blank"},l):(0,n.h)("p",{class:"help-text"},l)),(0,n.h)("div",{key:"b1da3ef316d3a418c06b1a342b3a5b5012c2f2d1",class:"cta-container"},(0,n.h)("button",{key:"93499c4fea3044131a6359c6804f4d97bbf728c4",class:"file-browser-button",onClick:()=>{var e;return null===(e=this.inputElement)||void 0===e?void 0:e.click()},ref:e=>this.mainInputRef=e},(0,n.h)("span",{key:"eb223b14929178dd21cb3582b41b5106f918d868",class:"file-browser-button__icon"},(0,n.h)("calcite-icon",{key:"b6f4cf0e76d7c9a25494228ca9231af9210b1401",icon:"desktop"})),(0,n.h)("span",{key:"c3b526b4c52f26d86b893f19d4a7f4fe4532b11b",class:"file-browser-button__text"},e.device)),i&&[(0,n.h)("button",{key:"b2f8cb7ee12e8a531eb7ee362c139279922eae98",class:"file-browser-button",onClick:()=>this.connectCloudDrive("google drive")},(0,n.h)("span",{key:"0ad5a3d00bca0aaf757d860b46566aa55c5d230a",class:"file-browser-button__icon"},(0,n.h)("svg",{key:"47f8b665b71466df990e772f7964aec65b47a237",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},(0,n.h)("path",{key:"a560440efa1f5a2b65ab03f643f4290612b7f7a7",d:"m9.84 48.35 2.3 4a5.25 5.25 0 0 0 2 2l8.2-14.2H5.9a5.4 5.4 0 0 0 .72 2.69z",fill:"#0066da"}),(0,n.h)("path",{key:"b97a62404785b0519e2ac0de67093590b7086491",d:"m32 23.37-8.26-14.2a5.29 5.29 0 0 0-2 2L6.62 37.39a5.42 5.42 0 0 0-.72 2.69h16.41z",fill:"#00ac47"}),(0,n.h)("path",{key:"db133b0fcb487e549892ca6f00d0d78c23dd6108",d:"M49.79 54.28a5.25 5.25 0 0 0 2-2l1-1.64 4.56-7.9a5.4 5.4 0 0 0 .65-2.66H41.59l3.49 6.86z",fill:"#ea4335"}),(0,n.h)("path",{key:"f3c2396f411615b361a47ed8d4d161fa43f02e25",d:"m32 23.37 8.21-14.2a5.24 5.24 0 0 0-2.69-.72h-11a5.58 5.58 0 0 0-2.69.72z",fill:"#00832d"}),(0,n.h)("path",{key:"ecc11d862442631b0e6ee4c1821d5e6ada223745",d:"M41.59 40.08H22.31l-8.2 14.2a5.2 5.2 0 0 0 2.68.72h30.32a5.51 5.51 0 0 0 2.68-.72z",fill:"#2684fc"}),(0,n.h)("path",{key:"97df332c645e67ac926aeb6cbc8ae608084c049f",d:"m49.7 24.27-7.57-13.13a5.39 5.39 0 0 0-2-2L32 23.37l9.64 16.71H58a5.43 5.43 0 0 0-.72-2.69z",fill:"#ffba00"}))),(0,n.h)("span",{key:"a8e1301b861839b13805371b71f866ce7f96476f",class:"file-browser-button__text"},e.googleDrive)),(0,n.h)("button",{key:"01e4108de82942f11cd906215511de4eca564335",class:"file-browser-button",onClick:()=>this.connectCloudDrive("dropbox")},(0,n.h)("span",{key:"b0bf80a6b339261d7d568d7ac520aa4c764e5f8c",class:"file-browser-button__icon"},(0,n.h)("svg",{key:"bd0f30f0c9af5c25c44d621beaf823e8f0f63c09",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},(0,n.h)("path",{key:"e4f065cf51bb6cc369267e82ea1419057fd3f951",d:"M20 11.61 8 19.26l12 7.64 12-7.64-12-7.65zM44 11.61l-12 7.65 12 7.64 12-7.64-12-7.65z",fill:"#0061ff"}),(0,n.h)("path",{key:"8032bf5960f96058fe4cdb22167b6f790ed25adf",d:"m8 34.55 12 7.64 12-7.64-12-7.65-12 7.65zM44 26.9l-12 7.65 12 7.64 12-7.64-12-7.65zM20 44.74l12 7.65 12-7.65-12-7.64-12 7.64z",fill:"#0061ff"}))),(0,n.h)("span",{key:"4123a8fad3aa6c59b08a7450b33bf8e6ebe04dba",class:"file-browser-button__text"},e.dropbox)),(0,n.h)("button",{key:"e2d4e01234d8271431637b0476445651173d88e6",class:"file-browser-button",onClick:()=>this.connectCloudDrive("onedrive")},(0,n.h)("span",{key:"69fc904dad5bf14a8ad1f9fb30cfc532844acf5b",class:"file-browser-button__icon"},(0,n.h)("svg",{key:"c25c39ca32858b145091ab7e17c570049e4d40f0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},(0,n.h)("g",{key:"3a45224b35676ffedeb68470e160793ffe478a9e"},(0,n.h)("path",{key:"e1d929da02cd504848850030fe8e66f3ded53b8e",d:"M37.14 37.93 47.5 28a15.68 15.68 0 0 0-28.29-4.7c.16 0 17.93 14.63 17.93 14.63z",fill:"#0364b8"}),(0,n.h)("path",{key:"29a4b173b3d9540746177333c6709729a2d1489a",d:"M26 25.16a12.38 12.38 0 0 0-6.59-1.87h-.16A12.53 12.53 0 0 0 9.09 43l15.51-1.94 11.89-9.59z",fill:"#0078d4"}),(0,n.h)("path",{key:"953faabcb69b237ff4bf9289161d0be094efa627",d:"M47.5 28h-.69a10.18 10.18 0 0 0-4 .83l-6.28 2.64L43.41 40l12.37 3a10.2 10.2 0 0 0-8.28-15z",fill:"#1490df"}),(0,n.h)("path",{key:"44b1cbb33170e59da37fc093bd3e85b61a269e01",d:"M9.09 43a12.53 12.53 0 0 0 10.28 5.37h27.44a10.19 10.19 0 0 0 9-5.36L36.49 31.47z",fill:"#28a8ea"})))),(0,n.h)("span",{key:"689a38aaa0ca09ce6e27f06c9fd018fe2f6df0e9",class:"file-browser-button__text"},e.oneDrive))])))}get el(){return(0,n.d)(this)}};l.style=".file-browser{margin-bottom:2rem;box-sizing:border-box;width:100%;border-width:2px;border-style:dashed;border-color:var(--calcite-color-border-1);background-color:var(--calcite-color-background);padding-top:2rem;padding-bottom:2rem;text-align:center}.file-browser.full-height{align-items:center;justify-content:center}.file-browser.append-height{align-items:center;justify-content:center}.alert{text-align:initial}.input{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.text-container{margin-top:2rem;margin-bottom:2rem}.text{font-size:1rem;font-weight:500;color:var(--calcite-color-text-1);margin-top:0px;margin-bottom:0px}.help-text{font-size:0.875rem;font-weight:400;margin-left:auto;margin-right:auto;margin-top:0.5rem;margin-bottom:0px;max-width:38rem}.file-browser-button{margin-top:0px;margin-bottom:0px;margin-left:0.75rem;margin-right:0.75rem;box-sizing:border-box;width:auto;cursor:pointer;border-radius:0;padding:0px;font-size:0.875rem;line-height:1rem;color:var(--calcite-color-text-1);display:inline-flex;align-items:center;border:1px solid var(--calcite-color-border-1);background-color:white;transition:all 150ms ease-in-out;outline-offset:0px;outline-color:transparent;font-family:inherit}.file-browser-button:hover{border-color:var(--calcite-color-brand)}.file-browser-button:focus{outline:2px solid var(--calcite-color-brand);outline-offset:-2px}.file-browser-button__icon{background-color:#f8f8f8;color:var(--calcite-color-text-link);width:32px;height:32px;box-sizing:border-box;padding:4px;display:flex;align-items:center;justify-content:center}.file-browser-button__icon svg{width:100%}.file-browser-button__text{padding:8px}:host(.full-height),.full-height{display:flex;flex-direction:column;height:100%;width:100%}"},78231:(e,i,r)=>{r.d(i,{a:()=>s,b:()=>l,c:()=>c,d:()=>d,e:()=>v,f:()=>b,g:()=>P,h:()=>h,i:()=>a,j:()=>y,k:()=>w,l:()=>m,m:()=>x,n:()=>k,o:()=>p,p:()=>g,q:()=>f,u:()=>u});var n=r(98034),t=r(38973);function o(e){var i;return!!(null===(i=e.owner)||void 0===i?void 0:i.toLowerCase().includes("esri"))}function l(e){var i;return o(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Credits"))}function s(e){var i;return o(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Subscription"))}function a(e,i){return e.owner===i.username}function u(e,i){return a(e,i)||function(e,i){var r;if(null!=e.isAdmin)return!!e.isAdmin;const n=e.owner,t="admin"===e.itemControl,o=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(r=e.portal)||void 0===r?void 0:r.isPortal)&&!a(e,i)&&t&&n.includes("esri_")&&!o.includes(n))return!1;return t}(e,i)}const c=(e,i)=>!!i.orgId&&e.every((e=>e.isOrgItem)),d=(e,i)=>`${(0,t.a)(i)}item.html?id=${e}`,v=(e,i)=>`${(0,t.g)(i)}/content/users/${e}`,f=e=>e.reduce(((e,i)=>(e[i.owner]=e[i.owner]?[...e[i.owner],i.id]:[i.id],e)),{});function p(e){var i;return null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Spatiotemporal")}function b(e){var i;return null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("View Service")}function h(e){var i;return null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Hosted Service")}function m(e){var i;return null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Multi Services View")}function g(e){return(null==e?void 0:e.hasViews)&&!e.sourceSchemaChangesAllowed}async function y(e){var i;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[l]=await(0,n.l)(["esri/request"]);if(null==o?void 0:o.user){return l(`${(0,t.g)(o)}community/users/${o.user.username}`,{query:{f:"json",token:null===(i=r.portal.credential)||void 0===i?void 0:i.token},responseType:"json"}).then((e=>{var i,r;const n=null!==(r=null===(i=e.data)||void 0===i?void 0:i.groups)&&void 0!==r?r:[];return Promise.resolve(n)}),(()=>Promise.reject()))}return Promise.resolve(null)}async function w(e){var i;const r=null==e?void 0:e.portalItem;if(!r)return Promise.resolve(null);const o=r.portal,[l]=await(0,n.l)(["esri/request"]);return l(`${(0,t.g)(o)}content/items/${r.id}/groups`,{query:{f:"json",token:null===(i=r.portal.credential)||void 0===i?void 0:i.token},responseType:"json"}).then((e=>{var i,r,n,t,o,l;const s=[...null!==(r=null===(i=e.data)||void 0===i?void 0:i.admin)&&void 0!==r?r:[],...null!==(t=null===(n=e.data)||void 0===n?void 0:n.member)&&void 0!==t?t:[],...null!==(l=null===(o=e.data)||void 0===o?void 0:o.other)&&void 0!==l?l:[]];return Promise.resolve(s)}),(()=>Promise.reject()))}async function k(e,i,{relationshipType:r,direction:o}){const l=`${(0,t.g)(i)}content/items/${e}/relatedItems`,[s]=await(0,n.l)(["esri/request"]);return await s(l,{query:{f:"json",relationshipType:r,direction:o},method:"get",responseType:"json"})}function x(e,i){return null==e?void 0:e.some((e=>null==i?void 0:i.some((i=>e.id===i.id&&e.capabilities.includes("updateitemcontrol")))))}const P=(e,i)=>`${i}/content/items/${e}`},79717:(e,i,r)=>{r.d(i,{a:()=>v,b:()=>c,c:()=>s,d:()=>a,e:()=>f,f:()=>o,g:()=>d,h:()=>l,i:()=>p,q:()=>u});var n=r(25972),t=r(38973);function o(e){var i;return"ArcGISEnterpriseOnKubernetes"===(e.portalDeploymentType||(null===(i=e.sourceJSON)||void 0===i?void 0:i.portalDeploymentType))}function l(e){var i,r;return e.isPortal?"modern"===(null===(r=e.portalProperties)||void 0===r?void 0:r.homePage)||function(e){var i;return e.isPortal&&"modernOnly"===(null===(i=e.portalProperties)||void 0===i?void 0:i.homePage)}(e):"modern"===(null===(i=e.portalProperties)||void 0===i?void 0:i.homePage)||function(e){const i=new Date("June 30, 2020").getTime();return!e.isPortal&&e.created>=i}(e)}async function s(e){try{return{result:await(0,n.f)((()=>(0,n.r)(`${(0,t.g)(e)}portals/self/resources/home.page.json`)),"homePageConfig",e.id)}}catch(e){return{result:void 0}}}async function a(e){return(0,n.f)((()=>(0,n.r)(`${(0,t.g)(e)}portals/self/userDefaultSettings`)),"memberDefaults",e.id)}async function u(e={},i){return(0,n.r)(`${(0,t.g)(i)}/community/groups`,e)}const c=async(e,i)=>{var r;if(!e)return[];const o=`${(0,t.a)(null!==(r=i.restUrl)&&void 0!==r?r:i.portalUrl)}portals/self/servers`,l=await(0,n.f)((()=>(0,n.r)(o)),"selfServers",i.id);return null==l?void 0:l.servers},d=e=>v((0,t.c)(e)),v=e=>{var i;const r=`${(0,t.a)(null!==(i=(0,t.b)(e))&&void 0!==i?i:e)}info`;return(0,n.f)((()=>(0,n.r)(r,{},{addTokenManually:!1})),"portalInfo",r)};async function f(e,i){return!e.isPortal||await p(e,i)}async function p(e,i){if(!i||!e)return!1;if(!e.isPortal)return!0;const{result:r,error:t}=await(0,n.f)((()=>b(e,i)),"isPortalBackedBySDS",e.id);return!t&&r}const b=async(e,i)=>{if(e.isBackedBySDS)return{result:!0};if(!e.isPortal)return{result:!0};try{return{result:!!await h(i,e)}}catch(e){return console.error(e),{error:{code:"unhandledError",message:JSON.stringify(e)},result:!1}}},h=async(e,i)=>{var r;return(null!==(r=await c(e,i))&&void 0!==r?r:[]).filter((e=>e.isHosted))[0]}},16808:(e,i,r)=>{r.d(i,{A:()=>S,B:()=>j,a:()=>z,b:()=>g,c:()=>O,d:()=>v,e:()=>f,f:()=>k,g:()=>y,h:()=>p,i:()=>m,j:()=>x,k:()=>P,l:()=>T,m:()=>c,n:()=>D,o:()=>C,p:()=>d,q:()=>E,r:()=>H,s:()=>A,t:()=>L,u:()=>M,v:()=>q,w:()=>$,x:()=>V,y:()=>a,z:()=>_});var n=r(79717),t=r(38973),o=r(68537),l=r(44090),s=r(25972);async function a(){return new Promise((async e=>{const{portal:i}=l.c;if(null==i?void 0:i.isPortal){const r=i.helperServices.geocode,n=await function(e){const{config:i,portal:r}=l.c;return new Promise((async(n,t)=>{const o=e.filter((e=>u(e.url,r))).filter((e=>e.isEsriBatchGeocoder))[0];if(o){const e=o.url.split("/servers/")[1].split("/rest/services/")[0],r=`${i.restBaseUrl}/content/items/${e}`;try{n((await(0,s.r)(r)).url)}catch(e){t(e)}}else t("No world geocoder configured")}))}(r);e(n)}else{const r=function(e){const i=null==e?void 0:e.portalHostname;if(-1!==i.indexOf("dev"))return"dev";if(-1!==i.indexOf("qa"))return"qa";return""}(i);e(`https://geocode${r}.arcgis.com/arcgis/rest/services/World/GeocodeServer`)}}))}function u(e="",i){var r;const n=i.isPortal,t=e.toLowerCase(),o=t.indexOf("/geocodeserver")>-1&&t.indexOf("/rest/services/")>-1,l=n&&t.indexOf(null===(r=i.portalHostname)||void 0===r?void 0:r.toLowerCase())>-1,s=!n&&t.indexOf("utility")&&t.indexOf(".arcgis.com")>-1;return o&&(l||s)}function c(e){return(0,o.b)(e)||(null==e?void 0:e.privileges.includes("portal:user:createItem"))}function d(e){return(0,o.b)(e)||(null==e?void 0:e.privileges.includes("portal:user:receiveItems"))}async function v(e,i){return!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishFeatures"))&&await(0,n.i)(i,e)}const f=e=>!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishServerServices"));async function p(e,i){return!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishTiles"))&&await(0,n.i)(i,e)}const b=async(e,i)=>{var r;return await p(e,i)&&(!i.isPortal||!!i.supports3DTilesServices||!!(null===(r=i.sourceJSON)||void 0===r?void 0:r.supports3DTilesServices))};function h(e){return!(0,o.b)(e)&&!0}function m(e){var i;return!(0,o.b)(e)&&(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:publishScenes"))}const g=e=>!(0,o.b)(e);function y(e,i,r){var n,t;const o=!!(null===(t=null===(n=i.helperServices)||void 0===n?void 0:n.rasterAnalytics)||void 0===t?void 0:t.url),l=function(e,i,r){var n;return(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:publisher:publishDynamicImagery"))&&(i.isPortal||w(r))}(e,i,r),s=i.isPortal?l:l||function(e,i,r){var n;return(null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes("portal:publisher:publishTiledImagery"))&&!i.isPortal&&w(r)}(e,i,r);return o&&s}function w(e){return null==e?void 0:e.some((e=>{var i;return null===(i=e.entitlements)||void 0===i?void 0:i.some((e=>"image"===e.toLowerCase()))}))}async function k(e){var i;const{userLicensedItems:r}=await(0,s.r)(`${null!==(i=e.restUrl)&&void 0!==i?i:e.portalUrl}/community/self?returnUserLicensedItems=true`);return r}function x(e,i){var r,n;const l=null===(r=i.helperServices)||void 0===r?void 0:r.geocode.some((({url:e})=>u(e,i))),s=null!==(n=null==e?void 0:e.privileges)&&void 0!==n?n:[];return!(0,o.b)(e)&&l&&(!i.isPortal||!(0,t.i)(i)&&s.includes("portal:user:viewOrgItems")&&s.includes("portal:user:createItem"))}const P=e=>!(0,o.b)(e);function S(e){return null==e?void 0:e.privileges.includes("premium:publisher:createAdvancedNotebooks")}function _(e){return null==e?void 0:e.privileges.includes("premium:publisher:createNotebooks")}function I(e){return["portal:publisher:createDataPipelines","portal:user:createItem","portal:publisher:publishFeatures"].every((i=>{var r;return null===(r=e.privileges)||void 0===r?void 0:r.includes(i)}))}function T(e,i){var r,n,t;return i.isPortal?!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:registerDataStores")):I(e)&&("1"===(null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.level)||"2"===(null===(t=null==e?void 0:e.sourceJSON)||void 0===t?void 0:t.level))}const D=e=>!(0,o.b)(e)&&I(e);function C(e){return!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("premium:user:geocode"))}const L=e=>null==e?void 0:e.privileges.includes("premium:user:geocode:stored");async function O(e,i,r){return!i.isPortal&&await v(e,i)&&await async function(e,i,r){return!(0,o.b)(e)&&!!i.supportsHostedServices&&c(e)&&(await p(e,i)||await v(e,i)||m(e)||h(e)||y(e,i,r))}(e,i,r)}async function z(e,i,r){switch(i){case"CSV":case"GeoJson":case"Microsoft Excel":case"Shapefile":case"File Geodatabase":case"Photos with Locations":return v(e,r);case"Tile Package":return p(e,r);case"3DTiles Package":return b(e,r);case"Vector Tile Package":return h(e);case"Scene Package":return m(e);case"Service Definition":return async function(e,i){return await v(e,i)&&await p(e,i)}(e,r);default:return!0}}function H(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageCredits"))}function M(e,i){var r,n,t;return(0,o.e)(e)||H(e)||!!((null!==(r=null==e?void 0:e.assignedCredits)&&void 0!==r?r:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.assignedCredits)>-1&&(null===(t=null==i?void 0:i.portalProperties)||void 0===t?void 0:t.showCreditsOnProfile))}const $=e=>!1;function j(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))}function A(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))}function E(e){return(0,o.d)(e)||A(e)&&function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewItems"))}(e)&&(function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:reassignItems"))}(e))}function V(e){return e.map((e=>`portal:app:access:item:${e.id}`))}const q=e=>e.privileges.includes("portal:user:assignPrivilegesToApps")},68537:(e,i,r)=>{r.d(i,{a:()=>s,b:()=>o,c:()=>l,d:()=>p,e:()=>f,f:()=>v,g:()=>b,h:()=>m,i:()=>u,j:()=>h,k:()=>I,l:()=>a,m:()=>g,n:()=>d,o:()=>L,p:()=>w,q:()=>k,r:()=>_,s:()=>P,t:()=>x,u:()=>S,v:()=>D,w:()=>c,x:()=>T});var n=r(78231);const t=e=>{var i,r,n;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(r=null!==(i=null==e?void 0:e.roleId)&&void 0!==i?i:null==e?void 0:e.id)&&void 0!==r?r:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.id};function o(e){return e&&!e.orgId}function l(e,i){return(0,n.u)(e,i)||"update"===e.itemControl||(0,n.c)([e],i)&&f(i)}function s(e,i){const r=(0,n.c)([e],i),t=(0,n.u)(e,i)||f(i)&&r,o=b(i)&&y(i);return!!(t||r&&o)}const a=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageLicenses"))};function u(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function c(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function d(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const v=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("Developer")};function f(e){return"org_admin"===t(e)||"account_admin"===t(e)}function p(e){return["org_admin","account_admin"].includes(t(e))&&!(null==e?void 0:e.roleId)}function b(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function h(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItemCategorySchema"))}function m(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateGroups"))}function g(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:assignToGroups"))}const y=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))};function w(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function k(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function x(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function P(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function S(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function _(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function I(e,i,r,n){const t=n&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(n.type),o=((null==i?void 0:i.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!i||!f(i)&&!o||!(null==r?void 0:r.isPortal)&&!t)}function T(e){return!!e&&(!b(e)||b(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const D=({items:e,user:i,portal:r})=>{const t=e[0],o=t.owner;if(r.isPortal&&o!==i.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const s=(0,n.u)(t,i),a=b(i),u=C(i),c=l(t,i)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(i)&&!a&&(function(e,i){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(i)||w(e)||k(e)||!!i.canSharePublic&&x(e)}(i,r)||C(i));return s||c||(0,n.c)(e,i)&&u};function C(e){return _(e)||P(e)||S(e)}function L(e){const i=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];return e.some((e=>i.includes(e)))}}}]);