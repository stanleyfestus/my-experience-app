/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-9978f1.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-9978f1"],{99004:(t,i,e)=>{e.d(i,{c:()=>a,g:()=>s});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e.g?e.g:"undefined"!=typeof self?self:{};function s(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}},27521:(t,i,e)=>{e.r(i),e.d(i,{arcgis_item_classification_header_help_tooltip:()=>r,arcgis_item_classification_input_checkbox:()=>l,arcgis_item_classification_input_date:()=>o,arcgis_item_classification_input_grouped_multiple_selection:()=>n,arcgis_item_classification_input_multiple_selection:()=>c,arcgis_item_classification_input_single_selection:()=>u,arcgis_item_classification_input_textbox:()=>d,item_classification_category:()=>h,item_classification_content:()=>b,item_classification_info:()=>f,item_classification_notification:()=>m});var a=e(20536),s=e(28250);e(44090),e(10699),e(98034),e(99004),e(25972),e(38973),e(369);const r=class{constructor(t){(0,a.r)(this,t),this.renderTooltipLink=()=>this.helpUrl?(0,a.h)("calcite-link",{href:this.helpUrl,target:"_blank",id:"tooltip-button"},this.helpTooltip):this.helpTooltip,this.helpUrl=void 0,this.helpTooltip=void 0}render(){return(0,a.h)("arcgis-information",{key:"b89dfcb997692d6a27c0e985b236796847fa3105",label:this.helpTooltip,paddedContent:!0,placement:"bottom-end",overlayPositioning:"fixed"},this.renderTooltipLink())}},l=class{constructor(t){(0,a.r)(this,t),this.attributeValueChange=(0,a.c)(this,"attributeValueChange",7),this.invalid=!1,this.toggleAttribute=t=>{t.target.checked?(this.itemClassificationValue[this.attributeId]=t.target.checked,this.itemClassificationValueWithDefaults[this.attributeId]=t.target.checked):(delete this.itemClassificationValue[this.attributeId],delete this.itemClassificationValueWithDefaults[this.attributeId]),this.attributeValueChange.emit({classification:Object.assign({},this.itemClassificationValue),classificationWithDefaults:Object.assign({},this.itemClassificationValueWithDefaults),attributeId:this.attributeId})},this.i18n=void 0,this.inputData=void 0,this.isSaving=void 0}componentWillLoad(){this.loadAttributes()}loadAttributes(){var t,i,e;this.attributeValue=this.inputData.attributeValue,this.itemClassificationValue=this.inputData.itemClassificationValue,this.itemClassificationValueWithDefaults=this.inputData.itemClassificationValueWithDefaults,this.attributeId=this.inputData.attributeId,this.labelClass=this.attributeId,this.attributeLabel=null===(t=this.attributeValue)||void 0===t?void 0:t.label,this.attributeIsRequired=!!(null===(i=this.attributeValue)||void 0===i?void 0:i.isRequired),this.isChecked=!!(null===(e=this.itemClassificationValueWithDefaults)||void 0===e?void 0:e[this.attributeId]);const{invalid:a,errorMsg:r}=(0,s.t)(this.attributeId,this.inputData.classificationErrors);this.invalid=a,this.errorMsg=r}render(){return(0,a.h)("div",{key:"3855111461a58f13ec5860a903603a8004661387",class:"classification-checkbox"},(0,a.h)("calcite-label",{class:`trailer-0 flex-1 ${this.labelClass}`,key:this.attributeId,layout:"inline"},(0,a.h)("calcite-checkbox",{key:"506a591c40dfc53ec79cb3d5422c8dc52bf4e342",id:this.attributeId,name:this.attributeLabel,scale:"m",checked:this.isChecked,onCalciteCheckboxChange:this.toggleAttribute,disabled:this.isSaving,required:this.attributeIsRequired,status:this.invalid?"invalid":"idle"}),this.attributeLabel,this.invalid&&(0,a.h)("calcite-input-message",{key:"ece66f1d0fa3e538a9a908d2c00326bacb760ed9",icon:"exclamation-mark-triangle",status:"invalid"},this.errorMsg)))}static get watchers(){return{inputData:["loadAttributes"]}}};l.style='.input-error-message{font-size:0.875rem;line-height:1.5;padding:0.375rem 0.375rem;color:rgba(0, 0, 0, 0.75);background-color:#f3ded7;border:1px solid #e4a793;position:relative;margin-top:0.5rem;margin-bottom:0.75rem}.input-error-message:before{content:"";position:absolute;left:11px;top:-16px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#e4a793}.input-error-message:after{content:"";position:absolute;left:11px;top:-15px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#f3ded7}';const o=class{constructor(t){(0,a.r)(this,t),this.attributeValueChange=(0,a.c)(this,"attributeValueChange",7),this.invalid=!1,this.onDateChange=t=>{const i=t.target.value;i?(this.itemClassificationValue[this.attributeId]=i,this.itemClassificationValueWithDefaults[this.attributeId]=i):(delete this.itemClassificationValue[this.attributeId],delete this.itemClassificationValueWithDefaults[this.attributeId]),this.attributeValueChange.emit({classification:Object.assign({},this.itemClassificationValue),classificationWithDefaults:Object.assign({},this.itemClassificationValueWithDefaults),attributeId:this.attributeId})},this.i18n=void 0,this.inputData=void 0,this.isSaving=void 0}componentWillLoad(){this.loadAttributes()}loadAttributes(){var t,i,e,a;this.attributeValue=this.inputData.attributeValue,this.itemClassificationValue=this.inputData.itemClassificationValue,this.itemClassificationValueWithDefaults=this.inputData.itemClassificationValueWithDefaults,this.attributeId=this.inputData.attributeId,this.labelClass=this.attributeId,this.attributeLabel=null===(t=this.attributeValue)||void 0===t?void 0:t.label,this.attributeIsRequired=!!(null===(i=this.attributeValue)||void 0===i?void 0:i.isRequired),this.currentInputValue=null!==(a=null===(e=this.itemClassificationValueWithDefaults)||void 0===e?void 0:e[this.attributeId])&&void 0!==a?a:(0,s.u)(s.i.itemClassificationSchema.attributes[this.attributeId]);const{invalid:r,errorMsg:l}=(0,s.t)(this.attributeId,this.inputData.classificationErrors);this.invalid=r,this.errorMsg=l}disconnectedCallback(){const{itemClassificationValue:t}=s.i;delete t[this.attributeId],s.i.itemClassificationValue=t}render(){return(0,a.h)("div",{key:"1478f1cecd100bcd318a5fdefe9f4d93de25ee30",class:"classification-date"},(0,a.h)("calcite-label",{class:`trailer-0 flex-1 ${this.labelClass}`,key:this.attributeId},this.attributeLabel,(0,a.h)("div",{key:"4078fde170dd44ff2428d4a1d4cd8f15ce4a0219",class:this.labelClass},(0,a.h)("calcite-input-date-picker",{key:"3098e0c55df0f34a13e336aae7abaac8cab12d7d",id:this.attributeId,name:this.attributeLabel,value:this.currentInputValue,onCalciteInputDatePickerChange:this.onDateChange,disabled:this.isSaving,status:this.invalid?"invalid":"idle",required:this.attributeIsRequired}),this.invalid&&(0,a.h)("calcite-input-message",{key:"e07cdb19c4090c1b7ca0e5a5da523bb30ba07db5",icon:"exclamation-mark-triangle",status:"invalid"},this.errorMsg))))}static get watchers(){return{inputData:["loadAttributes"]}}};o.style='.input-error-message{font-size:0.875rem;line-height:1.5;padding:0.375rem 0.375rem;color:rgba(0, 0, 0, 0.75);background-color:#f3ded7;border:1px solid #e4a793;position:relative;margin-top:0.5rem;margin-bottom:0.75rem}.input-error-message:before{content:"";position:absolute;left:11px;top:-16px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#e4a793}.input-error-message:after{content:"";position:absolute;left:11px;top:-15px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#f3ded7}';const n=class{constructor(t){(0,a.r)(this,t),this.attributeValueChange=(0,a.c)(this,"attributeValueChange",7),this.invalid=!1,this.renderCombobox=()=>{let t=[];for(const i in this.valueExpressionResult){const e=this.valueExpressionResult[i],s=(0,a.h)("calcite-combobox-item",{textLabel:i,value:i,key:i},e.map((({label:t,value:i})=>{var e;const s=!!(null===(e=this.selectedValues)||void 0===e?void 0:e.includes(i));return(0,a.h)("calcite-combobox-item",{key:t,textLabel:t,value:i,selected:s})})));t=[...t,structuredClone(s)]}return t},this.onAttributesChange=t=>{const i=t.target.selectedItems.length,e=t.target.value;0===i?(delete this.itemClassificationValue[this.attributeId],delete this.itemClassificationValueWithDefaults[this.attributeId]):1===i?(this.itemClassificationValue[this.attributeId]=[e],this.itemClassificationValueWithDefaults[this.attributeId]=[e]):i>1&&(this.itemClassificationValue[this.attributeId]=[...e],this.itemClassificationValueWithDefaults[this.attributeId]=[...e]),this.attributeValueChange.emit({classification:Object.assign({},this.itemClassificationValue),classificationWithDefaults:Object.assign({},this.itemClassificationValueWithDefaults),attributeId:this.attributeId})},this.i18n=void 0,this.inputData=void 0,this.isSaving=void 0}componentWillLoad(){this.loadAttributes()}loadAttributes(){var t,i;this.attributeValue=this.inputData.attributeValue,this.itemClassificationValue=this.inputData.itemClassificationValue,this.itemClassificationValueWithDefaults=this.inputData.itemClassificationValueWithDefaults,this.attributeId=this.inputData.attributeId,this.valueExpressionResult=this.inputData.valueExpressionResult,this.attributeIsRequired=!!(null===(t=this.attributeValue)||void 0===t?void 0:t.isRequired),this.attributeLabel=null===(i=this.attributeValue)||void 0===i?void 0:i.label,this.selectedValues=this.itemClassificationValueWithDefaults[this.attributeId];const{invalid:e,errorMsg:a}=(0,s.t)(this.attributeId,this.inputData.classificationErrors);this.invalid=e,this.errorMsg=a}render(){return(0,a.h)("div",{key:"6a1f2eb04ec519e406cbf1695f91142783d356e0",class:"classification-multiple-group-select"},(0,a.h)("calcite-label",{key:this.attributeId,id:`${this.attributeId}-label`},this.attributeLabel,(0,a.h)("calcite-combobox",{key:"bcee7a24bb963b2a3872ba628b7c32011b00cd14",id:this.attributeId,label:this.i18n.multipleSelectionLabel,selectionMode:"multiple",scale:"m",onCalciteComboboxChange:this.onAttributesChange,disabled:this.isSaving,required:this.attributeIsRequired,placeholder:this.i18n.selectOptions,overlayPositioning:"fixed",status:this.invalid?"invalid":"idle",validationIcon:this.invalid?"exclamation-mark-triangle":"",validationMessage:this.invalid?this.errorMsg:""},this.renderCombobox())))}static get watchers(){return{inputData:["loadAttributes"]}}};n.style='.input-error-message{font-size:0.875rem;line-height:1.5;padding:0.375rem 0.375rem;color:rgba(0, 0, 0, 0.75);background-color:#f3ded7;border:1px solid #e4a793;position:relative;margin-top:0.5rem;margin-bottom:0.75rem}.input-error-message:before{content:"";position:absolute;left:11px;top:-16px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#e4a793}.input-error-message:after{content:"";position:absolute;left:11px;top:-15px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#f3ded7}';const c=class{constructor(t){(0,a.r)(this,t),this.attributeValueChange=(0,a.c)(this,"attributeValueChange",7),this.invalid=!1,this.renderCombobox=()=>{var t;return Array.isArray(this.valueExpressionResult)?null===(t=this.valueExpressionResult)||void 0===t?void 0:t.map((({label:t,value:i})=>{var e;const s=!!(null===(e=this.selectedValues)||void 0===e?void 0:e.includes(i));return(0,a.h)("calcite-combobox-item",{id:t,selected:s,key:t,value:i,textLabel:t})})):[]},this.onAttributesChange=t=>{const i=t.target.selectedItems.length,e=t.target.value;0===i?(delete this.itemClassificationValue[this.attributeId],delete this.itemClassificationValueWithDefaults[this.attributeId]):1===i?(this.itemClassificationValue[this.attributeId]=[e],this.itemClassificationValueWithDefaults[this.attributeId]=[e]):i>1&&(this.itemClassificationValue[this.attributeId]=[...e],this.itemClassificationValueWithDefaults[this.attributeId]=[...e]),this.attributeValueChange.emit({classification:Object.assign({},this.itemClassificationValue),classificationWithDefaults:Object.assign({},this.itemClassificationValueWithDefaults),attributeId:this.attributeId})},this.i18n=void 0,this.inputData=void 0,this.isSaving=void 0}componentWillLoad(){this.loadAttributes()}loadAttributes(){var t,i,e,a,r,l;this.attributeValue=null===(t=this.inputData)||void 0===t?void 0:t.attributeValue,this.itemClassificationValue=this.inputData.itemClassificationValue,this.itemClassificationValueWithDefaults=this.inputData.itemClassificationValueWithDefaults,this.attributeId=null===(i=this.inputData)||void 0===i?void 0:i.attributeId,this.valueExpressionResult=null===(e=this.inputData)||void 0===e?void 0:e.valueExpressionResult,this.attributeIsRequired=!!(null===(a=this.attributeValue)||void 0===a?void 0:a.isRequired),this.attributeLabel=null===(r=this.attributeValue)||void 0===r?void 0:r.label,this.selectedValues=null===(l=this.itemClassificationValueWithDefaults)||void 0===l?void 0:l[this.attributeId];const{invalid:o,errorMsg:n}=(0,s.t)(this.attributeId,this.inputData.classificationErrors);this.invalid=o,this.errorMsg=n}render(){return(0,a.h)("div",{key:"bf7379b20939653065b3cdf0e765ce7ba392228e",class:"classification-multiple-select"},(0,a.h)("calcite-label",{key:this.attributeId,id:`${this.attributeId}-label`},this.attributeLabel,(0,a.h)("calcite-combobox",{key:"83a758d71cc02581bdb863ba1787b0a7564fa5df",id:this.attributeId,label:this.i18n.multipleSelectionLabel,overlayPositioning:"fixed",selectionMode:"multiple",scale:"m",onCalciteComboboxChange:this.onAttributesChange,disabled:this.isSaving,required:this.attributeIsRequired,placeholder:this.i18n.selectOptions,status:this.invalid?"invalid":"idle",validationIcon:this.invalid?"exclamation-mark-triangle":"",validationMessage:this.invalid?this.errorMsg:""},this.renderCombobox())))}static get watchers(){return{inputData:["loadAttributes"]}}};c.style='.input-error-message{font-size:0.875rem;line-height:1.5;padding:0.375rem 0.375rem;color:rgba(0, 0, 0, 0.75);background-color:#f3ded7;border:1px solid #e4a793;position:relative;margin-top:0.5rem;margin-bottom:0.75rem}.input-error-message:before{content:"";position:absolute;left:11px;top:-16px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#e4a793}.input-error-message:after{content:"";position:absolute;left:11px;top:-15px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#f3ded7}';const u=class{constructor(t){(0,a.r)(this,t),this.attributeValueChange=(0,a.c)(this,"attributeValueChange",7),this.invalid=!1,this.renderCombobox=()=>{var t;return Array.isArray(this.valueExpressionResult)?null===(t=this.valueExpressionResult)||void 0===t?void 0:t.map((({label:t,value:i})=>{var e;const s=!!(null===(e=this.selectedValues)||void 0===e?void 0:e.includes(i));return(0,a.h)("calcite-combobox-item",{id:t,selected:s,key:t,value:i,textLabel:t})})):[]},this.onAttributeChange=t=>{const i=t.target.value;i?(this.itemClassificationValue[this.attributeId]=i,this.itemClassificationValueWithDefaults[this.attributeId]=i):(delete this.itemClassificationValue[this.attributeId],delete this.itemClassificationValueWithDefaults[this.attributeId]),this.attributeValueChange.emit({classification:Object.assign({},this.itemClassificationValue),classificationWithDefaults:Object.assign({},this.itemClassificationValueWithDefaults),attributeId:this.attributeId})},this.i18n=void 0,this.inputData=void 0,this.isSaving=void 0}componentWillLoad(){this.loadAttributes()}loadAttributes(){var t,i;this.attributeValue=this.inputData.attributeValue,this.itemClassificationValue=this.inputData.itemClassificationValue,this.itemClassificationValueWithDefaults=this.inputData.itemClassificationValueWithDefaults,this.attributeId=this.inputData.attributeId,this.valueExpressionResult=this.inputData.valueExpressionResult,this.attributeIsRequired=!!(null===(t=this.attributeValue)||void 0===t?void 0:t.isRequired),this.attributeLabel=null===(i=this.attributeValue)||void 0===i?void 0:i.label,this.selectedValues=this.itemClassificationValueWithDefaults[this.attributeId];const{invalid:e,errorMsg:a}=(0,s.t)(this.attributeId,this.inputData.classificationErrors);this.invalid=e,this.errorMsg=a}render(){return(0,a.h)("div",{key:"5efefbe6e35e0579d65b828ef45282142010405f",class:"classification-single-select"},(0,a.h)("calcite-label",{key:this.attributeId,id:`${this.attributeId}-label`},this.attributeLabel,(0,a.h)("calcite-combobox",{key:"3545d60544c5cd69a849158f1f882c7c9071adc2",id:this.attributeId,label:this.i18n.singleSelectionLabel,selectionMode:"single",scale:"m",onCalciteComboboxChange:this.onAttributeChange,disabled:this.isSaving,required:this.attributeIsRequired,placeholder:this.i18n.selectAnOption,overlayPositioning:"fixed",status:this.invalid?"invalid":"idle",validationIcon:this.invalid?"exclamation-mark-triangle":"",validationMessage:this.invalid?this.errorMsg:""},this.renderCombobox())))}static get watchers(){return{inputData:["loadAttributes"]}}};u.style='.input-error-message{font-size:0.875rem;line-height:1.5;padding:0.375rem 0.375rem;color:rgba(0, 0, 0, 0.75);background-color:#f3ded7;border:1px solid #e4a793;position:relative;margin-top:0.5rem;margin-bottom:0.75rem}.input-error-message:before{content:"";position:absolute;left:11px;top:-16px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#e4a793}.input-error-message:after{content:"";position:absolute;left:11px;top:-15px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#f3ded7}';const d=class{constructor(t){(0,a.r)(this,t),this.attributeValueChange=(0,a.c)(this,"attributeValueChange",7),this.invalid=!1,this.getAttributeType=t=>{const i=null==t?void 0:t.type;return"string"===i?"text":["integer","float"].includes(i)?"number":"date"===i?"date":"text"},this.onAttributeChange=t=>{const i=t.target.value;i?(this.itemClassificationValue[this.attributeId]=i,this.itemClassificationValueWithDefaults[this.attributeId]=i):(delete this.itemClassificationValue[this.attributeId],delete this.itemClassificationValueWithDefaults[this.attributeId]),this.attributeValueChange.emit({classification:Object.assign({},this.itemClassificationValue),classificationWithDefaults:Object.assign({},this.itemClassificationValueWithDefaults),attributeId:this.attributeId})},this.i18n=void 0,this.inputData=void 0,this.isSaving=void 0}componentWillLoad(){this.loadAttributes()}loadAttributes(){var t,i,e,a,r;this.attributeValue=this.inputData.attributeValue,this.itemClassificationValue=this.inputData.itemClassificationValue,this.itemClassificationValueWithDefaults=this.inputData.itemClassificationValueWithDefaults,this.attributeId=this.inputData.attributeId,this.labelTooltip=null===(t=this.attributeValue)||void 0===t?void 0:t.labelTooltip,this.labelClass=this.attributeId,this.attributeLabel=null===(i=this.attributeValue)||void 0===i?void 0:i.label,this.attributeDesc=null===(e=this.attributeValue)||void 0===e?void 0:e.description,this.attributeIsRequired=!!(null===(a=this.attributeValue)||void 0===a?void 0:a.isRequired),this.currentInputValue=null===(r=this.itemClassificationValueWithDefaults)||void 0===r?void 0:r[this.attributeId],this.attributeType=this.getAttributeType(this.attributeValue);const{invalid:l,errorMsg:o}=(0,s.t)(this.attributeId,this.inputData.classificationErrors);this.invalid=l,this.errorMsg=o}render(){return(0,a.h)("div",{key:"13cdb81a5c81d56a112f0ad8764ef075390def7a",class:"classification-textbox"},(0,a.h)("calcite-label",{class:`trailer-0 flex-1 ${this.labelClass}`,key:this.attributeId,id:`${this.attributeId}-label`},(0,a.h)("arcgis-item-classification-attribute-tooltip",{key:"e055f1833b056209fe06156383b23b23bad51371",attributeId:this.attributeId,label:this.attributeLabel,labelTooltip:this.labelTooltip}),(0,a.h)("div",{key:"cd44d112e2c8f325b73c372b4935085c4066d508",class:this.labelClass},(0,a.h)("calcite-input",{key:"b20b724dd303c32c1d1936be8285d4014cd3e970",id:this.attributeId,name:this.attributeLabel,scale:"m",type:this.attributeType,value:this.currentInputValue,numberButtonType:"vertical",placeholder:this.attributeDesc,onCalciteInputInput:this.onAttributeChange,disabled:this.isSaving,status:this.invalid?"invalid":"idle",required:this.attributeIsRequired}),this.invalid&&(0,a.h)("calcite-input-message",{key:"08848a3c2fc4eb66bf4224b7787f09ea55003a19",icon:"exclamation-mark-triangle",status:"invalid"},this.errorMsg))))}static get watchers(){return{inputData:["loadAttributes"]}}};d.style='.input-error-message{font-size:0.875rem;line-height:1.5;padding:0.375rem 0.375rem;color:rgba(0, 0, 0, 0.75);background-color:#f3ded7;border:1px solid #e4a793;position:relative;margin-top:0.5rem;margin-bottom:0.75rem}.input-error-message:before{content:"";position:absolute;left:11px;top:-16px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#e4a793}.input-error-message:after{content:"";position:absolute;left:11px;top:-15px;width:0;height:0;pointer-events:none;border:8px solid transparent;border-bottom-color:#f3ded7}';const h=class{constructor(t){(0,a.r)(this,t),this.classificationTypeChange=(0,a.c)(this,"classificationTypeChange",7),this.classificationValueChange=(0,a.c)(this,"classificationValueChange",7),this.i18n=void 0,this.primaryAttribute=void 0,this.classificationCategoryArr=void 0,this.classificationType=void 0}getClassificationType(t){return this.classificationCategoryArr.find((({value:i})=>i===t))}changeClassificationCategory(t){const i=t.target;if(i.value){const t=i.value,e=this.getClassificationType(t);this.classificationTypeChange.emit(e),this.classificationValueChange.emit(e.value)}}configureClassificationCategoryMenu(){return this.classificationCategoryArr.map((({value:t})=>(0,a.h)("calcite-combobox-item",{id:t,selected:t===this.classificationType.value,key:t,value:t,textLabel:t})))}getPrimaryAttributeLabels(){const{itemClassificationSchema:t}=s.i;return t.attributes[this.primaryAttribute]}render(){const{label:t,labelTooltip:i}=this.getPrimaryAttributeLabels();return(0,a.h)("div",{key:"924eb79cc382b12ff0a9e70f6991aaea68b6dd7e",class:"item-classification-category"},(0,a.h)("calcite-label",{key:"e3ca9687d40d7e95fd8de3d5adbf708851d4c894",class:"classification-category-label"},(0,a.h)("arcgis-item-classification-attribute-tooltip",{key:"22b77d7a3489ea790740044cd3038934e8d79f27",attributeId:this.primaryAttribute,label:t,labelTooltip:i}),(0,a.h)("calcite-combobox",{key:"dcde543344e53bbe3f19bd87be1bc3ddee77d583",id:"classification-category",label:this.i18n.itemClassificationCategoryLabel,selectionMode:"single",scale:"m",onCalciteComboboxChange:t=>this.changeClassificationCategory(t),overlayPositioning:"fixed"},this.configureClassificationCategoryMenu())))}};h.style="";const b=class{constructor(t){(0,a.r)(this,t),this.attributeCategoryChange=(0,a.c)(this,"attributeCategoryChange",7),this.arcgisItemClassificationContentDisplayNotification=(0,a.c)(this,"arcgisItemClassificationContentDisplayNotification",7),this.attributeElementsCopy={},this.getFormDisplayOrder=t=>s.i.itemClassificationSchema.layouts.default.layoutElements[t].formDisplayOrder,this.createUIElements=async(t,i,e)=>{var a;let r;const{itemClassificationSchema:l}=s.i;if(e){const e=(null===(a=l.attributes[t])||void 0===a?void 0:a.uiElement)||"text",o=structuredClone(this.itemClassificationValue),n=structuredClone(this.itemClassificationValueWithDefaults),{classificationErrors:c}=s.i;if(e.includes("-select"))try{const a=await(0,s.w)(t,l,n);"multi-select"===e?r=this.renderMultiSelectElement({attributeValue:i,attributeId:t,itemClassificationValue:o,itemClassificationValueWithDefaults:n,classificationErrors:c,valueExpressionResult:a}):["multi-grouped-select","multi-grouped-select-nested"].includes(e)?r=this.renderGroupedMultiSelectElement({attributeValue:i,attributeId:t,itemClassificationValue:o,itemClassificationValueWithDefaults:n,classificationErrors:c,valueExpressionResult:a}):"single-select"===e&&(r=this.renderSingleSelectElement({attributeValue:i,attributeId:t,itemClassificationValue:o,itemClassificationValueWithDefaults:n,classificationErrors:c,valueExpressionResult:a}))}catch(t){this.arcgisItemClassificationContentDisplayNotification.emit({alertIndicatorActive:!0,alertIndicatorType:"danger",alertIndicatorIcon:"exclamation-mark-triangle",alertIndicatorInfo:null==t?void 0:t.message})}else"checkbox"===e?r=this.renderCheckbox({attributeValue:i,attributeId:t,itemClassificationValue:o,itemClassificationValueWithDefaults:n,classificationErrors:c}):"text"===e?r=this.renderInputTextBox({attributeValue:i,attributeId:t,itemClassificationValue:o,itemClassificationValueWithDefaults:n,classificationErrors:c}):"date"===e&&(r=this.renderDatePickerElement({attributeValue:i,attributeId:t,itemClassificationValue:o,itemClassificationValueWithDefaults:n,classificationErrors:c}));this.attributeElementsCopy=Object.assign(Object.assign({},this.attributeElementsCopy),{[t]:r}),this.attributeElements=structuredClone(this.attributeElementsCopy)}},this.renderGroupedMultiSelectElement=t=>(0,a.h)("arcgis-item-classification-input-grouped-multiple-selection",{i18n:this.i18n,inputData:t,isSaving:this.isSaving}),this.renderSingleSelectElement=t=>(0,a.h)("arcgis-item-classification-input-single-selection",{i18n:this.i18n,inputData:t,isSaving:this.isSaving}),this.renderCheckbox=t=>(0,a.h)("arcgis-item-classification-input-checkbox",{i18n:this.i18n,inputData:t,isSaving:this.isSaving}),this.renderInputTextBox=t=>(0,a.h)("arcgis-item-classification-input-textbox",{i18n:this.i18n,inputData:t,isSaving:this.isSaving}),this.renderDatePickerElement=t=>(0,a.h)("arcgis-item-classification-input-date",{i18n:this.i18n,inputData:t,isSaving:this.isSaving}),this.switchCategoryTab=t=>{this.attributeCategoryChange.emit(t.target.selectedTitle.id)},this.renderCategoryTabTitles=()=>{var t;return null===(t=s.i.itemClassificationSchema.attributeCategories)||void 0===t?void 0:t.map((t=>(0,a.h)("calcite-tab-title",{selected:this.attributeCategory===t,key:t,id:t},t,(0,s.x)(t,s.i.classificationErrors)&&(0,a.h)(a.F,null,"\xa0\xa0",(0,a.h)("calcite-icon",{class:"attribute-error-icon",icon:"exclamation-mark-triangle",scale:"s"})))))},this.renderCategoryTabContent=()=>{var t;return null===(t=s.i.itemClassificationSchema.attributeCategories)||void 0===t?void 0:t.map((t=>(0,a.h)("calcite-tab",{class:"classification-tab",selected:this.attributeCategory===t,key:`tab_${t}`,id:`tab-${t}`},this.renderClassificationContent(t))))},this.renderClassificationContent=t=>{var i,e;return null===(e=null===(i=this.classificationContentArr)||void 0===i?void 0:i[t])||void 0===e?void 0:e.map(((i,e)=>(0,a.h)("div",{id:`${t}_${e}`,key:`${t}_${e}`,class:"Default"!==t?"classification-input-element":""},i)))},this.i18n=void 0,this.primaryAttribute=void 0,this.itemClassificationValue=void 0,this.itemClassificationValueWithDefaults=void 0,this.attributeCategory=void 0,this.hasError=void 0,this.isSaving=void 0,this.attributeElements=null,this.classificationContentArr=null}componentWillLoad(){this.createClassificationContent()}errorCheckingHandler(){this.createClassificationContent()}async createClassificationContent(){var t;this.attributeElementsCopy={};const{itemClassificationSchema:i}=s.i,e=Object.entries(i.attributes).sort((([t],[i])=>this.getFormDisplayOrder(t)-this.getFormDisplayOrder(i)));for(let a in e){const r=e[a][0],l=e[a][1];if(null===(t=i.layouts.default.layoutElements)||void 0===t?void 0:t[r])try{const t=await(0,s.y)(r,i,this.itemClassificationValueWithDefaults);this.createUIElements(r,l,t)}catch(t){this.arcgisItemClassificationContentDisplayNotification.emit({alertIndicatorActive:!0,alertIndicatorType:"danger",alertIndicatorIcon:"exclamation-mark-triangle",alertIndicatorInfo:null==t?void 0:t.message});break}}}handleAttributeElementsChange(){const t=t=>{const i={};this.attributeCategory&&t.attributeCategories.forEach((t=>i[t]=[])),i.Default=[];const e=Object.entries(null==t?void 0:t.attributes).sort((([t],[i])=>this.getFormDisplayOrder(t)-this.getFormDisplayOrder(i)));null==e||e.forEach((([t,e])=>{var a;const s=this.attributeElements[t];if(s&&t!==this.primaryAttribute){const t=(null==e?void 0:e.attributeCategory)||"Default";null===(a=i[t])||void 0===a||a.push(s)}})),this.classificationContentArr=structuredClone(i)};this.attributeElements&&t(s.i.itemClassificationSchema)}renderMultiSelectElement(t){return(0,a.h)("arcgis-item-classification-input-multiple-selection",{i18n:this.i18n,inputData:t,isSaving:this.isSaving})}render(){var t;return(0,a.h)("div",{key:"5ce348382fb9e03b265d1f62dc57da472a2bf0bd",class:"item-classification-content"},this.attributeCategory&&!(null===(t=this.classificationContentArr)||void 0===t?void 0:t.Default.length)?(0,a.h)("div",{class:"item-classification-tabs"},(0,a.h)("calcite-tabs",null,(0,a.h)("calcite-tab-nav",{slot:"title-group",onCalciteTabChange:this.switchCategoryTab},this.renderCategoryTabTitles()),this.renderCategoryTabContent())):this.renderClassificationContent("Default"))}static get watchers(){return{hasError:["errorCheckingHandler"],itemClassificationValueWithDefaults:["createClassificationContent"],attributeElements:["handleAttributeElementsChange"]}}};b.style=".classification-input-element{margin:0.25rem}.attribute-error-icon{--calcite-ui-icon-color:var(--calcite-color-status-danger)}";const f=class{constructor(t){(0,a.r)(this,t),this.i18n=void 0,this.primaryAttribute=void 0,this.currSelectionText=void 0}getClassificationBgmColor(t){const{itemClassificationValue:i,itemClassificationSchema:e}=s.i,a="UNCLASSIFIED"===(null==i?void 0:i[this.primaryAttribute])?null==e?void 0:e.classificationMetadata.defaultValue:null==i?void 0:i[this.primaryAttribute],r=null==e?void 0:e.classificationMetadata.classificationValueProperties.find((({value:t})=>t==a));return null==r?void 0:r[t]}render(){return(0,a.h)("div",{key:"61eb1a88a47172d808332f0915ed152a818ed297",class:"item-classification-info"},(0,a.h)("div",{key:"9d0e62d761fe3f68fbc3fe84082d152e8f7da09b",id:"classification-info-label"},this.i18n.currentSelections),(0,a.h)("div",{key:"4f0ca3cf9e5a39b3777fa97673154a69ad8bd679",id:"classification-info","aria-label":this.i18n.currentSelections,style:{backgroundColor:this.getClassificationBgmColor("backgroundColor"),color:this.getClassificationBgmColor("textColor")}},(0,a.h)("p",{key:"33de7e2716f54e0f66aadee4e43dc164b9f8ae9e",class:"classification-info-desc"},this.currSelectionText)))}};f.style=".classification-info-desc{word-wrap:break-word;margin-top:0}";const m=class{constructor(t){(0,a.r)(this,t),this.arcgisItemClassificationNotificationClose=(0,a.c)(this,"arcgisItemClassificationNotificationClose",7),this.closeModal=()=>{this.arcgisItemClassificationNotificationClose.emit(!1)},this.i18n=void 0,this.alertIndicator=void 0}render(){return(0,a.h)("calcite-alert",{key:"9dac55e8e8921bdbb53c457687a59cbb494857d9",class:"classification-notification-handler",icon:this.alertIndicator.alertIndicatorIcon,label:this.i18n.classificationNotificationHandler,scale:"m",autoClose:!0,autoCloseDuration:"medium",open:this.alertIndicator.alertIndicatorActive,kind:this.alertIndicator.alertIndicatorType,"aria-hidden":!this.alertIndicator.alertIndicatorActive,onCalciteAlertClose:this.closeModal},(0,a.h)("div",{key:"fb1169a311cd7881e6c20cb432ccadbae4ff9d3b",slot:"message"},this.alertIndicator.alertIndicatorInfo))}};m.style=".classification-notification-handler{position:absolute;z-index:9000}"},98034:(t,i,e)=>{e.d(i,{e:()=>r,l:()=>l});var a,s=e(99004),r={exports:{}};a=r.exports,s.c,function(t){var i={Promise:"undefined"!=typeof window?window.Promise:void 0},e="4.24",a="next";function s(t){if(t.toLowerCase()===a)return a;var i=t&&t.match(/^(\d)\.(\d+)/);return i&&{major:parseInt(i[1],10),minor:parseInt(i[2],10)}}function r(t){return void 0===t&&(t=e),"https://js.arcgis.com/".concat(t,"/")}function l(t){void 0===t&&(t=e);var i=r(t),l=s(t);if(l!==a&&3===l.major){var o=l.minor<=10?"js/":"";return"".concat(i).concat(o,"esri/css/esri.css")}return"".concat(i,"esri/themes/light/main.css")}function o(t){var i=document.createElement("link");return i.rel="stylesheet",i.href=t,i}function n(t,i){if(i){var e=document.querySelector(i);e.parentNode.insertBefore(t,e)}else document.head.appendChild(t)}function c(t){return document.querySelector('link[href*="'.concat(t,'"]'))}function u(t){return!t||s(t)?l(t):t}function d(t,i){var e=u(t),a=c(e);return a||n(a=o(e),i),a}var h={};function b(t){var i=document.createElement("script");return i.type="text/javascript",i.src=t,i.setAttribute("data-esri-loader","loading"),i}function f(t,i,e){var a;e&&(a=m(t,e));var s=function(){i(t),t.removeEventListener("load",s,!1),a&&t.removeEventListener("error",a,!1)};t.addEventListener("load",s,!1)}function m(t,i){var e=function(a){i(a.error||new Error("There was an error attempting to load ".concat(t.src))),t.removeEventListener("error",e,!1)};return t.addEventListener("error",e,!1),e}function p(t){void 0===t&&(t={}),h=t}function g(){return document.querySelector("script[data-esri-loader]")}function v(){var t=window.require;return t&&t.on}function C(t){void 0===t&&(t={});var e={};[h,t].forEach((function(t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}));var a=e.version,s=e.url||r(a);return new i.Promise((function(t,i){var r=g();if(r){var l=r.getAttribute("src");l!==s?i(new Error("The ArcGIS API for JavaScript is already loaded (".concat(l,")."))):v()?t(r):f(r,t,i)}else if(v())i(new Error("The ArcGIS API for JavaScript is already loaded."));else{var o=e.css;o&&d(!0===o?a:o,e.insertCssBefore),f(r=b(s),(function(){r.setAttribute("data-esri-loader","loaded"),t(r)}),i),document.body.appendChild(r)}}))}function y(t){return new i.Promise((function(i,e){var a=window.require.on("error",e);window.require(t,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.remove(),i(t)}))}))}function I(t,i){if(void 0===i&&(i={}),v())return y(t);var e=g(),a=e&&e.getAttribute("src");return!i.url&&a&&(i.url=a),C(i).then((function(){return y(t)}))}t.utils=i,t.loadModules=I,t.getScript=g,t.isLoaded=v,t.loadScript=C,t.setDefaultOptions=p,t.loadCss=d,Object.defineProperty(t,"__esModule",{value:!0})}(a);const l=async(t,i)=>(await r.exports.loadModules(t,i)).map((t=>t.__esModule&&t.default?t.default:t))}}]);