"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-50aa27"],{95966:(e,t,n)=>{n.d(t,{d:()=>A});var r=n(33355),a=/\s/;var o=/^\s+/;function i(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&a.test(e.charAt(t)););return t}(e)+1).replace(o,""):e}var s=NaN,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,f=parseInt;function d(e){if("number"==typeof e)return e;if((0,r.A)(e))return s;if((0,r.C)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,r.C)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=l.test(e);return n||c.test(e)?f(e.slice(2),n?2:8):u.test(e)?s:+e}const m=function(){return r.I.Date.now()};var v="Expected a function",p=Math.max,y=Math.min;function A(e,t,n){var a,o,i,s,u,l,c=0,f=!1,A=!1,R=!0;if("function"!=typeof e)throw new TypeError(v);function T(t){var n=a,r=o;return a=o=void 0,c=t,s=e.apply(r,n)}function N(e){var n=e-l;return void 0===l||n>=t||n<0||A&&e-c>=i}function E(){var e=m();if(N(e))return h(e);u=setTimeout(E,function(e){var n=t-(e-l);return A?y(n,i-(e-c)):n}(e))}function h(e){return u=void 0,R&&a?T(e):(a=o=void 0,s)}function g(){var e=m(),n=N(e);if(a=arguments,o=this,l=e,n){if(void 0===u)return function(e){return c=e,u=setTimeout(E,t),f?T(e):s}(l);if(A)return clearTimeout(u),u=setTimeout(E,t),T(l)}return void 0===u&&(u=setTimeout(E,t)),s}return t=d(t)||0,(0,r.C)(n)&&(f=!!n.leading,i=(A="maxWait"in n)?p(d(n.maxWait)||0,t):i,R="trailing"in n?!!n.trailing:R),g.cancel=function(){void 0!==u&&clearTimeout(u),c=0,a=l=o=u=void 0},g.flush=function(){return void 0===u?s:h(m())},g}},92179:(e,t,n)=>{n.d(t,{c:()=>A,g:()=>y,l:()=>p});var r=n(588),a=n(71802),o=n(44345),i=n(32513),s=n(33752),u=n(36596),l=n(40320),c=n(33355);const f="ConvertRasterFunctionTemplate",d="https://rasteranalysisdev.arcgis.com/arcgis/rest/services/Utilities/RasterUtilities/GPServer";async function m(e){try{return(await(0,o.default)(e,{query:{f:"json"}})).data}catch{Promise.reject("fetching rft data from url failed")}}async function v(e){let t={format:"json",inputRasterFunction:JSON.stringify({itemId:e.id})};const n=function(e){const t=e.helperServices,n=t&&t.rasterUtilities;return`${n?n.url:d}`}(e.portal);let o;(0,l.o)(n)&&Promise.reject("rasterUtilities server missing");try{const e=`${n}/${f}`,i=await r.default.getCredential(e);void 0!==i?.token&&(t={...t,token:i.token});const s=await a.submitJob(e,t),u={interval:1500,statusCallback:e=>{console.log("status: ",e.jobStatus)}};await s.waitForJobCompletion(u);const l=(await s.fetchResultData("outputRasterFunction")).value;({url:o}=l)}catch{Promise.reject("json conversion failed")}return m(o)}async function p(e,t){if((0,l.o)(e))throw new Error("Invalid Portal Item Id");let n=new s.default({id:e,portal:t});try{await n.load()}catch(r){const a=c.m?.portal??t;if(!0===a?.isPortal)try{if(n=await async function(e){const t=new i.default({url:"https://www.arcgis.com"});if(t.authMode="immediate",await t.load(),!(0,l.o)(t.loadError))throw t.loadError;const n=new s.default({id:e,portal:t});try{await n.load()}catch(e){console.error(e)}return n}(e),!n?.loaded)throw new Error("Unable to load selected portal item "+e)}catch(e){console.error(e)}else console.error(r)}return n}async function y(e,t){let n;const r=await p(e,t),{title:a,snippet:o,id:i}=r,s=function(e){const t=e.name,n=t&&t.slice(-8);return n&&".rft.xml"===n.toLowerCase()}(r);if(s)n=await v(r);else{const e=`${r.itemUrl}/data`;n=await m(e)}return{...n,name:a,description:o??n.description,sourceItemId:i,type:n.type??l.R}}function A(e){return new u.default(e)}},45709:(e,t,n)=>{n.d(t,{a:()=>l,f:()=>u,i:()=>o,p:()=>s,s:()=>i});var r=n(93210),a=n(40320);function o(e){return null!=e&&!1===Number.isNaN(e)&&!0===Number.isFinite(e)}function i(e,t){let n;if(null!==e){const r="string"==typeof e?Number.parseFloat(e):e;o(r)?n=r:o(t)&&(n=t)}return void 0===n?"":`${n}`}function s(e){if(!(0,a.o)(e))return Number.parseFloat(e)}function u(e,t=3){if(!(0,a.o)(e))return Number.parseFloat(e.toFixed(t))}function l(e,t){let n="";if(!(0,a.o)(e)&&!Number.isNaN(e)){const a=(0,r.g)().locale;n=Intl.NumberFormat(a,t).format(Number(e))}return n}},19562:(e,t,n)=>{n.d(t,{C:()=>a,U:()=>r,a:()=>o});const r={Scale:"s",PopoverTimer:60},a={s:"s",m:"m",l:"l"},o={absolute:"absolute",fixed:"fixed"}},28004:(e,t,n)=>{n.d(t,{D:()=>u,J:()=>f,a:()=>v,b:()=>E,c:()=>p,d:()=>y,e:()=>g,f:()=>N,g:()=>h,h:()=>A,i:()=>l,j:()=>c,k:()=>m,l:()=>s,m:()=>_,n:()=>I,o:()=>C,s:()=>w});var r=n(5294),a=(n(13661),n(18423),n(21255),n(35431),n(68708)),o=n(40320),i=(n(588),n(55448),n(2924),n(11840),n(52373),n(33752),n(440),n(66744),n(44345),n(10259));n(33355),n(23795),n(17902),n(56451),n(71802),n(32513),n(36596);const s=[38,39,40,41,42,43,47,54,55,58,66,67,68,69,70,71,72,73,74,75,93,94],u="distanceLegacy",l=({category:e})=>!![u].includes(e),c={local:"LocalFunction",gpAdapter:"GPAdapterFunction",pythonAdapter:"PythonAdapterFunction"},f={RASTER_FUNCTION_TEMPLATE:"RasterFunctionTemplate",RASTER_FUNCTION_VARIABLE:"RasterFunctionVariable",ARGUMENT_ARRAY:"ArgumentArray",RECORD_SET:"RecordSet",ECD_FILE:"ECDFile"},d={MATCH_VARIABLE:"MatchVariable",UNION_DIMENSION:"UnionDimension"},m={name:"Raster",isDataset:!0,isPublic:!1,type:f.RASTER_FUNCTION_VARIABLE};function v(e){return null==e?"":e.name||e.datasetName&&e.datasetName.name}function p(e){return e.hasOwnProperty("EsriClassifierDefinitionFile")}function y(e){return e.type&&e.type.toLowerCase().indexOf(f.RECORD_SET.toLowerCase())>=0}function A(e,t){const n=t&&t.value;if(null==n)return;let r;return e.some((e=>{if(e.values&&e.values.indexOf(n)>-1)return r=e.inputArgs,!0})),r}function R(e,t){let n;if(!(0,o.o)(e)&&(n=e.rasterFunctionArguments,1===Object.keys(n).length&&!e.hasArgumentsObject))return!0;const r=t.arguments,a=r&&r.type;return!(!a||a!==f.RASTER_FUNCTION_TEMPLATE&&a!==f.RASTER_FUNCTION_VARIABLE)||void 0}function T(e,t,n){if((0,o.o)(t)||(0,o.o)(n))return;const r=e?.rasterFunctionArguments;return(0,o.o)(r)?void 0:(0,i.l)(t,r)}function N(e,t,n,r){if((0,o.o)(t)&&(0,o.o)(r))return!1;const i=T(e,r=r||t.key,n);if(!(0,o.o)(i)&&i.dataType===a.d.rasterArray)return!0;if(!t)return;const s=t.value;if(s&&s.elements){return s.elements.some((e=>e&&(e.isDataset||e.type===f.RASTER_FUNCTION_TEMPLATE||e.value&&e.value.type===f.RASTER_FUNCTION_TEMPLATE)))}s&&Array.isArray(s)&&s.some((e=>e&&e.name&&e.url))}function E(e,t,n){t.value||(t.value={elements:[],type:f.ARGUMENT_ARRAY});let r=t.value&&t.value.elements?t.value.elements:t.value;return r&&Array.isArray(r)?void 0!==n?r[n]=e:(r.push(e),n=r.length-1):(r=[e],n=0),t.value&&t.value.elements?t.value.elements=r:t.value=r,n}function h(e,t,n){let r,a;if("string"==typeof t?r=t:(r=t.key,a=t.index),(0,o.o)(r)||(0,o.o)(n))return;const i=n.arguments,s=i&&i.type,u=r&&r.toLowerCase();let l;if(R(e,n))return s!==f.RASTER_FUNCTION_TEMPLATE&&!i.isDataset||"raster"!==u?s===f.RASTER_FUNCTION_VARIABLE&&"rasters"===u&&(l=void 0!==a?function(e,t){if((0,o.o)(t)||void 0===e)return;const n=t.value&&t.value.elements?t.value.elements:t.value;return n&&n.length?n[e]:void 0}(a,i):i):l=i,l;if(l=i[r],void 0!==a&&N(e,l,n,r)){const e=l.value&&l.value.elements?l.value.elements:l.value;l=e&&e.length?e[a]:void 0}return l}function g(e,t){if((0,o.o)(t))return;const n=[],a=t.arguments,i=a&&a.type;if(R(e,t)){let e,t=r.clone(a);return e=i===f.RASTER_FUNCTION_TEMPLATE||t.isDataset?"Raster":"Rasters",(0,o.o)(t)?t={key:e}:t.key=e,n.push(t),n}return Object.keys(a).forEach((e=>{if(e===d.MATCH_VARIABLE||e===d.UNION_DIMENSION)return;let t=r.clone(a[e]);(0,o.g)(t)&&((0,o.o)(t)?t={key:e}:t.key=e,n.push(t))})),n}function w(e,t,n,r,a){if((0,o.o)(t)||(0,o.o)(n)||(0,o.o)(r))return;const i=t.arguments,s=N(e,i,t,r)&&void 0!==a;if(R(e,t))s?a=E(n,i,a):t.arguments=n;else{const e=i[r];s?a=E(n,e,a):i[r]=n}return n.value&&"Scalar"===n.value.type&&(0,o.o)(n.name)&&(n.name=s?t.function.type.toLowerCase()===c.local.toLowerCase()&&a>0?`InRaster${a+1}`:`Raster${a>0?a+1:""}`:T(e,r,t).displayName||r),{key:r,index:a}}function _(e){return e.dataType===a.d.raster||e.dataType===a.d.rfxtemplate}function I(e){return e.dataType===a.d.scalar}const C=(e,t,n)=>{let r=e;!function e(a){if(a>=t.length)return void n(r);const o=t[a];let i;if("shadowRoot"===o)i=r?.shadowRoot;else if(o.startsWith("children[")){const e=parseInt(o.match(/\d+/)[0],10);i=r.children[e]}i?(r=i,e(a+1)):requestAnimationFrame((()=>e(a)))}(0)}}}]);