/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-86449a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-86449a"],{99004:(e,t,r)=>{r.d(t,{c:()=>a,g:()=>n});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},1391:(e,t,r)=>{r.d(t,{a:()=>n,b:()=>o,c:()=>s,d:()=>a});const a=(0,r(10699).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),n=a.state,s=a.state,o=a.state},18597:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_feature_layer_summary:()=>i});var a=r(20536),n=r(1391),s=r(19832),o=r(15834);r(10699),r(44090),r(25972),r(98034),r(99004),r(38973),r(369);const i=class{constructor(e){(0,a.r)(this,e),this.newItemUpdatePage=(0,a.c)(this,"newItemUpdatePage",7),this.featureLayerInfos=[],this.selectAll=()=>{const e={};this.featureLayerInfos.forEach((t=>{e[t.name]=!0})),this.selectedLayerInfoNames=e},this.deselectAll=()=>{this.selectedLayerInfoNames={}},this.selectOrDeselectLayer=(e,t)=>{t?this.selectedLayerInfoNames[e]=!0:delete this.selectedLayerInfoNames[e],this.selectedLayerInfoNames=Object.assign({},this.selectedLayerInfoNames)},this.selectedLayerInfoNames={},this.alertInfo=void 0}handleNext(){const{selectedLayerInfoNames:e,featureLayerInfos:t}=this;if(!Object.keys(e).some((t=>!0===e[t])))return(0,o.f)("No layer chosen"),void this.setAlertMessage("noLayer");n.a.selectedServiceInfoLayersNames=Object.assign({},e);const r=t.some((t=>"Table"!==t.type&&e[t.name]));this.newItemUpdatePage.emit(r?"featureLayerPreference":"itemProperties")}async componentWillLoad(){const{serviceInfo:e,selectedServiceInfoLayersNames:t,addFeatureLayerType:r}=n.a,{i18n:a}=s.u;this.addCreateI18n=a,this.i18n=a.featureLayerSummary,this.creationType="custom"!==r?r:"generic",this.layerName=(null==e?void 0:e.name)||n.a.sourceTitle;const o=e;this.featureLayerInfos=[...o.layers,...o.tables].sort(((e,t)=>e.id-t.id));let i={};t?i=Object.assign({},t):this.featureLayerInfos.forEach((e=>{i[e.name]=!0})),this.selectedLayerInfoNames=i}setAlertMessage(e){this.alertInfo=this.i18n.error[e]}render(){const{i18n:e,addCreateI18n:t,selectedLayerInfoNames:r,featureLayerInfos:n,alertInfo:s,creationType:i,layerName:c,selectAll:l,deselectAll:d,selectOrDeselectLayer:u}=this,f=n.length>1,y=t.featureLayer,m=Object.keys(r).length<=0;return(0,a.h)(a.H,{key:"412697ccdb13b09c764ac434955864922617d8cc"},(0,a.h)("arcgis-new-item-description",{key:"4e304221b47a2987a7069cedd439acfcd864a60a",class:"layer-description",header:y.creationType[i],content:c,leadingIconInfo:{icon:"featureLayer",scale:"s"}}),(0,a.h)("arcgis-new-item-description",{key:"ee1cca087d1c543dcdf6d525267a6d6717eb3fe4",header:e.layerDetails,content:f?e.deselectAnyLayers:"",class:"details"}),f&&(0,a.h)("calcite-button",{key:"faa87995c8b8adfa4e70089f0aa4ffe390c38e0b",kind:"neutral",class:"deselect-button",onClick:m?l:d},m?e.selectAll:e.deselectAll),(0,a.h)("div",{key:"1573fd92006407861e3924321568502e972ead4f",class:"info-container"},null==n?void 0:n.map(((e,n)=>(0,a.h)("arcgis-new-item-layer-summary-item",{key:n,layerInfo:e,translatedLayerType:y.type,translatedFieldType:t.fieldType,selected:r[e.name],hideSelect:!f,onLayerSelectionChange:t=>{u(e.name,t.detail)},onExpand:e=>{const{expanded:t}=e.detail;t&&(0,o.i)("layer")}})))),(0,a.h)("arcgis-new-item-alert",{key:"d508916a387ac5d8bf879f1aa94466a9846f10f8",heading:null==s?void 0:s.title,description:null==s?void 0:s.description,active:!!s,onAlertDismiss:()=>this.alertInfo=null}))}get el(){return(0,a.d)(this)}};i.style=".info-container{padding-bottom:1.5rem}.layer-description{display:block;margin-bottom:1.5rem}.details{display:block;padding-bottom:0.5rem}.deselect-button{margin-top:1.5rem;margin-bottom:1rem}arcgis-new-item-layer-summary-item+arcgis-new-item-layer-summary-item{border-top:none}"},15834:(e,t,r)=>{r.d(t,{a:()=>m,b:()=>f,c:()=>h,d:()=>y,e:()=>d,f:()=>p,i:()=>u});var a=r(44090),n=r(1391),s=r(25972),o=r(38973);const i="create feature layer",c="my content",l=e=>{switch(e){case"build":return"blank";case"existing":return"fs";case"template":return"template";case"link":return"url"}},d=e=>{const t=a.c.telemetry;null==t||t.stepWorkflow(i,"enable "+("captureGPS"===e?"gps":"enableZDefaults"===e?"z":"m"),{category:i,attribute:l(n.a.addFeatureLayerType),pageName:c})},u=e=>{const t=a.c.telemetry;null==t||t.stepWorkflow(i,`expand ${e} details`,{category:i,attribute:l(n.a.addFeatureLayerType),pageName:c})},f=()=>{const e=a.c.telemetry;null==e||e.stepWorkflow(i,"filter",{category:i,attribute:l(n.a.addFeatureLayerType),pageName:c})},y=e=>{const t=l(e),r=a.c.telemetry;null==r||r.stepWorkflow(i,"from option",{category:i,attribute:t,pageName:c})},m=()=>{const{addFeatureLayerType:e,serviceInfo:t}=n.a,r=t,s=a.c.telemetry;null==s||s.endWorkflow(i,{category:i,attribute:l(e),pageName:c,count:r.layers.length,number:r.tables.length})},p=e=>{var t;null===(t=a.c.telemetry)||void 0===t||t.logError({category:i,error:e})};async function h(){const e=(0,o.g)().replace("portal/sharing/rest/","server/admin/services/types/customdataproviders/checkcdf");try{return await(0,s.r)(e,"post")}catch(e){return e}}},98034:(e,t,r)=>{r.d(t,{e:()=>s,l:()=>o});var a,n=r(99004),s={exports:{}};a=s.exports,n.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",a="next";function n(e){if(e.toLowerCase()===a)return a;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function s(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function o(e){void 0===e&&(e=r);var t=s(e),o=n(e);if(o!==a&&3===o.major){var i=o.minor<=10?"js/":"";return"".concat(t).concat(i,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function i(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function c(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function l(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function d(e){return!e||n(e)?o(e):e}function u(e,t){var r=d(e),a=l(r);return a||c(a=i(r),t),a}var f={};function y(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function m(e,t,r){var a;r&&(a=p(e,r));var n=function(){t(e),e.removeEventListener("load",n,!1),a&&e.removeEventListener("error",a,!1)};e.addEventListener("load",n,!1)}function p(e,t){var r=function(a){t(a.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function h(e){void 0===e&&(e={}),f=e}function v(){return document.querySelector("script[data-esri-loader]")}function g(){var e=window.require;return e&&e.on}function b(e){void 0===e&&(e={});var r={};[f,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var a=r.version,n=r.url||s(a);return new t.Promise((function(e,t){var s=v();if(s){var o=s.getAttribute("src");o!==n?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(o,")."))):g()?e(s):m(s,e,t)}else if(g())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var i=r.css;i&&u(!0===i?a:i,r.insertCssBefore),m(s=y(n),(function(){s.setAttribute("data-esri-loader","loaded"),e(s)}),t),document.body.appendChild(s)}}))}function w(e){return new t.Promise((function(t,r){var a=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];a.remove(),t(e)}))}))}function L(e,t){if(void 0===t&&(t={}),g())return w(e);var r=v(),a=r&&r.getAttribute("src");return!t.url&&a&&(t.url=a),b(t).then((function(){return w(e)}))}e.utils=t,e.loadModules=L,e.getScript=v,e.isLoaded=g,e.loadScript=b,e.setDefaultOptions=h,e.loadCss=u,Object.defineProperty(e,"__esModule",{value:!0})}(a);const o=async(e,t)=>(await s.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},19832:(e,t,r)=>{r.d(t,{a:()=>a,u:()=>n});const a=(0,r(10699).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{}}),n=a.state}}]);