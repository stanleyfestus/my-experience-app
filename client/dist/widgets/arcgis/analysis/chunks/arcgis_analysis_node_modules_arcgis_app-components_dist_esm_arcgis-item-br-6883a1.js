/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-item-br-6883a1.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-item-br-6883a1"],{13323:(e,t,r)=>{r.r(t),r.d(t,{arcgis_item_browser_filter_expiration:()=>n});var i=r(20536),s=r(94514),a=r(12381);r(37568),r(91102),r(73807),r(34752),r(98034),r(99004);const n=class{constructor(e){(0,i.r)(this,e),this.arcgisItemBrowserFilter=(0,i.c)(this,"arcgisItemBrowserFilter",7),this.property="expires",this.today=new Date((0,s.g)()),this.resetDatePicker=()=>{this.range="next30",this.start=null,this.end=null},this.renderRange=e=>{const{i18n:t,range:r}=this;return(0,i.h)("calcite-tree-item",{"data-range":e,selected:e===r},t[e])},this.range=void 0,this.start=void 0,this.end=void 0,this.expanded=void 0}async componentWillLoad(){const e=await(0,a.g)(this.el);this.i18n=null==e?void 0:e.filterExpiration}componentDidLoad(){this.range&&("custom"!==this.range||this.start&&this.end)&&this.arcgisItemBrowserFilter.emit(this.getEventDetail())}getValue(){const{range:e,start:t,end:r}=this,i=(0,s.g)(),a=i+s.D-1;switch(e){case"tomorrow":return[i+s.D-1,a+s.D];case"today":return[i,a];case"next7":return[i,a+7*s.D];case"next30":return[i,a+30*s.D];case"custom":return[(0,s.g)(t),(0,s.g)(r)+s.D-1];default:return null}}getEventDetail(){const{range:e,i18n:t}=this,r=this.getValue();return{id:this.property,param:"q",value:r?`([${r[0]} TO ${r[1]}])`:"",range:e,start:(null==r?void 0:r[0])&&new Date(null==r?void 0:r[0]),end:(null==r?void 0:r[1])&&new Date(null==r?void 0:r[1]),label:this.i18n[this.property].replace("${date}",t[e])}}isActive(){return!(!this.range||"custom"===this.range&&(!this.start||!this.end))}render(){const{i18n:e,property:t,range:r,start:s,end:a}=this;return(0,i.h)("arcgis-browser-filter",{key:"4d45202ef5a637efe8e0421adac8815fb379a426",heading:e.title[t],expanded:this.expanded,active:!1,filterID:this.property,onArcgisBrowserFilterRemove:()=>{this.resetDatePicker()}},(0,i.h)("calcite-tree",{key:"156b2d98b91c83773649429288fba4bff599bcf7",selectionMode:"children",scale:"m",onCalciteTreeSelect:e=>{var t,r;const i=null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.range;this.range=this.range===i?null:i,("custom"!==this.range||this.start&&this.end)&&this.arcgisItemBrowserFilter.emit(this.getEventDetail())}},["today","tomorrow","next7","next30","custom"].map(this.renderRange)),"custom"===r&&(0,i.h)("calcite-date-picker",{key:"14adb4becbf733846a77a5272e13d6ba0d8831cf",onCalciteDatePickerRangeChange:e=>{const t=e.target,r=t.valueAsDate[0],i=t.valueAsDate[1];r&&i&&(this.start=r,this.end=i,this.arcgisItemBrowserFilter.emit(this.getEventDetail()))},scale:"s",valueAsDate:[s,a],minAsDate:this.today,range:!0,class:"filter-expiration--date-picker"}))}get el(){return(0,i.d)(this)}};n.style=".filter-expiration--date-picker{margin-top:0.5rem;margin-bottom:0.5rem;margin-inline-start:2rem;width:12.75rem}"},94514:(e,t,r)=>{r.d(t,{D:()=>i,g:()=>s});const i=864e5;function s(e){const t="string"==typeof e?parseInt(e):"number"==typeof e?e:(e||new Date).valueOf(),r=new Date(t);return r.setHours(0,0,0,0),r.valueOf()}},12381:(e,t,r)=>{r.d(t,{g:()=>s});var i=r(37568);async function s(e){const t=await(0,i.g)(e,"arcgis-item-browser");return t&&t.length?t[0]:null}}}]);