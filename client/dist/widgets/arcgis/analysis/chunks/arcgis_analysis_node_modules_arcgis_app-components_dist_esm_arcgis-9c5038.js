/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-9c5038.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-9c5038"],{1391:(e,t,n)=>{n.d(t,{a:()=>s,b:()=>a,c:()=>i,d:()=>r});const r=(0,n(10699).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),s=r.state,i=r.state,a=r.state},27968:(e,t,n)=>{n.r(t),n.d(t,{arcgis_new_item_pages_data_upload:()=>d});var r=n(20536),s=n(44090),i=n(90230),a=n(76776),o=n(1391),l=n(19832),c=n(73567);n(10699),n(34472);const d=class{constructor(e){(0,r.r)(this,e),this.newItemUpdatePage=(0,r.c)(this,"newItemUpdatePage",7),this.newItemSetButtonState=(0,r.c)(this,"newItemSetButtonState",7),this.workflowComplete=(0,r.c)(this,"workflowComplete",7),this.allowedExtensions=null,this.loading=!1,this.loaderMessage=void 0,this.loaderType="indeterminate",this.error=void 0}componentWillLoad(){const{existingItem:e,fileName:t}=o.a,n=e.type;this.i18n=l.u.i18n.appendUpload,this.newItemSetButtonState.emit({targetButton:"primary",state:{loading:!1,disabled:!0}}),this.header=this.i18n.updatePackages.replace("${type}",n.toLowerCase()).replace("${hostedLayerName}",t)}async fileSelectHandler(e){var t;this.sourceName=(null===(t=o.a.existingItem.sourceData)||void 0===t?void 0:t.name)||o.a.existingItem.name;const n=e.detail.file,r=o.a.existingItem.type,{title:s,fileName:l,extension:d}=(0,i.s)(n);if("Vector Tile Service"===r){if("json"!==d)return void this.handleError({code:"invalidExtension"})}else if(0!==l.localeCompare(this.sourceName))return void this.handleError({code:"useSameFileName"});a.i.title=s,o.a.file=n,o.a.fileName=l,o.a.newItemMode="file",o.a.extension=d;const u=(0,c.f)(d);if(1===u.length){const e=u[0].type;o.a.type=e}this.newItemUpdatePage.emit("appendSelectUpdate")}async handleError(e){let t=this.i18n.errors.errorWhileUpload;switch(this.loading=!1,e.code){case"invalidExtension":t=this.i18n.errors.invalidStyleFileExtension;case"useSameFileName":t=this.i18n.errors.sameFileName.replace("${x}",this.sourceName);break;case"unhandledError":t=this.i18n.errors.errorUpdate}this.error={title:l.u.i18n.error,description:t}}render(){const{header:e,loaderType:t,loading:n,loaderMessage:i,error:a,allowedExtensions:o}=this,{portal:l,config:c,user:d}=s.c;return(0,r.h)(r.H,{key:"5797e32609a59e3959d91a2818c32a7cadca30c0"},(0,r.h)("arcgis-new-item-loader",{key:"9c5e33c1195186045ad3f039e373149451fdfe9d",type:t,active:n,text:i}),(0,r.h)("arcgis-new-item-description",{key:"456745698bf44218be3a1ecffa5c98fef124b90a",header:e}),(0,r.h)("arcgis-file-browser",{key:"fb6af63490ae59f8c71e1981f1e03b2d1191921d",class:"arcgis-file-browser",cloud:!1,insideModal:!0,fullHeight:!0,portal:l,config:c,user:d,allowedExtensions:o}),(0,r.h)("arcgis-new-item-alert",{key:"356a31a4fd0a10faef30c441e37f2a30ddd02c24",heading:null==a?void 0:a.title,description:null==a?void 0:a.description,link:{href:null==a?void 0:a.link,title:null==a?void 0:a.linkText},active:!!a,onAlertDismiss:()=>this.error=null}))}};d.style=".arcgis-file-browser{display:block;height:95%}"},44090:(e,t,n)=>{n.d(t,{c:()=>s,o:()=>i});const r=(0,n(10699).c)({portal:null,user:null,api:4,scale:"m"}),s=r.state,i=r.onChange},90230:(e,t,n)=>{n.d(t,{a:()=>i,f:()=>c,g:()=>l,s:()=>a,v:()=>o});var r=n(34472),s=n(46227);function i(e,t){const n=/(?:\.([^.]+))?$/;let r=null==e?void 0:e.replace(/^.*(\\|\/|:)/,""),i=r&&n.exec(r)[1]?n.exec(r)[1].toLowerCase():"",a="";if((null==r?void 0:r.indexOf(".rft."))>-1){const[e,t]=r.split(".rft.");i=`rft.${t}`,a=e}return r&&!a&&(a=-1===r.lastIndexOf(".")?r:r.substring(0,r.lastIndexOf("."))),a=a.replace(/\.|-/g,"_"),t&&(a=function(e){return`${e}_${(0,s.g)()}`}(a),r=`${a}.${i}`),{title:a,fileName:r,extension:i}}function a(e,t){return i(e.name,!!t)}function o(e,t){let n=e;const r=e.lastIndexOf("\\");return r>-1&&(n=n.substring(r+1,n.length)),n.replace(/\ /g,"_")===t.replace(/\ /g,"_")}function l(e){return r.a[e]?r.a[e]:r.a[Object.keys(r.a).find((t=>r.a[t].type===e))]}function c(e){if(!e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return`${Math.round(e/Math.pow(1024,t))} ${["B","KB","MB","GB","TB"][t]}`}},91616:(e,t,n)=>{n.d(t,{a:()=>c,b:()=>f,c:()=>s,d:()=>r,e:()=>i,f:()=>d,g:()=>p,h:()=>h,i:()=>a,m:()=>o,t:()=>l,u:()=>u});const r=(e,t)=>{let n,r="idle";const s=(...s)=>new Promise((i=>{switch(r){case"flushed":r="idle",n?(clearTimeout(n),i(e(...s))):i(null);break;case"invoked":clearTimeout(n),r="idle",i(e(...s));break;case"cancelled":clearTimeout(n),r="idle",i(null);break;default:n&&clearTimeout(n),r="pending",n=setTimeout((()=>(r="idle",i(e(...s)))),t)}}));return s.flush=function(...e){return r="flushed",s(...e)},s.invoke=function(...e){return r="invoked",s(...e)},s.cancel=function(...e){return r="cancelled",s(...e)},s.getStatus=function(){return r},s},s=(e,t)=>{let n;return(...r)=>new Promise((s=>{n||(n=setTimeout((()=>{clearTimeout(n),n=void 0,s(e(...r))}),t))}))};function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){return null!=e}async function o(e,t){return await Promise.all([e,l(t)]),e}function l(e){return new Promise((t=>setTimeout(t,e)))}const c=(e,t)=>Object.fromEntries((e||[]).map((e=>{const{key:n,data:r}=t(e);return[n,r]}))),d=(e,t)=>e.length===t.length&&e.reduce(((e,n)=>e&&t.indexOf(n)>-1),!0);function u(e,t){const n=[],r={};return e.forEach((e=>{const s=t(e);null==r[s]&&(r[s]=e,n.push(e))})),n}function f(e){const t={boolean:{},number:{},string:{}},n=[];return e.filter((e=>{let r=typeof e;return r in t?!t[r].hasOwnProperty(e)&&(t[r][e]=!0):!(n.indexOf(e)>=0)&&n.push(e)}))}const h=(e,t)=>[...Array(Math.ceil(e.length/t))].map(((n,r)=>e.slice(t*r,t+t*r))),p=(e,t)=>e.includes(t)},46227:(e,t,n)=>{n.d(t,{g:()=>r});const r=()=>[2,1,1,1,3].map((e=>{let t="";for(let n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t})).join("-")},10699:(e,t,n)=>{n.d(t,{c:()=>l});var r=n(20536);const s=e=>!("isConnected"in e)||e.isConnected,i=((e,t)=>{let n;return(...r)=>{n&&clearTimeout(n),n=setTimeout((()=>{n=0,e(...r)}),t)}})((e=>{for(let t of e.keys())e.set(t,e.get(t).filter(s))}),2e3),a=e=>"function"==typeof e?e():e,o=(e,t)=>{const n=e.indexOf(t);n>=0&&(e[n]=e[e.length-1],e.length--)},l=(e,t)=>{const n=((e,t=(e,t)=>e!==t)=>{const n=a(e);let r=new Map(Object.entries(null!=n?n:{}));const s={dispose:[],get:[],set:[],reset:[]},i=()=>{var t;r=new Map(Object.entries(null!==(t=a(e))&&void 0!==t?t:{})),s.reset.forEach((e=>e()))},l=e=>(s.get.forEach((t=>t(e))),r.get(e)),c=(e,n)=>{const i=r.get(e);t(n,i,e)&&(r.set(e,n),s.set.forEach((t=>t(e,n,i))))},d="undefined"==typeof Proxy?{}:new Proxy(n,{get:(e,t)=>l(t),ownKeys:e=>Array.from(r.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),has:(e,t)=>r.has(t),set:(e,t,n)=>(c(t,n),!0)}),u=(e,t)=>(s[e].push(t),()=>{o(s[e],t)});return{state:d,get:l,set:c,on:u,onChange:(t,n)=>{const r=u("set",((e,r)=>{e===t&&n(r)})),s=u("reset",(()=>n(a(e)[t])));return()=>{r(),s()}},use:(...e)=>{const t=e.reduce(((e,t)=>(t.set&&e.push(u("set",t.set)),t.get&&e.push(u("get",t.get)),t.reset&&e.push(u("reset",t.reset)),t.dispose&&e.push(u("dispose",t.dispose)),e)),[]);return()=>t.forEach((e=>e()))},dispose:()=>{s.dispose.forEach((e=>e())),i()},reset:i,forceUpdate:e=>{const t=r.get(e);s.set.forEach((n=>n(e,t,t)))}}})(e,t);return n.use((()=>{if("function"!=typeof r.a)return{};const e=new Map;return{dispose:()=>e.clear(),get:t=>{const n=(0,r.a)();n&&((e,t,n)=>{const r=e.get(t);r?r.includes(n)||r.push(n):e.set(t,[n])})(e,t,n)},set:t=>{const n=e.get(t);n&&e.set(t,n.filter(r.f)),i(e)},reset:()=>{e.forEach((e=>e.forEach(r.f))),i(e)}}})()),n}},76776:(e,t,n)=>{n.d(t,{a:()=>r,i:()=>s});const r=(0,n(10699).c)({title:"",snippet:"",tags:[],categories:[]}),s=r.state},73567:(e,t,n)=>{n.d(t,{a:()=>l,f:()=>i,i:()=>o,m:()=>a});var r=n(91616),s=n(34472);function i(e,t){let n;n=t?t.map((e=>e.type)):Object.keys(s.a);let r=[];return n.forEach((t=>{var n;(null===(n=s.a[t].fileExt)||void 0===n?void 0:n.indexOf(e))>=0&&r.push(s.a[t])})),r}function a(e){return e?(0,r.b)(e.flatMap((e=>{var t;return null===(t=s.a[e])||void 0===t?void 0:t.fileExt})).filter((e=>!!e))):null}const o=e=>e/1024/1024>50,l=e=>e/1024/1024>20},19832:(e,t,n)=>{n.d(t,{a:()=>r,u:()=>s});const r=(0,n(10699).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{}}),s=r.state}}]);