/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-0700f5.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-image-i-0700f5"],{48094:(e,t,a)=>{a.r(t),a.d(t,{arcgis_image_item_inspect_popover:()=>n});var r=a(20536),i=a(37568),s=a(34752);a(91102),a(73807),a(98034),a(99004);const n=class{constructor(e){(0,r.r)(this,e),this.arcgisImageItemInspectPopoverClosed=(0,r.c)(this,"arcgisImageItemInspectPopoverClosed",7),this.arcgisZoomToInspectingImageItem=(0,r.c)(this,"arcgisZoomToInspectingImageItem",7),this.arcgisAddInspectingImageItemToLayer=(0,r.c)(this,"arcgisAddInspectingImageItemToLayer",7),this.arcgisImageItemToInspectChanged=(0,r.c)(this,"arcgisImageItemToInspectChanged",7),this.layer=void 0,this.view=void 0,this.jsapiUrl=void 0,this.referenceElement=void 0,this.isShowing=void 0,this.popoverHeight=void 0,this.imageItemInfo=void 0,this.imageItemFeatureGraphic=void 0}async componentWillLoad(){[this.strings]=await(0,i.g)(this.hostElement,"arcgis-image-collection-explorer")}render(){const{strings:e,isShowing:t,popoverHeight:a,imageItemInfo:i}=this,n=(0,s.g)(this.hostElement),o="rtl"===n;return(0,r.h)(r.H,{key:"a815fb01192c719a9c1aa7a89fc77448b193ec89",class:"js-app-flyout"},(0,r.h)("calcite-popover",{key:"8d0a0d7e8fc2900d96856ce26420296d9404feff",dir:n,autoClose:!0,label:e.imageDetails,referenceElement:this.referenceElement,placement:"leading-start",pointerDisabled:!0,triggerDisabled:!0,offsetDistance:10,open:t,onCalcitePopoverClose:()=>{this.arcgisImageItemInspectPopoverClosed.emit()}},(0,r.h)("div",{key:"77ae8971067207bae0410cae8875179e399a7de8",style:{height:`${a}px`}},(0,r.h)("div",{key:"96749751b6b18718db34a248c1ec07ddc3fb7ecc",class:"image-details-panel"},(0,r.h)("calcite-panel",{key:"3a983006dffadfd43418805aa825092ebafb13b9",heading:this.strings.imageDetails,closable:!0,onCalcitePanelClose:e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.closed=!1,this.arcgisImageItemInspectPopoverClosed.emit()}},this.renderImageItemDisplayTitle(),t&&this.renderImageItemPreviewView(),i&&this.renderImageItemInfoTables(),(0,r.h)("calcite-button",{key:"2bd414db859b43be341c712ab0903d677b91d5a4",style:{"padding-inline-end":"5px"},width:"half",slot:"footer",appearance:"outline",kind:"neutral",iconStart:o?"chevron-right":"chevron-left",onClick:()=>this.arcgisImageItemToInspectChanged.emit("previous")},e.previous),(0,r.h)("calcite-button",{key:"2792c1abea48c8689a0f2fefb04a4c39f402b524",style:{"padding-inline-start":"5px"},width:"half",slot:"footer",appearance:"outline",kind:"neutral",iconEnd:o?"chevron-left":"chevron-right",onClick:()=>this.arcgisImageItemToInspectChanged.emit("next")},e.next))))))}renderImageItemPreviewView(){const{strings:e,layer:t,jsapiUrl:a,imageItemFeatureGraphic:i}=this;return(0,r.h)("calcite-block",{collapsible:!0,open:!0,heading:e.preview},(0,r.h)("div",{class:"image-item-preview-wrapper"},(0,r.h)("arcgis-image-item-preview",{jsapiUrl:a,previewLayerUrl:t.url,previewImageItemGraphic:i})))}renderImageItemInfoTables(){const{imageItemInfo:e}=this,{extent:t,statistics:a}=e||{};return(0,r.h)("div",null,e?this.renderImageItemInspectButtonGroup():null,e?this.renderImageItemRasterInformationTable():null,e?this.renderImageItemRasterMetadataTable():null,t?this.renderImageItemExtentInfoTable():null,e?this.renderImageItemSpatialReferenceTable():null,a?this.renderImageItemStatisticsInfoTable():null)}renderImageItemRasterInformationTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{bandCount:i,height:s,width:n,pixelType:o,pixelSize:l,dataType:c,colormap:p}=t,m=[{property:e.columns,value:n},{property:e.rows,value:s},{property:e.bandNumber,value:i},{property:e.cellSizeX,value:null==l?void 0:l.x},{property:e.cellSizeY,value:null==l?void 0:l.y},{property:e.sourceType,value:c},{property:e.pixelType,value:this.getFormattedPixelType(o)},{property:e.colormap,value:p}].filter((e=>!!e.value));return m.length>0&&(0,r.h)("calcite-block",{collapsible:!0,open:!0,heading:e.rasterInformation},(0,r.h)("div",{class:"image-item-info-table-wrapper"},(0,r.h)("arcgis-image-item-info-table",{columns:a,data:m})))}renderImageItemRasterMetadataTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{SensorName:i,ProductName:s,CloudCover:n,AcquisitionDate:o,SunAzimuth:l,SunElevation:c,ELLIPSOID:p}=t.keyProperties||{},m=o?`${new Date(o).toLocaleDateString()} ${new Date(o).toLocaleTimeString()}`:null,d=[{property:e.sensorName,value:i},{property:e.productName,value:s},{property:e.acquisitionDate,value:m},{property:e.cloudCover,value:n},{property:e.sunAzimuth,value:l},{property:e.sunElevation,value:c},{property:e.spheroid,value:p}].filter((e=>!!e.value));return d.length>0&&(0,r.h)("calcite-block",{collapsible:!0,open:!0,heading:e.rasterMetadata},(0,r.h)("div",{class:"image-item-info-table-wrapper"},(0,r.h)("arcgis-image-item-info-table",{columns:a,data:d})))}renderImageItemExtentInfoTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{extent:i}=t,{xmin:s,xmax:n,ymin:o,ymax:l}=i,c=[{property:e.top,value:l},{property:e.bottom,value:o},{property:e.left,value:s},{property:e.right,value:n}].filter((e=>!!e.value));return c.length>0&&(0,r.h)("calcite-block",{collapsible:!0,open:!0,heading:e.extent},(0,r.h)("arcgis-image-item-info-table",{columns:a,data:c}))}renderImageItemStatisticsInfoTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"bandName",header:e.bandName},{accessor:"min",header:e.min},{accessor:"max",header:e.max},{accessor:"avg",header:e.mean},{accessor:"stddev",header:e.std}],{bandInfos:i,statistics:s}=t,n=i.map(((e,t)=>{const a=s[t];return Object.assign({bandName:e.name},a)}));return n.length>0&&(0,r.h)("calcite-block",{collapsible:!0,open:!0,heading:e.statistics},(0,r.h)("div",{class:"image-item-info-table-wrapper"},(0,r.h)("arcgis-image-item-info-table",{columns:a,data:n})))}renderImageItemSpatialReferenceTable(){const{strings:e,imageItemInfo:t}=this,a=[{accessor:"property",header:e.property},{accessor:"value",header:e.value}],{keyProperties:i,spatialReference:s}=t,n=[{property:e.projectedCoordinateSystem,value:""},{property:e.projection,value:""},{property:e.wkid,value:null==s?void 0:s.wkid},{property:e.datum,value:null==i?void 0:i.DATUM},{property:e.spheroid,value:null==i?void 0:i.ELLIPSOID}].filter((e=>!!e.value));return n.length>0&&(0,r.h)("calcite-block",{collapsible:!0,open:!0,heading:e.spatialReference},(0,r.h)("div",{class:"image-item-info-table-wrapper"},(0,r.h)("arcgis-image-item-info-table",{columns:a,data:n})))}renderImageItemInspectButtonGroup(){const{strings:e}=this;return(0,r.h)("div",{class:"image-item-inspect-button-group"},(0,r.h)("calcite-button",{label:e.addImageToMap,appearance:"transparent","icon-start":"add-layer",kind:"neutral",scale:"s",title:e.addImageToMap,onClick:()=>this.arcgisAddInspectingImageItemToLayer.emit()}),(0,r.h)("calcite-button",{label:e.zoomToImage,appearance:"transparent","icon-start":"layer-zoom-to",kind:"neutral",scale:"s",title:e.zoomToImage,onClick:()=>this.arcgisZoomToInspectingImageItem.emit()}))}renderImageItemDisplayTitle(){var e,t;const{imageItemFeatureGraphic:a,layer:i}=this,s=(null===(e=null==a?void 0:a.attributes)||void 0===e?void 0:e.Name)||(null===(t=null==a?void 0:a.attributes)||void 0===t?void 0:t.name),n=null==a?void 0:a.attributes[i.objectIdField];return(0,r.h)("div",{class:"image-item-name-wrapper"},`${n}: ${s}`)}getFormattedPixelType(e){const{strings:t}=this;switch(e){case"s8":return t.s8;case"s16":return t.s16;case"s32":return t.s32;case"u1":return t.u1;case"u2":return t.u2;case"u4":return t.u4;case"u8":return t.u8;case"u16":return t.u16;case"u32":return t.u32;case"f32":return t.f32;case"f64":return t.f64;case"c64":return t.c64;case"c128":return t.c128;default:return t.unknown}}get hostElement(){return(0,r.d)(this)}};n.style=".image-details-panel{width:320px;position:relative;height:100%;background-color:var(--calcite-color-background)}.image-item-preview-wrapper{width:100%;height:300px}.image-item-info-table-wrapper{display:block;overflow-x:auto}.image-item-name-wrapper{display:flex;overflow-wrap:break-word;font-weight:600;justify-content:center;padding-top:5px}"}}]);