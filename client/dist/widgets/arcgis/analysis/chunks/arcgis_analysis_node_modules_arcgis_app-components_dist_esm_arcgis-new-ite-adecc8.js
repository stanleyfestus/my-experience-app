/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-adecc8.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-adecc8"],{99004:(e,t,r)=>{r.d(t,{c:()=>a,g:()=>i});var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},1391:(e,t,r)=>{r.d(t,{a:()=>i,b:()=>n,c:()=>s,d:()=>a});const a=(0,r(10699).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),i=a.state,s=a.state,n=a.state},19574:(e,t,r)=>{r.r(t),r.d(t,{arcgis_new_item_pages_feature_layer_from_custom_data_provider:()=>o});var a=r(20536),i=r(1391),s=r(19832),n=r(60127);r(10699),r(38973),r(44090),r(25972),r(98034),r(99004),r(369);const o=class{constructor(e){(0,a.r)(this,e),this.newItemUpdatePage=(0,a.c)(this,"newItemUpdatePage",7),this.handleSelectChange=e=>{this.selectedCustomProvider=e;const t=this.customDataProviders[e][0].properties;this.hideHosts=!t.hosts,this.hideId=t.disableIdParam},this.host=void 0,this.id=void 0,this.noHost=!1,this.noId=!1,this.customDataProviders=void 0,this.hideHosts=!1,this.hideId=!1,this.selectedCustomProvider=void 0}async componentWillLoad(){this.i18n=s.u.i18n.featureLayerFromCustomDataProvider;let e=await(0,n.g)();const t=e[Object.keys(e)[0]][0];this.selectedCustomProvider=t.fileName;const r=e[Object.keys(e)[0]][0].properties;r.hosts||(this.hideHosts=!0),r.disableIdParam&&(this.hideId=!0),this.customDataProviders=e}async handleNext(){if(this.validateInputFields())return;const e=this.customDataProviders[this.selectedCustomProvider][0],t=e.properties;t.hosts||(this.host=""),t.disableIdParam&&(this.id=""),i.a.serviceInfo={jsonProperties:{customDataProviderInfo:{dataProviderName:e.name,dataProviderHost:this.host,dataProviderId:this.id}},provider:"CUSTOMDATA"},this.newItemUpdatePage.emit("itemProperties")}handleHostInputChange(e){this.host=e.target.value}handleIdInputChange(e){this.id=e.target.value}validateInputFields(){let e=!1;const t=this.customDataProviders[this.selectedCustomProvider][0].properties;return!this.host&&t.hosts&&(this.noHost=!0,e=!0),this.id||t.disableIdParam||(this.noId=!0,e=!0),e}renderSelectOptions(){return Object.entries(this.customDataProviders).map((([e,t],r)=>(0,a.h)("calcite-option",{value:e,key:r},t[0].name)))}render(){const{i18n:e}=this;return(0,a.h)(a.H,{key:"d6d21b4d03121e95ff3c9abda11f17fce908c7e6"},(0,a.h)("calcite-label",{key:"580c197df9e0898527ceae9964964d8b4cc7b56b",class:"label"},(0,a.h)("arcgis-new-item-description",{key:"3a0f2692991d2fc8030c859c7748606e40c25d23",header:e.header}),(0,a.h)("calcite-select",{key:"da6b07d9e75053315b2989bae535ba81d210cc21",label:e.header,onCalciteSelectChange:e=>this.handleSelectChange(e.target.value)},this.renderSelectOptions()),(0,a.h)("div",{key:"b68023fbaeccaa2c1bd5e03a0e832329b939b480",hidden:this.hideHosts},(0,a.h)("calcite-label",{key:"4d5c86314caf2ca8014fe233b039245fed0aaa5a",class:"label"},e.hosts),(0,a.h)("calcite-input",{key:"a6329adcb19108e9716d1fe13a539d67f2369e42",onCalciteInputInput:e=>this.handleHostInputChange(e),scale:"l",status:this.noHost?"invalid":"idle",hidden:this.hideHosts}),(0,a.h)("calcite-input-message",{key:"1c1b69a066f75e72fd859bd43092627240cbeb73",icon:!0,status:"invalid",hidden:!this.noHost},e.missingHost)),(0,a.h)("div",{key:"2a1e20291b4127d93db3c798f66f1665a964e392",hidden:this.hideId},(0,a.h)("calcite-label",{key:"eba9a28d8516829634802a659a5e8247a6faedbf",class:"label"},e.idTitle),(0,a.h)("calcite-input",{key:"6b679659a15bf437b8edbee4faf9300d8fb4a501",onCalciteInputInput:e=>this.handleIdInputChange(e),scale:"l",status:this.noId?"invalid":"idle"}),(0,a.h)("calcite-input-message",{key:"504972fac47d53623f506d9f6bda3a4f60056528",icon:!0,status:"invalid",hidden:!this.noId},e.missingId))))}get el(){return(0,a.d)(this)}};o.style=".label{margin-top:1.5rem}.hide{display:none}"},60127:(e,t,r)=>{r.d(t,{g:()=>s});var a=r(38973),i=r(25972);async function s(){const e=(0,a.g)().replace("portal/sharing/rest/","server/admin/services/types/customdataproviders");try{return await(0,i.r)(e,"post")}catch(e){console.warn(e)}}},98034:(e,t,r)=>{r.d(t,{e:()=>s,l:()=>n});var a,i=r(99004),s={exports:{}};a=s.exports,i.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},r="4.24",a="next";function i(e){if(e.toLowerCase()===a)return a;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function s(e){return void 0===e&&(e=r),"https://js.arcgis.com/".concat(e,"/")}function n(e){void 0===e&&(e=r);var t=s(e),n=i(e);if(n!==a&&3===n.major){var o=n.minor<=10?"js/":"";return"".concat(t).concat(o,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function o(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function d(e,t){if(t){var r=document.querySelector(t);r.parentNode.insertBefore(e,r)}else document.head.appendChild(e)}function c(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function l(e){return!e||i(e)?n(e):e}function u(e,t){var r=l(e),a=c(r);return a||d(a=o(r),t),a}var h={};function f(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function v(e,t,r){var a;r&&(a=p(e,r));var i=function(){t(e),e.removeEventListener("load",i,!1),a&&e.removeEventListener("error",a,!1)};e.addEventListener("load",i,!1)}function p(e,t){var r=function(a){t(a.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",r,!1)};return e.addEventListener("error",r,!1),r}function m(e){void 0===e&&(e={}),h=e}function b(){return document.querySelector("script[data-esri-loader]")}function y(){var e=window.require;return e&&e.on}function g(e){void 0===e&&(e={});var r={};[h,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}));var a=r.version,i=r.url||s(a);return new t.Promise((function(e,t){var s=b();if(s){var n=s.getAttribute("src");n!==i?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(n,")."))):y()?e(s):v(s,e,t)}else if(y())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var o=r.css;o&&u(!0===o?a:o,r.insertCssBefore),v(s=f(i),(function(){s.setAttribute("data-esri-loader","loaded"),e(s)}),t),document.body.appendChild(s)}}))}function w(e){return new t.Promise((function(t,r){var a=window.require.on("error",r);window.require(e,(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];a.remove(),t(e)}))}))}function I(e,t){if(void 0===t&&(t={}),y())return w(e);var r=b(),a=r&&r.getAttribute("src");return!t.url&&a&&(t.url=a),g(t).then((function(){return w(e)}))}e.utils=t,e.loadModules=I,e.getScript=b,e.isLoaded=y,e.loadScript=g,e.setDefaultOptions=m,e.loadCss=u,Object.defineProperty(e,"__esModule",{value:!0})}(a);const n=async(e,t)=>(await s.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))},19832:(e,t,r)=>{r.d(t,{a:()=>a,u:()=>i});const a=(0,r(10699).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,featureFlags:{}}),i=a.state}}]);