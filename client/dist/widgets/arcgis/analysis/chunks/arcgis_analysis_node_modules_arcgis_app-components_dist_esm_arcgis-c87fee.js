/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c87fee.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c87fee"],{99004:(e,t,a)=>{a.d(t,{c:()=>i,g:()=>r});var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==a.g?a.g:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}},15968:(e,t,a)=>{a.r(t),a.d(t,{arcgis_new_item_pages_tile_layer_settings:()=>h});var i=a(20536),r=a(44090),l=a(38973),n=a(76776),s=a(64243),o=a(51933),c=a(1391),u=a(19832),d=a(11163);a(10699),a(27995),a(90079),a(4291),a(369),a(67914),a(30554),a(25972),a(98034),a(99004),a(78231),a(34472),a(79717),a(76246),a(16093),a(90230),a(40883),a(86980),a(59377),a(68537);const h=class{constructor(e){(0,i.r)(this,e),this.newItemUpdatePage=(0,i.c)(this,"newItemUpdatePage",7),this.publishType="tiles",this.autoCreation=!0,this.basemapUrl="",this.featureLayerInfos=null,this.featureLayerLayers=null,this.serviceInfo=null,this.cacheOnDemandMinScale=d.T,this.calculatedScale={minScale:d.T,maxScale:d.e},this.curLods=[],this.ranges=[{level:0,label:"world"},{level:1,label:"continent"},{level:2,label:"countries"},{level:3,label:"countriesSmall"},{level:4,label:"states"},{level:5,label:"state"},{level:6,label:"counties"},{level:7,label:"county"},{level:8,label:"metropolitan"},{level:9,label:"cities"},{level:10,label:"city"},{level:11,label:"town"},{level:12,label:"neighborhood"},{level:13,label:"streets"},{level:14,label:"street"},{level:15,label:"buildings"},{level:16,label:"building"},{level:17,label:"small"},{level:18,label:"rooms"},{level:19,label:"room"}],this.tileLayerInfo=null,this.handleUrlInputError=e=>{const{error:t}=this.i18n;this.alertInfo={title:"invalidUrl"===e?this.invalidUrlString:t.urlErrorTitle,description:"invalidUrl"===e?void 0:t[e]}},this.getPublishTypeInfo=()=>{const{publishType:e}=this;switch(e){case"tiles":return"mapserver";case"scenes":return"sceneserver";case"features":return"featureserver";case"vectorTiles":return"vectortileserver";case"tiledImagery":case"dynamicImagery":return"imageserver";default:return e}},this.toggleAutoCreation=e=>{this.autoCreation=e.detail},this.handleBasemapChange=e=>{var t;const{tileLayerInfo:a,curLods:i}=this;this.basemapType=e;const r=e=>{e.length===i.length&&e.every(((e,t)=>{const a=i[t];return e.level===a.level&&e.resolution===a.resolution&&e.scale===a.scale&&e.label===a.label}))||(this.curLods=e)},l=null===(t=null==a?void 0:a.info)||void 0===t?void 0:t.lods;"standard"===e?r(d.g):l&&r(l)},this.fetchTileLayerInfo=async e=>{this.isProcessing=!0,this.alertInfo=null,this.tileLayerInfo=null;const{error:t,result:a}=await(0,o.b)(e,!1);return t?this.handleUrlInputError(t.code):a&&(this.tileLayerInfo={url:e,info:a}),this.isProcessing=!1,!t},this.onUrlInputBlur=async()=>{const{tileLayerInfo:e,basemapUrl:t}=this;if(!t)return this.tileLayerInfo=null,void(this.basemapUrl=null);(null==e?void 0:e.url)!==t&&this.fetchTileLayerInfo(t)},this.alertInfo=void 0,this.isProcessing=!1,this.showIncreaseScaleRangeWarning=!1,this.selectedItem=void 0,this.basemapType=void 0}async handleNext(){var e;if("3dTiles"===c.a.tileLayerPublishType)return;const{publishType:t,serviceInfo:a,autoCreation:i,cacheOnDemandMinScale:l,calculatedScale:n,tileLayerInfo:s,selectedItem:u,basemapType:d,basemapUrl:h,inputRef:f,handleUrlInputError:p,fetchTileLayerInfo:v}=this;if("custom"===d){if(!h)return p("invalidUrl"),void f.setFocus();if(!s){if(!await v(h))return void f.setFocus()}}const{publishContent:y}=(0,o.d)({id:u.id,title:u.title},{publishType:t,cacheOnDemand:"vectorTiles"!==t&&i,cacheOnDemandMinScale:l,tileInfo:null==s?void 0:s.info,scale:Object.assign({},n),layers:null===(e=c.a.tileLayerData)||void 0===e?void 0:e.layers},r.c.portal.isPortal);c.a.tileLayerPublishContent=y,c.a.tileAutoCreation=i,c.a.tileLayerBasemapType=d,c.a.tileLayerBasemapUrl=h,c.a.tileLayerPublishType=t,this.newItemUpdatePage.emit("itemProperties")}async componentWillLoad(){var e,t;if("3dTiles"===c.a.tileLayerPublishType)return;this.fromFeatureLayer=c.a.tileLayerFromFeatureLayer,this.publishType=c.a.tileLayerPublishType,this.i18n=u.u.i18n.tileLayerSettings,this.invalidUrlString=u.u.i18n.url.invalidUrl,this.autoCreation=null===(e=c.a.tileAutoCreation)||void 0===e||e,this.basemapUrl=c.a.tileLayerBasemapUrl,this.basemapType=null!==(t=c.a.tileLayerBasemapType)&&void 0!==t?t:"standard",c.a.tileLayerPublishContent=null;let a=c.a.item;a||(a=Object.assign(Object.assign({},c.a.existingItem),{id:c.a.id,title:c.a.sourceTitle,type:c.a.type,tags:n.i.tags}),c.a.item=a);c.a.type={vectorTiles:"Vector Tile Service",tiles:"Tile Layer",scenes:"Scene Service"}[c.a.tileLayerPublishType],n.i.title=a.title,this.selectedItem=a;(async()=>{var e;if("3dTiles"===c.a.tileLayerPublishType)return;this.isProcessing=!0;const t=a.url;let i=c.a.tileLayerLayers,n=c.a.tileLayerTables,u=c.a.tileLayerServiceInfo;if(!(r.c.portal.isPortal&&c.a.tileLayerFromFeatureLayer||i||n||u)){const e=await(0,s.w)(t,(0,l.g)(r.c.portal),!0);i=e.layers,n=e.tables,u=e.serviceInfo}this.serviceInfo=u,this.featureLayerInfos=[...i||[],...n||[]],this.featureLayerLayers=[...i||[]],await this.handleTileLayerScaleChange({minScale:d.T,maxScale:d.e}),"tiles"===this.publishType&&(0,o.h)(this.featureLayerLayers,null!==(e=r.c.config.tilesOnDemandEnabled)&&void 0!==e&&e),this.isProcessing=!1})()}async handleTileLayerScaleChange(e){var t,a;const{selectedItem:i,featureLayerInfos:r,tileLayerInfo:l,publishType:n}=this;if("tiles"!==n)return;const s=i.url,{cacheOnDemandMinScale:c,calculatedScale:u}=await(0,o.e)(e,null!==(a=null===(t=null==l?void 0:l.info)||void 0===t?void 0:t.lods)&&void 0!==a?a:d.a.lods,r,s);s&&(c&&(this.cacheOnDemandMinScale=c),this.calculatedScale=u)}render(){const{ranges:e,i18n:t,toggleAutoCreation:a,handleBasemapChange:l,onUrlInputBlur:n,isProcessing:s,autoCreation:o,basemapType:c,basemapUrl:u,alertInfo:h,publishType:f,fromFeatureLayer:p}=this;return(0,i.h)(i.H,{key:"7a088dd999177585a9d122e5988f1639b449412c"},(0,i.h)("arcgis-new-item-loader",{key:"092f68d91724734bbb902531999ddf3f35277510",active:s}),(0,i.h)("div",{key:"83491455a1022cc400a96eefa682ba9abdec5f81",class:"title"},(0,i.h)("arcgis-new-item-description",{key:"9eec501a598d8fcc239603e3824851b1c1bc0cff",header:t.title,scale:"l"})),"tiles"===f&&(!r.c.portal.isPortal||!p)&&(0,i.h)("div",{key:"06fa2a575d0674ab707720391172c45a8bdb8647",class:"section"},(0,i.h)("arcgis-new-item-switch-card",{key:"66a73210d3885172fca531b7d074a414f7ccdbc0",defaultChecked:o,header:t.autoCreateOption.title,description:t.autoCreateOption.description,onSwitchChange:a})),(0,i.h)("div",{key:"cf05ff45f4f7f472d2a4024673447f82f2750ec3",class:"section"},(0,i.h)("p",{key:"8f65e896cbfacace9e7ccfaef91d51c8eca6b4de",class:"section-title"},t.basemapOption),(0,i.h)("calcite-tile-select-group",{key:"ebffb1aec67fc95c878d23c0a59abb4e5c0292bc",layout:"vertical"},d.f.map((e=>{const a="custom"===e?"customBasemap":"onlineBasemapOption";return(0,i.h)("calcite-tile-select",{key:e,checked:e===c,onCalciteTileSelectChange:()=>l(e),description:t[a].description,heading:t[a].title,name:e,"input-enabled":!0,"input-alignment":"start",type:"radio",value:e,width:"full",id:`${e}-input-option`})})))),"custom"===c&&(0,i.h)("div",{key:"f8a8a1b71cf44ca8b755810f23e07d2a6b3bb8c1",class:"section"},(0,i.h)("p",{key:"b3bf27fbccc6fa47c0262f5ecde3d994b0cf6d17",class:"section-title"},t.customBasemapUrl),(0,i.h)("calcite-input",{key:"7c071d64a33c177c5e5061e70aa25dc24758c7ac",scale:"m",disabled:s,value:u,onCalciteInputInput:e=>{this.basemapUrl=e.target.value,this.alertInfo=null},onBlur:n,placeholder:"https://webadaptorhost.domain.com/arcgis/rest/services/service/MapServer",ref:e=>this.inputRef=e})),(0,i.h)("arcgis-new-item-alert",{key:"65f8ee997a23b7a229beeb63c5404a880534f913",heading:null==h?void 0:h.title,description:null==h?void 0:h.description,active:!!h,onAlertDismiss:()=>this.alertInfo=null}))}get el(){return(0,i.d)(this)}};h.style=".title{margin-bottom:1.5rem}.section{margin-bottom:2rem}.section-title{font-size:1rem;font-weight:400;margin-bottom:0.25rem;margin-top:0px}.description{margin-bottom:1rem;margin-top:0px;font-size:0.75rem}"},98034:(e,t,a)=>{a.d(t,{e:()=>l,l:()=>n});var i,r=a(99004),l={exports:{}};i=l.exports,r.c,function(e){var t={Promise:"undefined"!=typeof window?window.Promise:void 0},a="4.24",i="next";function r(e){if(e.toLowerCase()===i)return i;var t=e&&e.match(/^(\d)\.(\d+)/);return t&&{major:parseInt(t[1],10),minor:parseInt(t[2],10)}}function l(e){return void 0===e&&(e=a),"https://js.arcgis.com/".concat(e,"/")}function n(e){void 0===e&&(e=a);var t=l(e),n=r(e);if(n!==i&&3===n.major){var s=n.minor<=10?"js/":"";return"".concat(t).concat(s,"esri/css/esri.css")}return"".concat(t,"esri/themes/light/main.css")}function s(e){var t=document.createElement("link");return t.rel="stylesheet",t.href=e,t}function o(e,t){if(t){var a=document.querySelector(t);a.parentNode.insertBefore(e,a)}else document.head.appendChild(e)}function c(e){return document.querySelector('link[href*="'.concat(e,'"]'))}function u(e){return!e||r(e)?n(e):e}function d(e,t){var a=u(e),i=c(a);return i||o(i=s(a),t),i}var h={};function f(e){var t=document.createElement("script");return t.type="text/javascript",t.src=e,t.setAttribute("data-esri-loader","loading"),t}function p(e,t,a){var i;a&&(i=v(e,a));var r=function(){t(e),e.removeEventListener("load",r,!1),i&&e.removeEventListener("error",i,!1)};e.addEventListener("load",r,!1)}function v(e,t){var a=function(i){t(i.error||new Error("There was an error attempting to load ".concat(e.src))),e.removeEventListener("error",a,!1)};return e.addEventListener("error",a,!1),a}function y(e){void 0===e&&(e={}),h=e}function m(){return document.querySelector("script[data-esri-loader]")}function b(){var e=window.require;return e&&e.on}function g(e){void 0===e&&(e={});var a={};[h,e].forEach((function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])}));var i=a.version,r=a.url||l(i);return new t.Promise((function(e,t){var l=m();if(l){var n=l.getAttribute("src");n!==r?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(n,")."))):b()?e(l):p(l,e,t)}else if(b())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var s=a.css;s&&d(!0===s?i:s,a.insertCssBefore),p(l=f(r),(function(){l.setAttribute("data-esri-loader","loaded"),e(l)}),t),document.body.appendChild(l)}}))}function L(e){return new t.Promise((function(t,a){var i=window.require.on("error",a);window.require(e,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];i.remove(),t(e)}))}))}function I(e,t){if(void 0===t&&(t={}),b())return L(e);var a=m(),i=a&&a.getAttribute("src");return!t.url&&i&&(t.url=i),g(t).then((function(){return L(e)}))}e.utils=t,e.loadModules=I,e.getScript=m,e.isLoaded=b,e.loadScript=g,e.setDefaultOptions=y,e.loadCss=d,Object.defineProperty(e,"__esModule",{value:!0})}(i);const n=async(e,t)=>(await l.exports.loadModules(e,t)).map((e=>e.__esModule&&e.default?e.default:e))}}]);