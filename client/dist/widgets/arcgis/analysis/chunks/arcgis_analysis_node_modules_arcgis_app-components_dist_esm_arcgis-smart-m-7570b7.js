/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-smart-m-7570b7.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-smart-m-7570b7"],{42552:(e,s,t)=>{t.r(s),t.d(s,{arcgis_smart_mapping_assist_feedback:()=>l});var a=t(20536),i=(t(74129),t(98034),t(37219)),n=t(26359);t(99004),t(34752),t(91102),t(73807),t(37568),t(10699),t(98072);const l=class{constructor(e){(0,a.r)(this,e),this.arcgisSmartMappingAssistFeedbackClose=(0,a.c)(this,"arcgisSmartMappingAssistFeedbackClose",7),this.chat=void 0}componentWillLoad(){}render(){const{checkBoxNode:e,textAreaNode:s}=this,{strings:t}=i.s;return(0,a.h)(a.H,{key:"c233485af0d12a4150b2412d91c61f544631b94c"},(0,a.h)("calcite-dialog",{key:"2a5b94383c0d8f88a823e665099839735392e71d",class:"modal",open:!0,modal:!0,scale:"l",heading:t.assistFeedback.sendFeedback,escapeDisabled:!0,outsideCloseDisabled:!0,onCalciteDialogClose:()=>this.arcgisSmartMappingAssistFeedbackClose.emit()},(0,a.h)("div",{key:"1e354e7da52399f75ea981232507b66c90ef5261"},this.renderContent()),(0,a.h)("calcite-button",{key:"ab20200ee5108cb5110a431a250fb4560652d517",slot:"footer-end",appearance:"outline-fill",alignment:"end",onClick:()=>this.arcgisSmartMappingAssistFeedbackClose.emit()},t.cancel),(0,a.h)("calcite-button",{key:"7dd49e6f6643b03b1c78c710e0af4d6aa124f987",slot:"footer-end",alignment:"end",appearance:"solid",disabled:!(null==e?void 0:e.checked)||!(null==s?void 0:s.value),onClick:()=>this.handleSubmit()},t.assistFeedback.submit)))}renderContent(){const{config:e,strings:s}=i.s,{helpBase:t,helpMap:n}=e,l=(0,a.h)("calcite-link",{target:"_blank",href:`${t}${n[120003249]}`},s.assistFeedback.privacyStatement),c=(0,a.h)("calcite-link",{target:"_blank",href:`${t}${n[120003249]}`},s.assistFeedback.supplement),o=(0,a.h)("calcite-link",{target:"_blank",href:`${t}${n[120003249]}`},s.assistFeedback.privacy),r=s.assistFeedback.iAgree,d=r.substring(0,r.indexOf("${privacyStatement}")),p=r.substring(r.indexOf("${privacyStatement}")+19,r.indexOf("${supplement}")),m=r.substring(r.indexOf("${supplement}")+13),h=s.assistFeedback.learnMore,u=h.substring(0,h.indexOf("${privacy}")),g=h.substring(h.indexOf("${privacy}")+10);return(0,a.h)(a.F,null,(0,a.h)("div",{class:"title"},s.assistFeedback.tellUs),(0,a.h)("div",{class:"sub-title"},s.assistFeedback.dontShare),(0,a.h)("calcite-text-area",{class:"text-input",placeholder:s.panels.assist.placeholder,value:"",scale:"s",rows:10,resize:"vertical",onCalciteTextAreaChange:()=>(0,a.f)(this.hostElement),onClick:()=>(0,a.f)(this.hostElement),ref:e=>this.textAreaNode=e}),(0,a.h)("div",{class:"title email"},s.assistFeedback.email),(0,a.h)("div",{class:"sub-title"},s.assistFeedback.shareEmail),(0,a.h)("calcite-input-text",{class:"email-input",placeholder:s.assistFeedback.enterEmail}),(0,a.h)("div",{class:"disclaimer"},(0,a.h)("calcite-checkbox",{class:"disclaimer-checkbox",onClick:()=>(0,a.f)(this.hostElement),ref:e=>this.checkBoxNode=e}),(0,a.h)("div",null,(0,a.h)("div",null,d,l,p,c,m),(0,a.h)("div",null,u,o,g))))}async handleSubmit(){(0,n.s)({text:this.textAreaNode.value}),this.arcgisSmartMappingAssistFeedbackClose.emit()}get hostElement(){return(0,a.d)(this)}};l.style=".modal{top:7.5%;left:7.5%;right:7.5%;--calcite-dialog-size-x:85%;--calcite-dialog-size-y:85%}.text-input{height:auto;width:100%}.title{font-weight:bold;font-size:16px}.sub-title{font-size:var(--calcite-font-size--1);padding-bottom:10px}.email-input{margin-top:10px;max-width:400px}.email{margin-top:20px}.disclaimer{font-size:var(--calcite-font-size--1);margin-top:30px;display:flex;-moz-column-gap:10px;column-gap:10px}.disclaimer-checkbox{margin-top:5px}"},26359:(e,s,t)=>{t.d(s,{a:()=>i,b:()=>n,s:()=>l});t(74129),t(98034);var a=t(37219);const i={true:"https://ndh-inf-ml-p01.esri.com/dev/mapping",vpn:"https://ndh-inf-ml-p01.esri.com/dev/mapping",aws:"https://devsummitdemowin.webgistesting.net/dev/mapping"};async function n(e){const{text:s}=e,{layer:t,modules:i}=a.s;if(!(0,a.p)(t))return;const n={token:"",map_data:{data:t.fields.map((e=>({fieldName:e.name,alias:e.alias,dataType:e.type})))},messages:s,entry_point:"style"},l={method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}};console.log("request body: ",n);try{const{data:e}=await i.esriRequest(c(),l);if(e.status_code&&200!==e.status_code)return console.log("*** question/response: ",JSON.stringify({question:s,response:e})),Promise.resolve({message:e.botMessage,status:"error",type:"response"});const t=e[0],a=t.botMessage,n="map_style"===t.actionType?"valid":"invalid";return Promise.resolve({message:a,status:n,dataObject:t,type:"response"})}catch(e){return Promise.resolve({message:e.message,status:"error",type:"response"})}}async function l(e){const{text:s}=e,{layer:t,modules:i}=a.s;if(!(0,a.p)(t))return;const n=t.fields.map((e=>({fieldName:e.name,alias:e.alias,dataType:e.type}))),l={method:"post",body:JSON.stringify({token:"",map_data:{data:n},messages:s,entry_point:"style"}),headers:{"Content-Type":"application/json"}};console.log(JSON.stringify(l));try{await i.esriRequest(c(),l)}catch(e){}}function c(){var e;const{modules:s}=a.s,t=s.urlUtils.urlToObject(document.URL),n=t.query||{};return(null===(e=t.query)||void 0===e?void 0:e.assistUrl)||i[n.assist]}}}]);