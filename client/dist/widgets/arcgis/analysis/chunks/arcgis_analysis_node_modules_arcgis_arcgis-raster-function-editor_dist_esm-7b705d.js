"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_dist_esm-7b705d"],{45045:(e,t,n)=>{function o(e){void 0!==e&&(e.open=!1,e.remove())}function i(e,t){!1===e.body.contains(t)&&(e.body.appendChild(t),t.open=!0)}function a(e,t){const{helpUrl:n,helpId:a,heading:l,referenceElement:s,portal:r,helpSrcdoc:d,helpFileName:c,learnMoreUrl:h,offsetDistance:p,offsetSkidding:f}=t;return void 0!==e&&(o(e),e=void 0),e=function(e){const{helpUrl:t,helpId:n,heading:o,referenceElement:i,portal:a,helpSrcdoc:l,learnMoreUrl:s,placement:r,offsetDistance:d,offsetSkidding:c}=e,h=document.createElement("rfx-help-popover");return h.helpUrl=t,h.helpId=n,h.heading=o,h.referenceElement=i,h.placement=r??"leading-start",h.portal=a,h.helpSrcdoc=l,h.learnMoreUrl=s,void 0!==d&&(h.offsetDistance=d),void 0!==c&&(h.offsetSkidding=c),h}({helpUrl:n,helpId:a,heading:l,referenceElement:s,portal:r,helpSrcdoc:d,helpFileName:c,learnMoreUrl:h,offsetDistance:p,offsetSkidding:f}),i(document,e),e}function l(e,t){const{referenceElement:n,label:a,direction:l,offsetDistance:s,offsetSkidding:r,showPropertiesAction:d,showRenameAction:c,handleNodeDuplicate:h,handleNodeRename:p,handleNodeDelete:f,handleNodeEditProperties:m}=t;void 0!==e&&(o(e),e=void 0),e=document.createElement("calcite-popover");const u={overlayPositioning:"absolute",autoClose:!0,dir:l,focusTrapDisabled:!0,triggerDisabled:!0,pointerDisabled:!0,placement:"bottom",closable:!1,open:!0,referenceElement:n,label:a,offsetDistance:s,offsetSkidding:r,style:"z-index: 650;"};Object.assign(e,u);const v=document.createElement("rfx-node-interaction-toolbar"),g={showPropertiesAction:d,showRenameAction:c,handleNodeDuplicate:h,handleNodeRename:p,handleNodeDelete:f,handleNodeEditProperties:m};return Object.assign(v,g),e.append(v),i(document,e),setTimeout((()=>requestAnimationFrame((()=>{e.open=!0}))),1),e}n.d(t,{c:()=>l,r:()=>o,s:()=>a})},43755:(e,t,n)=>{n.r(t),n.d(t,{rfx_container:()=>s});var o=n(17002),i=(n(5294),n(13661),n(18423),n(21255),n(35431),n(588),n(55448),n(2924),n(11840),n(52373),n(33752),n(440),n(66744),n(44345),n(19562)),a=n(95730),l=(n(23795),n(17902),n(56451),n(33355),n(71802),n(32513),n(36596),n(45045));n(93210),n(68708),n(10259),n(40320),n(54667),n(15195);const s=class{constructor(e){(0,o.r)(this,e),this.handleAnalysisHelpPopoverClose=()=>{(0,l.r)(this.toolHelpPopover)},this.handleRFxHelpPopoverChange=e=>{e.stopPropagation();const{referenceElement:t,helpSrcdoc:n,heading:o}=e.detail;this.toolHelpPopover=(0,l.s)(this.toolHelpPopover,{helpId:"param.name",helpSrcdoc:n,heading:o,referenceElement:t,offsetDistance:30}),this.toolHelpPopover.addEventListener("rfxHelpPopoverClose",this.handleAnalysisHelpPopoverClose)},this.handleHeadingHelpClick=async()=>{const e=this.customRFT,{helpTemplate:t,learnMoreUrl:n}=await(0,a.c)({rfxName:this.functionName,rfxTemplate:e,portal:this.portal});this.toolHelpPopover=(0,l.s)(this.toolHelpPopover,{helpSrcdoc:t,helpId:"toolDescription",heading:this.customRFT?.name??this.functionName,referenceElement:this.headerHelpIconComponent,learnMoreUrl:n,offsetDistance:55,offsetSkidding:10}),this.toolHelpPopover.addEventListener("analysisHelpPopoverClose",this.handleAnalysisHelpPopoverClose)},this.handleClose=()=>{this.panelMode=0},this._handleDone=async()=>{this.panelMode=0,await this.editorComponent.getUpdatedRFTWithValues()},this.panelMode=0,this.portal=void 0,this.mapLayers=void 0,this.customRFT=void 0,this.mapView=void 0,this.validateOnPreview=void 0}_renderFunctionUI(){return(0,o.h)("div",{style:{display:"flex","flex-direction":"column"}},(0,o.h)("calcite-panel",{heading:this.customRFT?.name??this.functionName,closable:!0,onCalcitePanelClose:this.handleClose},(0,o.h)("calcite-action",{label:"",text:"",icon:"information",slot:"header-actions-end",onClick:this.handleHeadingHelpClick,ref:e=>this.headerHelpIconComponent=e}),(0,o.h)("rfx-analysis-wrapper",{ref:e=>this.editorComponent=e,functionName:this.functionName,portal:this.portal,mapLayers:this.mapLayers,usePanel:!1,mapView:this.mapView,onAnalysisToolclose:this.handleClose,rfxTemplate:this.customRFT,validateOnPreview:this.validateOnPreview,onAnalysisUnsupportedFunction:()=>{console.log("has unsupported function in this RFT, set showUnsupportedFunction as true in analysis-wrapper to see the function chain"),this.handleClose()},onAnalysisRFxHelpPopoverChange:this.handleRFxHelpPopoverChange})),(0,o.h)("div",{style:{display:"flex","flex-direction":"row","justify-content":"flex-start"}},this.renderValidationButton(),this._renderDoneButton()))}_renderDoneButton(){return(0,o.h)("calcite-button",{alignment:"start",appearance:"solid",kind:"brand",scale:i.U.Scale,href:"",onClick:this._handleDone},"done")}renderValidationButton(){return(0,o.h)("calcite-button",{alignment:"start",appearance:"solid",kind:"brand",scale:i.U.Scale,href:"",style:{"margin-left":"5px"},onClick:async()=>{const e=await this.editorComponent.validateRFx();console.log("validation-status---\x3e",e)}},"Validate")}render(){return(0,o.h)("calcite-flow-item",{id:"rfx-container",key:"rfx-container",heading:"Raster Functions"},0===this.panelMode&&(0,o.h)("rfx-list-view",{key:"20f80ddef25f5aa21614fc70a9655ade6074fba6",scale:i.C.m,onTriggerSelectFunction:e=>{this.functionName=e.detail,this.panelMode=1}}),1===this.panelMode&&this._renderFunctionUI())}}},19562:(e,t,n)=>{n.d(t,{C:()=>i,U:()=>o,a:()=>a});const o={Scale:"s",PopoverTimer:60},i={s:"s",m:"m",l:"l"},a={absolute:"absolute",fixed:"fixed"}}}]);