/*! For license information please see vendors-node_modules_arcgis_charts-components_dist_esm_action-bar-utils-96b03bef_js.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-node_modules_arcgis_charts-components_dist_esm_action-bar-utils-96b03bef_js"],{1744:(e,r,t)=>{t.d(r,{$:()=>_s,A:()=>ys,E:()=>gs,H:()=>fs,J:()=>xa,K:()=>Mr,L:()=>ga,M:()=>bs,O:()=>Ss,P:()=>hs,Q:()=>Ea,S:()=>Es,W:()=>xs,Z:()=>Fa,_:()=>vs,a:()=>Gr,b:()=>Da,c:()=>js,d:()=>Cs,e:()=>Fs,f:()=>pa,g:()=>$a,h:()=>Ca,i:()=>Oa,j:()=>Ba,k:()=>ws,l:()=>ha,m:()=>ka,n:()=>fa,o:()=>As,p:()=>ja,s:()=>Jr,t:()=>Kr,z:()=>ps}),e=t.hmd(e);const a={Blob:"esriFieldTypeBlob",Date:"esriFieldTypeDate",Double:"esriFieldTypeDouble",Geometry:"esriFieldTypeGeometry",GlobalID:"esriFieldTypeGlobalID",GUID:"esriFieldTypeGUID",Integer:"esriFieldTypeInteger",OID:"esriFieldTypeOID",Raster:"esriFieldTypeRaster",Single:"esriFieldTypeSingle",SmallInteger:"esriFieldTypeSmallInteger",String:"esriFieldTypeString",XML:"esriFieldTypeXML"},o={Count:"count",Sum:"sum",Minimum:"min",Maximum:"max",Average:"avg",StandardDeviation:"stddev",Variance:"var",ContinuousPercentile:"percentile_cont",DiscretePercentile:"percentile_disc",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate",NoAggregation:"no_aggregation"},i={Chart:"chart",Text:"chartText",Overlay:"chartOverlay",Overlays:"chartOverlays",Legend:"chartLegend",CursorCrosshair:"cursorCrosshair",Axis:"chartAxis",GaugeAxisTick:"gaugeAxisTick",GaugeNeedle:"gaugeNeedle",CategoryAxisFormat:"category",NumberAxisFormat:"number",DateAxisFormat:"date",Guide:"chartGuide",ScatterSeries:"scatterSeries",PieSeries:"pieSeries",PieTick:"pieTick",GaugeSeries:"gaugeSeries",LineSeries:"lineSeries",BarSeries:"barSeries",HistogramSeries:"histogramSeries",BoxPlotSeries:"boxPlotSeries",RadarSeries:"radarSeries",ProbabilityPlotSeries:"probabilityPlotSeries",ProfileGraphSeries:"profileGraphSeries",ComboLineAndBarSeries:"comboLineAndBarSeries",Buffer:"buffer",SizePolicy:"sizeScale"},s={statisticType:o.Count,sortingOrder:"ASC"},n={Same:"same",Newer:"newer",Older:"older",Unrecognized:"unrecognized"},l={Arabic:"ar",ArabicLatin:"ar-u-nu-latn",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",NorwegianBokml:"nb",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},c=[...Object.values(l),"en-AU","en-GB","es-ES","es-MX","de-CH","de-DE","de-AT","it-CH","it-IT"];var u="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=u||d||Function("return this")(),p=h.Symbol,f=Object.prototype,m=f.hasOwnProperty,v=f.toString,g=p?p.toStringTag:void 0,y=Object.prototype.toString,b="[object Null]",w="[object Undefined]",P=p?p.toStringTag:void 0;function _(e){return null==e?void 0===e?w:b:P&&P in Object(e)?function(e){var r=m.call(e,g),t=e[g];try{e[g]=void 0;var a=!0}catch(e){}var o=v.call(e);return a&&(r?e[g]=t:delete e[g]),o}(e):function(e){return y.call(e)}(e)}function S(e){return null!=e&&"object"==typeof e}var E="[object Symbol]";function x(e,r){for(var t=-1,a=null==e?0:e.length,o=Array(a);++t<a;)o[t]=r(e[t],t,e);return o}var F=Array.isArray,j=1/0,C=p?p.prototype:void 0,k=C?C.toString:void 0;function A(e){if("string"==typeof e)return e;if(F(e))return x(e,A)+"";if(function(e){return"symbol"==typeof e||S(e)&&_(e)==E}(e))return k?k.call(e):"";var r=e+"";return"0"==r&&1/e==-j?"-0":r}function $(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)}function O(e){return e}var R="[object AsyncFunction]",D="[object Function]",I="[object GeneratorFunction]",L="[object Proxy]";function T(e){if(!$(e))return!1;var r=_(e);return r==D||r==I||r==R||r==L}var N,q=h["__core-js_shared__"],B=(N=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+N:"",z=Function.prototype.toString;function V(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var M=/^\[object .+?Constructor\]$/,U=Function.prototype,Q=Object.prototype,H=U.toString,K=Q.hasOwnProperty,G=RegExp("^"+H.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function J(e,r){var t=function(e,r){return null==e?void 0:e[r]}(e,r);return function(e){return!(!$(e)||(r=e,B&&B in r))&&(T(e)?G:M).test(V(e));var r}(t)?t:void 0}var W=J(h,"WeakMap");function Z(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var X,Y,ee,re=Date.now,te=function(){try{var e=J(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),ae=te,oe=ae?function(e,r){return ae(e,"toString",{configurable:!0,enumerable:!1,value:(t=r,function(){return t}),writable:!0});var t}:O,ie=(X=oe,Y=0,ee=0,function(){var e=re(),r=16-(e-ee);if(ee=e,r>0){if(++Y>=800)return arguments[0]}else Y=0;return X.apply(void 0,arguments)}),se=9007199254740991,ne=/^(?:0|[1-9]\d*)$/;function le(e,r){var t=typeof e;return!!(r=r??se)&&("number"==t||"symbol"!=t&&ne.test(e))&&e>-1&&e%1==0&&e<r}function ce(e,r,t){"__proto__"==r&&ae?ae(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}function ue(e,r){return e===r||e!=e&&r!=r}var de=Object.prototype.hasOwnProperty;function he(e,r,t){var a=e[r];de.call(e,r)&&ue(a,t)&&(void 0!==t||r in e)||ce(e,r,t)}var pe=Math.max;function fe(e,r){return ie(function(e,r,t){return r=pe(void 0===r?e.length-1:r,0),function(){for(var a=arguments,o=-1,i=pe(a.length-r,0),s=Array(i);++o<i;)s[o]=a[r+o];o=-1;for(var n=Array(r+1);++o<r;)n[o]=a[o];return n[r]=t(s),Z(e,this,n)}}(e,r,O),e+"")}var me=9007199254740991;function ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=me}function ge(e){return null!=e&&ve(e.length)&&!T(e)}function ye(e,r,t){if(!$(t))return!1;var a=typeof r;return!!("number"==a?ge(t)&&le(r,t.length):"string"==a&&r in t)&&ue(t[r],e)}var be=Object.prototype;function we(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||be)}function Pe(e){return S(e)&&"[object Arguments]"==_(e)}var _e=Object.prototype,Se=_e.hasOwnProperty,Ee=_e.propertyIsEnumerable,xe=Pe(function(){return arguments}())?Pe:function(e){return S(e)&&Se.call(e,"callee")&&!Ee.call(e,"callee")},Fe="object"==typeof exports&&exports&&!exports.nodeType&&exports,je=Fe&&e&&!e.nodeType&&e,Ce=je&&je.exports===Fe?h.Buffer:void 0,ke=(Ce?Ce.isBuffer:void 0)||function(){return!1},Ae={};Ae["[object Float32Array]"]=Ae["[object Float64Array]"]=Ae["[object Int8Array]"]=Ae["[object Int16Array]"]=Ae["[object Int32Array]"]=Ae["[object Uint8Array]"]=Ae["[object Uint8ClampedArray]"]=Ae["[object Uint16Array]"]=Ae["[object Uint32Array]"]=!0,Ae["[object Arguments]"]=Ae["[object Array]"]=Ae["[object ArrayBuffer]"]=Ae["[object Boolean]"]=Ae["[object DataView]"]=Ae["[object Date]"]=Ae["[object Error]"]=Ae["[object Function]"]=Ae["[object Map]"]=Ae["[object Number]"]=Ae["[object Object]"]=Ae["[object RegExp]"]=Ae["[object Set]"]=Ae["[object String]"]=Ae["[object WeakMap]"]=!1;var $e,Oe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Re=Oe&&e&&!e.nodeType&&e,De=Re&&Re.exports===Oe&&u.process,Ie=function(){try{return Re&&Re.require&&Re.require("util").types||De&&De.binding&&De.binding("util")}catch(e){}}(),Le=Ie&&Ie.isTypedArray,Te=Le?($e=Le,function(e){return $e(e)}):function(e){return S(e)&&ve(e.length)&&!!Ae[_(e)]},Ne=Object.prototype.hasOwnProperty;function qe(e,r){var t=F(e),a=!t&&xe(e),o=!t&&!a&&ke(e),i=!t&&!a&&!o&&Te(e),s=t||a||o||i,n=s?function(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}(e.length,String):[],l=n.length;for(var c in e)!r&&!Ne.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||le(c,l))||n.push(c);return n}function Be(e,r){return function(t){return e(r(t))}}var ze=Be(Object.keys,Object),Ve=Object.prototype.hasOwnProperty;function Me(e){return ge(e)?qe(e):function(e){if(!we(e))return ze(e);var r=[];for(var t in Object(e))Ve.call(e,t)&&"constructor"!=t&&r.push(t);return r}(e)}var Ue=Object.prototype.hasOwnProperty;function Qe(e){return ge(e)?qe(e,!0):function(e){if(!$(e))return function(e){var r=[];if(null!=e)for(var t in Object(e))r.push(t);return r}(e);var r=we(e),t=[];for(var a in e)("constructor"!=a||!r&&Ue.call(e,a))&&t.push(a);return t}(e)}var He,Ke=(He=function(e,r,t,a){!function(e,r,t,a){var o=!t;t||(t={});for(var i=-1,s=r.length;++i<s;){var n=r[i],l=a?a(t[n],e[n],n,t,e):void 0;void 0===l&&(l=e[n]),o?ce(t,n,l):he(t,n,l)}}(r,Qe(r),e,a)},fe((function(e,r){var t=-1,a=r.length,o=a>1?r[a-1]:void 0,i=a>2?r[2]:void 0;for(o=He.length>3&&"function"==typeof o?(a--,o):void 0,i&&ye(r[0],r[1],i)&&(o=a<3?void 0:o,a=1),e=Object(e);++t<a;){var s=r[t];s&&He(e,s,0,o)}return e}))),Ge=Ke;J(Object,"create");var Je=J(h,"Map");function We(e){return null==e?"":A(e)}var Ze=Be(Object.getPrototypeOf,Object),Xe="[object Object]",Ye=Function.prototype,er=Object.prototype,rr=Ye.toString,tr=er.hasOwnProperty,ar=rr.call(Object),or="[object DOMException]",ir="[object Error]";function sr(e){if(!S(e))return!1;var r=_(e);return r==ir||r==or||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!S(e)||_(e)!=Xe)return!1;var r=Ze(e);if(null===r)return!0;var t=tr.call(r,"constructor")&&r.constructor;return"function"==typeof t&&t instanceof t&&rr.call(t)==ar}(e)}var nr=fe((function(e,r){try{return Z(e,void 0,r)}catch(e){return sr(e)?e:new Error(e)}})),lr=nr;"object"==typeof exports&&exports&&!exports.nodeType&&exports&&e&&e.nodeType;var cr=J(h,"DataView"),ur=J(h,"Promise"),dr=J(h,"Set"),hr="[object Map]",pr="[object Promise]",fr="[object Set]",mr="[object WeakMap]",vr="[object DataView]",gr=V(cr),yr=V(Je),br=V(ur),wr=V(dr),Pr=V(W),_r=_;(cr&&_r(new cr(new ArrayBuffer(1)))!=vr||Je&&_r(new Je)!=hr||ur&&_r(ur.resolve())!=pr||dr&&_r(new dr)!=fr||W&&_r(new W)!=mr)&&(_r=function(e){var r=_(e),t="[object Object]"==r?e.constructor:void 0,a=t?V(t):"";if(a)switch(a){case gr:return vr;case yr:return hr;case br:return pr;case wr:return fr;case Pr:return mr}return r});var Sr,Er=(Sr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==Sr?void 0:Sr[e]}),xr=/[&<>"']/g,Fr=RegExp(xr.source),jr=Object.prototype,Cr=jr.hasOwnProperty;function kr(e,r,t,a){return void 0===e||ue(e,jr[t])&&!Cr.call(a,t)?r:e}var Ar={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function $r(e){return"\\"+Ar[e]}var Or=/<%=([\s\S]+?)%>/g,Rr={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Or,variable:"",imports:{_:{escape:function(e){return(e=We(e))&&Fr.test(e)?e.replace(xr,Er):e}}}},Dr="Invalid `variable` option passed into `_.template`",Ir=/\b__p \+= '';/g,Lr=/\b(__p \+=) '' \+/g,Tr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Nr=/[()=,{}\[\]\/\s]/,qr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Br=/($^)/,zr=/['\n\r\u2028\u2029\\]/g,Vr=Object.prototype.hasOwnProperty;function Mr(e,r){return function(e,r,t){var a=Rr.imports._.templateSettings||Rr;t&&ye(e,r,t)&&(r=void 0),e=We(e),r=Ge({},r,a,kr);var o,i,s=Ge({},r.imports,a.imports,kr),n=Me(s),l=function(e,r){return x(r,(function(r){return e[r]}))}(s,n),c=0,u=r.interpolate||Br,d="__p += '",h=RegExp((r.escape||Br).source+"|"+u.source+"|"+(u===Or?qr:Br).source+"|"+(r.evaluate||Br).source+"|$","g"),p=Vr.call(r,"sourceURL")?"//# sourceURL="+(r.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(h,(function(r,t,a,s,n,l){return a||(a=s),d+=e.slice(c,l).replace(zr,$r),t&&(o=!0,d+="' +\n__e("+t+") +\n'"),n&&(i=!0,d+="';\n"+n+";\n__p += '"),a&&(d+="' +\n((__t = ("+a+")) == null ? '' : __t) +\n'"),c=l+r.length,r})),d+="';\n";var f=Vr.call(r,"variable")&&r.variable;if(f){if(Nr.test(f))throw new Error(Dr)}else d="with (obj) {\n"+d+"\n}\n";d=(i?d.replace(Ir,""):d).replace(Lr,"$1").replace(Tr,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=lr((function(){return Function(n,p+"return "+d).apply(void 0,l)}));if(m.source=d,sr(m))throw m;return m}(e)(r)}function Ur(e,r){let t=l.English;const a=function(e){let r=e;if(void 0!==e&&e.includes("-")){const[t,a]=e.split("-");r=`${t}-${a.toUpperCase()}`}return r}(e);if(void 0!==a)if(r.includes(a))t=a;else{const e=function(e){const r=e?.match(/^([a-z]{2})-([A-Z]{2})$/u);let t=l.English;return null!=r&&r?.length>1?t=r[1]:2===e?.length&&e.toLowerCase()===e&&(t=e),t}(a);r.includes(e)&&(t=e)}return t}function Qr(e,r){return function r(t){let a;return a=void 0===t||t===document||t===window?null:t.closest(e)||r(t.getRootNode().host),a}(r)}function Hr(e=document.documentElement){const r=Qr("[lang]",e),t=r?.lang??window.navigator.language,a=Object.values(l),o=Object.values(c),i=Ur(t,a);let s=Ur(t,o);return s="ar"===s?"ar-u-nu-latn":s,{locale:i,rtl:"rtl"===Qr("[dir]",e)?.getAttribute("dir"),formatLocale:s}}function Kr(e){let r;return"unknown"===e?r="UTC":void 0!==e&&"system"!==e&&(r=e),r}async function Gr(e,r,t){let a=e.tagName.toLowerCase();t&&(a=a.replace("arcgis-",""));const{locale:o,rtl:i}=Hr(e),s=await async function(e){const{path:r,locale:t,baseURL:a}=e;let o={};try{const e=await fetch(`${a}assets/${r}/t9n/${r}.t9n.${t}.json`);o=await e.json()}catch(e){const t=await fetch(`${a}assets/${r}/t9n/${r}.t9n.${l.English}.json`);o=await t.json()}return o}({path:a,locale:o,baseURL:r});let n=e.getAttribute("dir");return"ltr"!==n&&"rtl"!==n&&(n=i?"rtl":"ltr"),{strings:s,direction:n}}async function Jr(e){const{element:r,baseURL:t,filePrefix:a}=e,{locale:o}=Hr(r);let i;try{const e=await fetch(`${t}/${a}.t9n.${o}.json`);i=await e.json()}catch(e){i="common"===a?{statistics:{mean:"Mean",median:"Median",sum:"Sum",discretePercentile:"Discrete percentile",minimum:"Minimum",maximum:"Maximum",firstQuartile:"First quartile",thirdQuartile:"Third quartile",iqr:"IQR",standardDeviation:"Standard deviation",variance:"Variance",count:"Count",aggregation:"${ statistics } of ${ fieldName }",percent:"Percent",noAggregation:"No aggregation",meanValue:"Mean value"},overlays:{mean:"Mean",median:"Median",stdDev:"Standard Deviation",normal:"Normal Distribution",trendline:"Trendline"},guideTooltipLabel:"From ${ guideStart } to ${ guideEnd }",pieChart:{defaultSliceGroupingLabel:"Other"},notAvailable:"Not Available",field:"Field"}:{errorHeading:"Error",tooManySelectedElements:{title:"Selection limit exceeded",message:"Selections are limited to 500 elements"},incompatibleChartVersion:{title:"Incompatible chart version",message:"Chart version ${ chartVersion } is not compatible with this application. Some features may not be available."},modalHeaders:{invalidData:"Invalid data",invalidChart:"Invalid chart",noDataAvailable:"No data available to display",tooManyFeatures:"Too many features",cannotCombineNegativeAndPositiveSlices:"Pie charts cannot combine slices with positive values to slices with negative values",error:"Error",warning:"Warning",newChart:"New chart"},errors:{divNode:"Creating a chart requires an HTML div node.",errorRequest:"Please fix the following errors: ",warningRequest:"Please address the following warnings: ",newChartRequest:"Configure chart.",invalidValueFormatForLineChart:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the line chart y-axis.",invalidValueFormatForBarChart:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the bar chart y-axis.",invalidValueFormatForComboBarLineChart:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the bar-line chart y-axis, and category and date types on the x-axis.",invalidValueFormatForBoxPlot:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the box plot y-axis, and category and date types on the x-axis.",invalidValueFormatForHistogram:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the histogram axes.",invalidValueFormatForScatterPlot:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the scatter plot axes.",invalidValueFormatForGauge:"The axis 'valueFormat' is invalid. Only numeric type is allowed on the gauge.",mismatchAxisAndValueFormat:"There's a mismatch between the axis type and the axis 'valueFormat'.",queryError:"Failure to read input data.",simpleError:"Something went wrong.",defaultInvalidChart:"There was an error creating the chart.",categoryCountCannotExceedLimit:"There are ${ categoryCount } categories on this chart. Charts are limited to ${ maxCategoryCount } categories. Choose a Category field with fewer unique values or apply a filter to your data.",uniqueSeriesBarCountCannotExceedLimit:"There are a total of ${ elementCount } bars in this chart. Bar charts with one series are limited to ${ totalLimit } bars. Choose a Category field with fewer unique values or apply a filter to your data.",twoSeriesBarCountCannotExceedLimit:"Bar charts with two series are limited to ${ totalLimit } bars, or ${ seriesLimit } bars per series. Choose a Category field with fewer unique values or apply a filter to your data.",threePlusSeriesBarCountCannotExceedLimit:"Bar charts with three or more series are limited to ${ totalLimit } bars, or ${ seriesLimit } bars per series. Choose a Category field with fewer unique values or apply a filter to your data.",barSeriesCountCannotExceedLimit:"Bar charts are limited to ${ seriesLimit } series. Choose a split-by field with fewer unique values",uniqueSeriesLineCountCannotExceedLimit:"There are a total of ${ elementCount } markers in this chart. Line charts with one series are limited to ${ totalLimit } markers. Choose a numeric field with fewer unique values or apply a filter to your data.",twoSeriesLineCountCannotExceedLimit:"Line charts with two series are limited to ${ totalLimit } markers, or ${ seriesLimit } markers per series. Choose a numeric field with fewer unique values or apply a filter to your data.",threePlusSeriesLineCountCannotExceedLimit:"Line charts with three or more series are limited to ${ totalLimit } markers, or ${ seriesLimit } markers per series. Choose a numeric field with fewer unique values or apply a filter to your data.",uniqueTemporalSeriesLineCountCannotExceedLimit:"There are a total of ${ elementCount } markers in this chart. Line charts with one series are limited to ${ totalLimit } markers. Choose a larger temporal bin size or apply a filter to your data.",twoTemporalSeriesLineCountCannotExceedLimit:"Line charts with two series are limited to ${ totalLimit } markers, or ${ seriesLimit } markers per series. Choose a larger temporal bin size or apply a filter to your data.",threePlusTemporalSeriesLineCountCannotExceedLimit:"Line charts with three or more series are limited to ${ totalLimit } markers, or ${ seriesLimit } markers per series. Choose a larger temporal bin size or apply a filter to your data.",lineSeriesCountCannotExceedLimit:"Line charts are limited to ${ seriesLimit } series. Choose a split-by field with fewer unique values",uniqueSeriesBoxCountCannotExceedLimit:"There are a total of ${ elementCount } boxes in this chart. Box plots with one series are limited to ${ totalLimit } boxes. Choose a Category field with fewer unique values or apply a filter to your data.",twoSeriesBoxCountCannotExceedLimit:"Box plots with two series are limited to ${ totalLimit } boxes, or ${ seriesLimit } boxes per series. Choose a Category field with fewer unique values or apply a filter to your data.",threePlusBoxLineCountCannotExceedLimit:"Box plots with three or more series are limited to ${ totalLimit } boxes, or ${ seriesLimit } boxes per series. Choose a Category field with fewer unique values or apply a filter to your data.",boxSeriesCountCannotExceedLimit:"Box plots are limited to ${ seriesLimit } series. Choose a split-by field with fewer unique values",boxSeriesOutlierCannotExceedLimit:"Box plots can only display up to ${ totalLimit } outlier points. Filter you data.",pieChartCannotHaveMixtureOfPositiveAndNegativeSlices:"Ensure the sum total of the chosen numeric field(s) returns all positive values or all negative values.",pieChartSlicesCannotExceedLimit:"There are a total of ${ sliceCount } slices in this chart. Pie charts are limited to ${ totalLimit } slices. Choose a Category field with fewer unique values, add fewer Numeric fields, or apply a filter to your data.",gaugeCannotExceedLimit:"Feature-based gauges are limited to ${ totalLimit } features. Filter your data.",negativeValueInDataForLogTransformation:"Cannot apply a log transformation to negative or zero values.",negativeValueInDataForSqrtTransformation:"Cannot apply a square root transformation to negative values.",logarithmicXAxisNotPossible:"Logarithmic value x-axis cannot have negative or zero values.",logarithmicYAxisNotPossible:"Logarithmic value y-axis cannot have negative or zero values.",histogramEmptyField:"Histograms require at least two numeric values.",noDataMessage:"No data is available to display due to empty data field(s) and/or combination of filters.",noDataFBSMessage:"Filter by selection is enabled. There are no selected features to display.",noDataFBEMessage:"Filter by extent is enabled. There are no features in the map extent to display."}}}return i}const Wr={maxRecordCountFactor:5,maxParallelRequests:4,maxRecords:2e3,orderByJSAPIDelimiter:" ",outStatistics:{statisticType:s.statisticType,onStatisticField:"OBJECTID",outStatisticFieldName:"arcgis_charts_outStatisticFieldName_default_key"},uniqueIdsName:"arcgisChartsUniqueIds"},Zr="arcgis_charts_box_plot_category";var Xr="undefined"!=typeof window&&"$arcgis"in window&&"object"==typeof window.$arcgis&&"import"in window.$arcgis&&!("forceESM"in window.$arcgis);function Yr(e){return void 0!==e.default}async function et(){if(Xr)return await window.$arcgis.import("esri/core/promiseUtils");const e=await Promise.resolve().then(t.bind(t,9316));return Yr(e)?e.default:e}async function rt(){if(Xr)return await window.$arcgis.import("esri/geometry/support/jsonUtils");const e=await Promise.resolve().then(t.bind(t,4016));return Yr(e)?e.default:e}function tt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var at={exports:{}};function ot(e,r,t,a){var o,i=null==(o=a)||"number"==typeof o||"boolean"==typeof o?a:t(a),s=r.get(i);return void 0===s&&(s=e.call(this,a),r.set(i,s)),s}function it(e,r,t){var a=Array.prototype.slice.call(arguments,3),o=t(a),i=r.get(o);return void 0===i&&(i=e.apply(this,a),r.set(o,i)),i}function st(e,r,t,a,o){return t.bind(r,e,a,o)}function nt(e,r){return st(e,this,1===e.length?ot:it,r.cache.create(),r.serializer)}function lt(){return JSON.stringify(arguments)}function ct(){this.cache=Object.create(null)}ct.prototype.has=function(e){return e in this.cache},ct.prototype.get=function(e){return this.cache[e]},ct.prototype.set=function(e,r){this.cache[e]=r};var ut={create:function(){return new ct}};at.exports=function(e,r){var t=r&&r.cache?r.cache:ut,a=r&&r.serializer?r.serializer:lt;return(r&&r.strategy?r.strategy:nt)(e,{cache:t,serializer:a})},at.exports.strategies={variadic:function(e,r){return st(e,this,it,r.cache.create(),r.serializer)},monadic:function(e,r){return st(e,this,ot,r.cache.create(),r.serializer)}};var dt=tt(at.exports);Function.prototype.toString.call(Object);var ht={exports:{}},pt={},ft={exports:{}},mt={};function vt(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var gt=/javascript\s*\:/gim;mt.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},mt.getDefaultWhiteList=vt,mt.onAttr=function(e,r,t){},mt.onIgnoreAttr=function(e,r,t){},mt.safeAttrValue=function(e,r){return gt.test(r)?"":r};var yt=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},bt=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")},wt=mt,Pt=function(e,r){";"!==(e=bt(e))[e.length-1]&&(e+=";");var t=e.length,a=!1,o=0,i=0,s="";function n(){if(!a){var t=yt(e.slice(o,i)),n=t.indexOf(":");if(-1!==n){var l=yt(t.slice(0,n)),c=yt(t.slice(n+1));if(l){var u=r(o,s.length,l,c,t);u&&(s+=u+"; ")}}}o=i+1}for(;i<t;i++){var l=e[i];if("/"===l&&"*"===e[i+1]){var c=e.indexOf("*/",i+2);if(-1===c)break;o=(i=c+1)+1,a=!1}else"("===l?a=!0:")"===l?a=!1:";"===l?a||n():"\n"===l&&n()}return yt(s)};function _t(e){return null==e}function St(e){(e=function(e){var r={};for(var t in e)r[t]=e[t];return r}(e||{})).whiteList=e.whiteList||wt.whiteList,e.onAttr=e.onAttr||wt.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||wt.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||wt.safeAttrValue,this.options=e}St.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var r=this.options,t=r.whiteList,a=r.onAttr,o=r.onIgnoreAttr,i=r.safeAttrValue;return Pt(e,(function(e,r,s,n,l){var c=t[s],u=!1;if(!0===c?u=c:"function"==typeof c?u=c(n):c instanceof RegExp&&(u=c.test(n)),!0!==u&&(u=!1),n=i(s,n)){var d,h={position:r,sourcePosition:e,source:l,isWhite:u};return u?_t(d=a(s,n,h))?s+":"+n:d:_t(d=o(s,n,h))?void 0:d}}))};var Et=St;!function(e,r){var t=mt,a=Et;for(var o in(r=e.exports=function(e,r){return new a(r).process(e)}).FilterCSS=a,t)r[o]=t[o]}(ft,ft.exports);var xt={indexOf:function(e,r){var t,a;if(Array.prototype.indexOf)return e.indexOf(r);for(t=0,a=e.length;t<a;t++)if(e[t]===r)return t;return-1},forEach:function(e,r,t){var a,o;if(Array.prototype.forEach)return e.forEach(r,t);for(a=0,o=e.length;a<o;a++)r.call(t,e[a],a,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var r=/\s|\n|\t/.exec(e);return r?r.index:-1}},Ft=ft.exports.FilterCSS,jt=ft.exports.getDefaultWhiteList,Ct=xt;var kt=new Ft;function At(e){return e.replace($t,"&lt;").replace(Ot,"&gt;")}var $t=/</g,Ot=/>/g,Rt=/"/g,Dt=/&quot;/g,It=/&#([a-zA-Z0-9]*);?/gim,Lt=/&colon;?/gim,Tt=/&newline;?/gim,Nt=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,qt=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Bt=/u\s*r\s*l\s*\(.*/gi;function zt(e){return e.replace(Rt,"&quot;")}function Vt(e){return e.replace(Dt,'"')}function Mt(e){return e.replace(It,(function(e,r){return"x"===r[0]||"X"===r[0]?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))}))}function Ut(e){return e.replace(Lt,":").replace(Tt," ")}function Qt(e){for(var r="",t=0,a=e.length;t<a;t++)r+=e.charCodeAt(t)<32?" ":e.charAt(t);return Ct.trim(r)}function Ht(e){return Qt(e=Ut(e=Mt(e=Vt(e))))}function Kt(e){return At(e=zt(e))}pt.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},pt.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},pt.onTag=function(e,r,t){},pt.onIgnoreTag=function(e,r,t){},pt.onTagAttr=function(e,r,t){},pt.onIgnoreTagAttr=function(e,r,t){},pt.safeAttrValue=function(e,r,t,a){if(t=Ht(t),"href"===r||"src"===r){if("#"===(t=Ct.trim(t)))return"#";if("http://"!==t.substr(0,7)&&"https://"!==t.substr(0,8)&&"mailto:"!==t.substr(0,7)&&"tel:"!==t.substr(0,4)&&"data:image/"!==t.substr(0,11)&&"ftp://"!==t.substr(0,6)&&"./"!==t.substr(0,2)&&"../"!==t.substr(0,3)&&"#"!==t[0]&&"/"!==t[0])return""}else if("background"===r){if(Nt.lastIndex=0,Nt.test(t))return""}else if("style"===r){if(qt.lastIndex=0,qt.test(t))return"";if(Bt.lastIndex=0,Bt.test(t)&&(Nt.lastIndex=0,Nt.test(t)))return"";!1!==a&&(t=(a=a||kt).process(t))}return Kt(t)},pt.escapeHtml=At,pt.escapeQuote=zt,pt.unescapeQuote=Vt,pt.escapeHtmlEntities=Mt,pt.escapeDangerHtml5Entities=Ut,pt.clearNonPrintableCharacter=Qt,pt.friendlyAttrValue=Ht,pt.escapeAttrValue=Kt,pt.onIgnoreTagStripAll=function(){return""},pt.StripTagBody=function(e,r){"function"!=typeof r&&(r=function(){});var t=!Array.isArray(e),a=[],o=!1;return{onIgnoreTag:function(i,s,n){if(function(r){return!!t||-1!==Ct.indexOf(e,r)}(i)){if(n.isClosing){var l=n.position+10;return a.push([!1!==o?o:n.position,l]),o=!1,"[/removed]"}return o||(o=n.position),"[removed]"}return r(i,s,n)},remove:function(e){var r="",t=0;return Ct.forEach(a,(function(a){r+=e.slice(t,a[0]),t=a[1]})),r+=e.slice(t)}}},pt.stripCommentTag=function(e){for(var r="",t=0;t<e.length;){var a=e.indexOf("\x3c!--",t);if(-1===a){r+=e.slice(t);break}r+=e.slice(t,a);var o=e.indexOf("--\x3e",a);if(-1===o)break;t=o+3}return r},pt.stripBlankChar=function(e){var r=e.split("");return(r=r.filter((function(e){var r=e.charCodeAt(0);return!(127===r||r<=31&&10!==r&&13!==r)}))).join("")},pt.cssFilter=kt,pt.getDefaultCSSWhiteList=jt;var Gt={},Jt=xt;function Wt(e){var r,t=Jt.spaceIndex(e);return r=-1===t?e.slice(1,-1):e.slice(1,t+1),"/"===(r=Jt.trim(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function Zt(e){return"</"===e.slice(0,2)}var Xt=/[^a-zA-Z0-9\\_:.-]/gim;function Yt(e,r){for(;r<e.length;r++){var t=e[r];if(" "!==t)return"="===t?r:-1}}function ea(e,r){for(;r<e.length;r++){var t=e[r];if(" "!==t)return"'"===t||'"'===t?r:-1}}function ra(e,r){for(;r>0;r--){var t=e[r];if(" "!==t)return"="===t?r:-1}}function ta(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}Gt.parseTag=function(e,r,t){var a="",o=0,i=!1,s=!1,n=0,l=e.length,c="",u="";e:for(n=0;n<l;n++){var d=e.charAt(n);if(!1===i){if("<"===d){i=n;continue}}else if(!1===s){if("<"===d){a+=t(e.slice(o,n)),i=n,o=n;continue}if(">"===d){a+=t(e.slice(o,i)),c=Wt(u=e.slice(i,n+1)),a+=r(i,a.length,c,u,Zt(u)),o=n+1,i=!1;continue}if('"'===d||"'"===d)for(var h=1,p=e.charAt(n-h);""===p.trim()||"="===p;){if("="===p){s=d;continue e}p=e.charAt(n-++h)}}else if(d===s){s=!1;continue}}return o<e.length&&(a+=t(e.substr(o))),a},Gt.parseAttr=function(e,r){var t=0,a=0,o=[],i=!1,s=e.length;function n(e,t){if(!((e=(e=Jt.trim(e)).replace(Xt,"").toLowerCase()).length<1)){var a=r(e,t||"");a&&o.push(a)}}for(var l=0;l<s;l++){var c,u=e.charAt(l);if(!1!==i||"="!==u)if(!1===i||l!==a){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(c=Yt(e,l))){n(Jt.trim(e.slice(t,l))),i=!1,t=l+1;continue}l=c-1;continue}if(-1===(c=ra(e,l-1))){n(i,ta(Jt.trim(e.slice(t,l)))),i=!1,t=l+1;continue}}}else{if(-1===(c=e.indexOf(u,l+1)))break;n(i,Jt.trim(e.slice(a+1,c))),i=!1,t=(l=c)+1}else i=e.slice(t,l),t=l+1,a='"'===e.charAt(t)||"'"===e.charAt(t)?t:ea(e,l+1)}return t<e.length&&(!1===i?n(e.slice(t)):n(i,ta(Jt.trim(e.slice(t))))),Jt.trim(o.join(" "))};var aa=ft.exports.FilterCSS,oa=pt,ia=Gt,sa=ia.parseTag,na=ia.parseAttr,la=xt;function ca(e){return null==e}function ua(e){(e=function(e){var r={};for(var t in e)r[t]=e[t];return r}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=oa.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var r={};for(var t in e)Array.isArray(e[t])?r[t.toLowerCase()]=e[t].map((function(e){return e.toLowerCase()})):r[t.toLowerCase()]=e[t];return r}(e.whiteList||e.allowList):e.whiteList=oa.whiteList,e.onTag=e.onTag||oa.onTag,e.onTagAttr=e.onTagAttr||oa.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||oa.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||oa.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||oa.safeAttrValue,e.escapeHtml=e.escapeHtml||oa.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new aa(e.css))}ua.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var r=this.options,t=r.whiteList,a=r.onTag,o=r.onIgnoreTag,i=r.onTagAttr,s=r.onIgnoreTagAttr,n=r.safeAttrValue,l=r.escapeHtml,c=this.cssFilter;r.stripBlankChar&&(e=oa.stripBlankChar(e)),r.allowCommentTag||(e=oa.stripCommentTag(e));var u=!1;r.stripIgnoreTagBody&&(u=oa.StripTagBody(r.stripIgnoreTagBody,o),o=u.onIgnoreTag);var d=sa(e,(function(e,r,u,d,h){var p={sourcePosition:e,position:r,isClosing:h,isWhite:Object.prototype.hasOwnProperty.call(t,u)},f=a(u,d,p);if(!ca(f))return f;if(p.isWhite){if(p.isClosing)return"</"+u+">";var m=function(e){var r=la.spaceIndex(e);if(-1===r)return{html:"",closing:"/"===e[e.length-2]};var t="/"===(e=la.trim(e.slice(r+1,-1)))[e.length-1];return t&&(e=la.trim(e.slice(0,-1))),{html:e,closing:t}}(d),v=t[u],g=na(m.html,(function(e,r){var t=-1!==la.indexOf(v,e),a=i(u,e,r,t);return ca(a)?t?(r=n(u,e,r,c))?e+'="'+r+'"':e:ca(a=s(u,e,r,t))?void 0:a:a}));return d="<"+u,g&&(d+=" "+g),m.closing&&(d+=" /"),d+">"}return ca(f=o(u,d,p))?l(d):f}),l);return u&&(d=u.remove(d)),d};var da=ua;!function(e,r){var t=pt,a=Gt,o=da;function i(e,r){return new o(r).process(e)}(r=e.exports=i).filterXSS=i,r.FilterXSS=o,function(){for(var e in t)r[e]=t[e];for(var o in a)r[o]=a[o]}(),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(ht,ht.exports);const ha={NonSpecific:"nonSpecific",BarAndLineNoAggregation:"barAndLineNoAggregation",BarAndLineMonoField:"barAndLineMonoField",BarAndLineMultiFields:"barAndLineMultiFields",BarAndLineFromFields:"barAndLineFromFields",BarAndLineSplitBy:"barAndLineSplitBy",BarAndLineSplitByNoAggregation:"barAndLineSplitByNoAggregation",PieNoAggregation:"pieNoAggregation",PieFromCategory:"pieFromCategory",PieFromFields:"pieFromFields",BoxPlotMonoField:"boxPlotMonoField",BoxPlotMultiFields:"boxPlotMultiFields",BoxPlotMonoFieldAndCategory:"boxPlotMonoFieldAndCategory",BoxPlotMultiFieldsAndCategory:"boxPlotMultiFieldsAndCategory",BoxPlotMonoFieldAndSplitBy:"boxPlotMonoFieldAndSplitBy",BoxPlotMultiFieldsAndSplitBy:"boxPlotMultiFieldsAndSplitBy",BoxPlotMonoFieldAndCategoryAndSplitBy:"boxPlotMonoFieldAndCategoryAndSplitBy"};function pa(e){return e?.colorMatch??!1}function fa(e,r){let t;if(void 0!==e&&e.length>0)if(void 0!==r&&r>=0&&r<e.length)t=e[r].type;else{const r=new Set(e.map((e=>e.type))),a=function(e){return 2===e.size&&e.has(i.LineSeries)&&e.has(i.BarSeries)}(r),o=function(e){return 2===e.size&&e.has(i.LineSeries)&&e.has(i.BoxPlotSeries)||1===e.size&&e.has(i.BoxPlotSeries)}(r);t=!0===a?i.ComboLineAndBarSeries:o?i.BoxPlotSeries:r.size>=2?void 0:e[0].type}return t}function ma(e){const{value:r,keepSurroundingQuotes:t,escape:a}=e;let o=r?.trim();if(!va(o)){let e="";o.startsWith("'")&&o.endsWith("'")&&(o=o.slice(1,-1),t&&(e="'")),!1!==a&&(o=function(e){let r=e;return r=r.replace(/'/gu,"''"),r=r.replace(/[/\\"|[\]\\]/gu,"\\$&"),r}(o)),o=`${e}${o}${e}`}return o}function va(e){return null==e||"string"==typeof e&&""===e.trim()}function ga(e,r){let t;return void 0!==r&&(t={...r,rotated:e}),t}function ya(e){const r=Fa(e)?.sourceJSON;let t=r?.maxRecordCount??Wr.maxRecords;return r?.advancedQueryCapabilities?.supportsMaxRecordCountFactor&&void 0!==r?.maxRecordCount&&(t=r.maxRecordCount*Wr.maxRecordCountFactor),t}function ba(e,r){let t;const a=Array.from(new Set(e)).filter((e=>null!=e&&""!==e&&!Aa(e)));return a.sort(((e,r)=>r.length-e.length)),1===a.length?[t]=a:a?.forEach((e=>{void 0!==e&&(va(t)?t=`(${e})`:t?.includes(`(${e})`)||(t=`${t} ${r??"AND"} (${e})`))})),t??"1=1"}async function wa(e){let r;return void 0!==e&&(r=await async function(e){return new(await async function(){if(Xr)return await window.$arcgis.import("esri/time/TimeExtent");const e=await Promise.resolve().then(t.bind(t,9123));return Yr(e)?e.default:e}())(e)}({start:new Date(e[0]),end:new Date(e[1])})),r}async function Pa(e){const{queryObject:r,queryConfig:a,maxRecordCountFactor:i}=e,{where:s,groupByFieldsForStatistics:n,orderByFields:l,outStatistics:c,gdbVersion:u,geometry:d,distance:h,units:p,timeExtent:f,start:m,num:v,returnDistinctValues:g,outFields:y}=a??{},b=await async function(e){return new(await async function(){if(Xr)return await window.$arcgis.import("esri/rest/support/Query");const e=await Promise.resolve().then(t.bind(t,4031));return Yr(e)?e.default:e}())(e)}({});b.returnGeometry=!1;const w=Ea(r),P=Fa(w),_=[s,P.definitionExpression];if(b.where=ba(_),b.outFields=function(e){return void 0===e?["*"]:Array.from(new Set(e))}(y),b.groupByFieldsForStatistics=n??b.groupByFieldsForStatistics,b.orderByFields=l??[],b.returnDistinctValues=g??!1,void 0!==c){const e=function(e){let r=!1;const t=Fa(e).sourceJSON?.advancedQueryCapabilities?.supportedSpatialAggregationStatistics??[],a=e.capabilities?.query.supportedSpatialAggregationStatistics??[];return r=t.includes("EnvelopeAggregate")||void 0!==a.envelope&&a.envelope,r}(w),r=await async function(){if(Xr)return await window.$arcgis.import("esri/rest/support/StatisticDefinition");const e=await Promise.resolve().then(t.bind(t,8174));return Yr(e)?e.default:e}();b.outStatistics=c.filter((r=>r.statisticType!==o.EnvelopeAggregate||e)).map((e=>r.fromJSON(e)))}void 0!==i&&(b.maxRecordCountFactor=i),void 0!==u&&""!==u?b.gdbVersion=u:void 0!==P.gdbVersion&&""!==P.gdbVersion&&(b.gdbVersion=P.gdbVersion);const S=await async function(e){let r;return void 0!==e&&(r=(await rt()).fromJSON(e)),r}(d);void 0!==S&&(b.geometry=S,function(e){return e.capabilities?.query?.supportsDistance||!0===Fa(e).sourceJSON?.advancedQueryCapabilities?.supportsQueryWithDistance}(w)&&(void 0!==h&&(b.distance=h),void 0!==p&&(b.units=p)));const E=await wa(f);return void 0!==E?b.timeExtent=E:void 0!==P.timeExtent&&(b.timeExtent=P.timeExtent),void 0!==v&&(b.num=v),void 0!==m&&(b.start=m,b.num=b.num??ya(w)),function(e){const r=!e.geometry,t=(e.where??"").toUpperCase(),a=!t.includes("CURRENT_TIMESTAMP")&&!t.includes("CURRENT_DATE")&&!t.includes("CURRENT_TIME");return r&&a}(b)&&(b.cacheHint=!0),b}const _a=dt((async e=>{const r=e.featureCollection;let a,o;if(void 0!==r?.layers?.[0]){const e=r.layers[0];a=e.featureSet,o=e.layerDefinition}else o=e.layerDefinition;const i={};if(void 0!==a){const e=await async function(){if(Xr)return await window.$arcgis.import("esri/rest/support/FeatureSet");const e=await Promise.resolve().then(t.bind(t,5933));return Yr(e)?e.default:e}();if(i.source=e.fromJSON(a).features,void 0!==o?.fields){const e=await async function(){if(Xr)return await window.$arcgis.import("esri/layers/support/Field");const e=await Promise.resolve().then(t.bind(t,8927));return Yr(e)?e.default:e}();i.fields=o.fields.map((r=>e.fromJSON(r)))}void 0!==o?.objectIdField&&(i.objectIdField=o.objectIdField);const r=await rt();if(void 0!==o?.geometryType){const e=r.fromJSON({geometryType:o.geometryType});void 0!==e?.type&&"extent"!==e?.type&&(i.geometryType=e.type)}void 0!==o?.spatialReference&&(i.spatialReference=o.spatialReference)}else i.id=e.id,void 0!==o?.id&&(i.layerId=o.id),void 0!==e.url&&(i.url=e.url),void 0!==e.itemId&&void 0!==o?.id&&(i.portalItem={id:e.itemId});if(void 0!==o){const e=o.drawingInfo;if(void 0!==e?.renderer){const r=await async function(){if(Xr)return await window.$arcgis.import("esri/renderers/support/jsonUtils");const e=await Promise.resolve().then(t.bind(t,5698));return Yr(e)?e.default:e}();i.renderer=r.fromJSON(e.renderer)}}return await async function(e){return new(await async function(){if(Xr)return await window.$arcgis.import("esri/layers/FeatureLayer");const e=await Promise.resolve().then(t.bind(t,6550));return Yr(e)?e.default:e}())(e)}(i)}));function Sa(e){return void 0!==e&&"layer"in e}function Ea(e){let r;return r=Sa(e)?e.layer:e,r}async function xa(e){const{layer:r,view:t,chartConfig:a}=e;let o;if(void 0!==r){const e=Fa(Ea(r));if(void 0===t||e.isTable)o=r;else{e.outFields=["*"];const r=e=>"highlight"in e,a=await t.whenLayerView(e);r(a)&&(o=a)}}else"iLayer"in a&&a.iLayer&&(o=await _a(a.iLayer));return o}function Fa(e){return function(e){return void 0!==e&&"type"in e&&"subtype-sublayer"===e.type}(e)?e.parent:e}function ja(e){return[a.Single,a.Double,a.SmallInteger,a.Integer].includes(e.type)}function Ca(e,r){let t="";return void 0!==e&&e.includes("=")&&(t=!1!==r?ma({value:e.split("=")[0]}):e.split("=")[0].trim()),t}function ka(e){const{where:r,normalize:t,keepSurroundingQuotes:a,escape:o}=e;let i="";return void 0!==r&&r.includes("=")&&(i=r.split("=").slice(1).join("=").trim(),"null"===i?i=null:""===i.trim()||Number.isNaN(Number(i))?!1===t?!0===o&&(i=function(e){let r=e,t="";e.startsWith("'")&&e.endsWith("'")&&(r=e.slice(1,-1),t="'"),r=r.replace(/'/gu,"''");let a="";return function(e){let r=!1;return"number"!=typeof e&&(r=[...e].some((e=>e.charCodeAt(0)>255))),r}(r)&&(a="N"),`${a}${t}${r}${t}`}(i)):i=ma({value:i,keepSurroundingQuotes:a,escape:o}):i=Number(i)),i}function Aa(e){let r=!1;return void 0===e||""===e?r=!0:e.includes("=")&&(r=Ca(e,!1)===`${ka({where:e,normalize:!1})}`),r}function $a(e){let r=ha.NonSpecific;if(void 0!==e?.[0])switch(fa(e)){case i.PieSeries:r=function(e){let r=ha.PieFromCategory;return void 0===e[0].query?.outStatistics?r=ha.PieNoAggregation:void 0===e[0].query?.groupByFieldsForStatistics&&(r=ha.PieFromFields),r}(e);break;case i.RadarSeries:case i.BarSeries:case i.LineSeries:case i.ComboLineAndBarSeries:r=function(e){let r=ha.BarAndLineMonoField;const t=e[0].query?.where;return void 0===e[0].query?.groupByFieldsForStatistics&&(e[0].query?.outStatistics??[]).length>0?r=ha.BarAndLineFromFields:void 0===t&&void 0===e[0].query?.outStatistics?r=ha.BarAndLineNoAggregation:Aa(t)?e.length>1&&(r=ha.BarAndLineMultiFields):r=void 0===e[0].query?.outStatistics?ha.BarAndLineSplitByNoAggregation:ha.BarAndLineSplitBy,r}(e);break;case i.BoxPlotSeries:r=function(e){let r=ha.BoxPlotMonoField;const t=1===e.length,a=e.find((e=>e.type===i.LineSeries))??e[0],{x:o}=a,s="y"in a?a.y:"",n=a.query?.where;return o===Zr?"object"==typeof s&&s.length>1?Aa(n)?t&&(r=ha.BoxPlotMultiFields):r=ha.BoxPlotMultiFieldsAndSplitBy:t?r=ha.BoxPlotMonoField:Aa(n)||(r=ha.BoxPlotMonoFieldAndSplitBy):r=t?ha.BoxPlotMonoFieldAndCategory:Aa(n)?ha.BoxPlotMultiFieldsAndCategory:ha.BoxPlotMonoFieldAndCategoryAndSplitBy,r}(e)}return r}function Oa(e){const{queryObject:r,chartConfig:t,runtimeDataFilters:a,ignoreViewExtent:i}=e,{series:s,dataFilters:n}=t,{where:l,gdbVersion:c,timeExtent:u,geometry:d,distance:h,units:p}=n??{},{where:f,gdbVersion:m,timeExtent:v,geometry:g,distance:y,units:b}=a??{},w=s[0],{query:P}=w,{where:_}=P??{},S=$a(s),E={...P};return E.where=ba([l,f]),S!==ha.BarAndLineSplitBy&&S!==ha.BoxPlotMonoFieldAndSplitBy&&S!==ha.BoxPlotMonoFieldAndCategoryAndSplitBy&&S!==ha.BoxPlotMultiFieldsAndSplitBy&&S!==ha.BarAndLineSplitByNoAggregation&&(E.where=ba([E.where,_])),void 0!==t.orderOptions?.orderByFields&&(E.orderByFields=t.orderOptions.orderByFields),E.gdbVersion=m??c,E.timeExtent=function(e,r){let t=r;if(void 0!==e){const r=Fa(Ea(e)).timeExtent;null!=r&&(t=[r.start.valueOf(),r.end.valueOf()])}return t}(r,v??u),E.geometry=function(e){const{queryObject:r,defaultGeometry:t,ignoreViewExtent:a}=e;let o=t;if(!a&&Sa(r)){const e=r.view.extent,{xmin:t,xmax:a,ymin:i,ymax:s,zmin:n,zmax:l,spatialReference:c}=e;o={xmin:t,ymin:i,zmin:n,xmax:a,ymax:s,zmax:l,spatialReference:c}}return o}({queryObject:r,defaultGeometry:g??d,ignoreViewExtent:i}),E.distance=y??h,E.units=b??p,P?.outStatistics?.[0]?.statisticType===o.Count&&(E.returnDistinctValues=P?.returnDistinctValues??!1),E}const Ra=new Map,Da={Default:"defaultError",LayerLoadFailure:"layerLoadFailure",QueryFeaturesError:"queryFeaturesError",ChartDisposed:"ChartDisposeError"};class Ia extends Error{constructor(e,r,t){super(r),this.name=e,this.details=t}}async function La(e=Hr().locale){let r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_en-0d4aee4a-712db04a_js").then(t.bind(t,1226));switch(e){case l.Arabic:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_ar-0213ec3f-a09169f2_js").then(t.bind(t,8072));break;case l.Bosnian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_bs-8b512053-32e8cb64_js").then(t.bind(t,7618));break;case l.Bulgarian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_bg-23efbd89-e33af069_js").then(t.bind(t,6651));break;case l.Catalan:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_ca-db180ea1-da6411a0_js").then(t.bind(t,300));break;case l.Czech:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_cs-105948e7-20bbf80d_js").then(t.bind(t,9427));break;case l.Danish:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_da-4412c16d-9a912e24_js").then(t.bind(t,915));break;case l.German:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_de-d07a5b5e-b417e9e4_js").then(t.bind(t,6669));break;case l.Greek:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_el-c9207675-e9f2763e_js").then(t.bind(t,2795));break;case l.EnglishUSA:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_en-US-82e2a9c6-643430bd_js").then(t.bind(t,9962));break;case l.Spanish:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_es-5078b06f-97c8d4f1_js").then(t.bind(t,3606));break;case l.Estonian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_et-1a8b328a-d755ae21_js").then(t.bind(t,1839));break;case l.Finnish:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_fi-0826f959-4b95d332_js").then(t.bind(t,1392));break;case l.French:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_fr-ec692558-94f9f803_js").then(t.bind(t,5692));break;case l.Hebrew:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_he-7950cba0-ffa02143_js").then(t.bind(t,3701));break;case l.Croatian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_hr-544baf0c-bfbc01c8_js").then(t.bind(t,2266));break;case l.Hungarian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_hu-40e92ed7-acb43413_js").then(t.bind(t,8884));break;case l.Indonesian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_id-a5bc1429-b3089dd4_js").then(t.bind(t,5964));break;case l.Italian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_it-cde6174a-7d6ad7ee_js").then(t.bind(t,8985));break;case l.Japanese:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_ja-1d42dfcd-958a9f6e_js").then(t.bind(t,4860));break;case l.Korean:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_ko-ece64dad-63f8bdef_js").then(t.bind(t,6376));break;case l.Lithuanian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_lt-63e1dc12-1c4febd5_js").then(t.bind(t,6007));break;case l.Latvian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_lv-df11315d-fe580c77_js").then(t.bind(t,3466));break;case l.NorwegianBokml:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_nb-83d135ad-5cbce945_js").then(t.bind(t,147));break;case l.Dutch:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_nl-5ff392d7-340c024f_js").then(t.bind(t,2334));break;case l.Polish:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_pl-c3f8bf52-f26f76e9_js").then(t.bind(t,9878));break;case l.PortugueseBrazil:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_pt-BR-61e39f00-7afb7e3a_js").then(t.bind(t,2975));break;case l.PortuguesePortugal:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_pt-PT-73f24b1f-760ffd5a_js").then(t.bind(t,5443));break;case l.Romanian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_ro-ccdd46b5-530ac5c2_js").then(t.bind(t,9202));break;case l.Russian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_ru-b4412898-f39ac83e_js").then(t.bind(t,293));break;case l.Serbian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_sr-9515b263-f85e9dc8_js").then(t.bind(t,5770));break;case l.Slovak:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_sk-b9987a2e-b4673e49_js").then(t.bind(t,7739));break;case l.Slovenian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_sl-896f0a80-4e953ce8_js").then(t.bind(t,9753));break;case l.Swedish:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_sv-af93438c-98bccfef_js").then(t.bind(t,7432));break;case l.Thai:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_th-2b4710ce-5485d6b5_js").then(t.bind(t,7221));break;case l.Turkish:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_tr-01b78ee4-a61b9cdd_js").then(t.bind(t,1364));break;case l.Ukrainian:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_uk-b25edecd-c3fbb970_js").then(t.bind(t,2338));break;case l.Vietnamese:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_vi-1a6ce09c-2a623a50_js").then(t.bind(t,7869));break;case l.ChineseChina:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_zh-CN-e8b0b9ca-96d5595f_js").then(t.bind(t,1945));break;case l.ChineseHongKong:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_zh-HK-a629ef2a-d1a5207b_js").then(t.bind(t,2492));break;case l.ChineseTaiwan:r=await t.e("node_modules_arcgis_charts-components_dist_esm_errors_t9n_zh-TW-5ca21d6c-41de8d20_js").then(t.bind(t,7115))}return r}async function Ta(e){const{queryObject:r,queryConfig:t,returnUniqueIdsOnly:a,abortKey:o}=e;let i=[];const s=Ea(r);if(void 0!==r){const n=function(e){return!0===Fa(e)?.sourceJSON?.advancedQueryCapabilities?.supportsMaxRecordCountFactor?Wr.maxRecordCountFactor:void 0}(s),l=await Pa({queryObject:r,queryConfig:t,maxRecordCountFactor:n});try{!0===a?"queryObjectIds"in r?i=await r.queryObjectIds(l):(l.outFields=[s.objectIdField],i=(await r.queryFeatures(l,{signal:void 0!==o?Ra.get(o)?.signal:void 0})).features.map((e=>e.attributes[s.objectIdField]))):i=(await r.queryFeatures(l,{signal:void 0!==o?Ra.get(o)?.signal:void 0})).features}catch(e){if(!(await et()).isAbortError(e)){const r=await La();throw new Ia(Da.QueryFeaturesError,r.queryError,e)}}}return i}async function Na(e){const r=[],{featureCount:t,maxRecords:a,queryConfig:o}=e;let i=[],s=0,n=o?.start??0;for(;s<Wr.maxParallelRequests&&n<t;){const i={...e};i.queryConfig={...o,start:n,num:Math.min(a,t-n)},r.push(Ta(i)),n+=a,s+=1}return i=(await Promise.all(r)).flat(),i}async function qa(e){const{queryObject:r,queryConfig:t,returnUniqueIdsOnly:a,featureCount:i,noBatch:s,abortKey:n}=e;let l=[];const c=Ea(r);if(void 0!==r){const e=c.objectIdField;let u;if(null==i){const a=`${o.Count}_OBJECTID`;u=(await async function(e){const{queryObject:r,queryConfig:t,abortKey:a}=e,{outStatistics:o}=t,i=new Map;if(void 0!==r&&void 0!==o&&o.length>0){const s=o.map((e=>{const{statisticType:r,onStatisticField:t,outStatisticFieldName:a}=e;return{statisticType:r,onStatisticField:t,outStatisticFieldName:a?.toUpperCase()}}));t.outStatistics=s,delete t.num,delete t.orderByFields;const n=await Pa({queryObject:r,queryConfig:t});let l;try{l=await r.queryFeatures(n,{signal:void 0!==a?Ra.get(a)?.signal:void 0})}catch(e){if(!(await et()).isAbortError(e)){const r=await La();throw new Ia(Da.QueryFeaturesError,r.queryError,e)}}const c=l?.features?.[0]?.attributes;void 0!==c&&o.forEach((e=>{const{outStatisticFieldName:r}=e;if(void 0!==r){const e=c[r.toLowerCase()]??c[r.toUpperCase()]??c[r];void 0!==e&&i.set(r,e)}}))}return i}({queryObject:r,queryConfig:{...t,outStatistics:[{statisticType:o.Count,onStatisticField:e,outStatisticFieldName:a}]},abortKey:n})).get(a)??Number.NaN}else u=i;const d=ya(c);if(!0!==s&&u>d&&c.capabilities.query.supportsPagination){let e=0,o=0;const i=Math.ceil(u/d),s=Math.ceil(i/Wr.maxParallelRequests),c=[];for(;o<s;){e=o*Wr.maxParallelRequests*d;const i=Na({queryConfig:{...t,start:e},queryObject:r,maxRecords:d,featureCount:u,returnUniqueIdsOnly:a,abortKey:n});c.push(i),o+=1}l=(await Promise.all(c)).flat()}else(Number.isNaN(u)||u>=0)&&(l=await Ta({queryObject:r,queryConfig:t,returnUniqueIdsOnly:a,abortKey:n}))}return l}async function Ba(e){const{queryObject:r,queryConfig:t,category:a,splitByField:i,chartLimits:s,abortKey:n}=e,l=void 0!==i,c=a!==Zr?[a]:[];l&&c.push(i);const u=Ea(r),d={...t,groupByFieldsForStatistics:Array.from(new Set(c)),outStatistics:[{statisticType:o.Count,onStatisticField:u.objectIdField,outStatisticFieldName:`${o.Count}_OBJECTID`}],orderByFields:void 0,num:s?.maxBarThreePlusSeriesCountTotal},h=await qa({queryObject:r,featureCount:1,queryConfig:d,abortKey:n});return Array.from(new Set(h.map((e=>e.attributes[l?i:a])))).sort(((e,r)=>"string"==typeof e&&"string"==typeof r?e.localeCompare(r):Number(e)-Number(r)))}const za=["1.0.0","1.0.1","2.0.0","3.0.0","3.1.0","3.2.0","3.3.0","3.4.0","3.5.0","3.6.0","3.7.0","3.8.0","3.9.0","3.9.1","3.9.2","3.10.0","3.11.0","4.0.0","4.0.1","5.0.0","6.0.0","6.1.0","6.2.0","6.2.1","6.3.0","6.4.0","7.0.0","7.1.0","7.1.1","7.2.0","7.2.1","7.3.1","7.4.0","7.4.1","7.5.0","7.5.1","7.6.0","8.0.0","8.0.1","9.0.0","9.1.0","9.2.0","9.3.0","9.4.0","9.5.0","9.6.0","9.6.1","9.7.0","10.0.0","11.0.0","12.0.0","13.0.0","14.0.0","14.0.1","15.0.0","16.0.0","16.1.0","16.1.1","17.0.0","17.1.0","17.2.0"],Va="1.0.0",Ma="unrecognized.version";var Ua={};!function(e){function r(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length>1){r[0]=r[0].slice(0,-1);for(var a=r.length-1,o=1;o<a;++o)r[o]=r[o].slice(1,-1);return r[a]=r[a].slice(1),r.join("")}return r[0]}function t(e){return"(?:"+e+")"}function a(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function i(e){var a="[A-Za-z]",o="[0-9]",i=r(o,"[A-Fa-f]"),s=t(t("%[EFef]"+i+"%"+i+i+"%"+i+i)+"|"+t("%[89A-Fa-f]"+i+"%"+i+i)+"|"+t("%"+i+i)),n="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=r("[\\:\\/\\?\\#\\[\\]\\@]",n),c=e?"[\\uE000-\\uF8FF]":"[]",u=r(a,o,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");t(a+r(a,o,"[\\+\\-\\.]")+"*"),t(t(s+"|"+r(u,n,"[\\:]"))+"*");var d=t(t("25[0-5]")+"|"+t("2[0-4]"+o)+"|"+t("1"+o+o)+"|"+t("0?[1-9]"+o)+"|0?0?"+o),h=t(d+"\\."+d+"\\."+d+"\\."+d),p=t(i+"{1,4}"),f=t(t(p+"\\:"+p)+"|"+h),m=t(t(p+"\\:")+"{6}"+f),v=t("\\:\\:"+t(p+"\\:")+"{5}"+f),g=t(t(p)+"?\\:\\:"+t(p+"\\:")+"{4}"+f),y=t(t(t(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+t(p+"\\:")+"{3}"+f),b=t(t(t(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+t(p+"\\:")+"{2}"+f),w=t(t(t(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+f),P=t(t(t(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+f),_=t(t(t(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),S=t(t(t(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),E=t([m,v,g,y,b,w,P,_,S].join("|")),x=t(t(u+"|"+s)+"+");t("[vV]"+i+"+\\."+r(u,n,"[\\:]")+"+"),t(t(s+"|"+r(u,n))+"*");var F=t(s+"|"+r(u,n,"[\\:\\@]"));return t(t(s+"|"+r(u,n,"[\\@]"))+"+"),t(t(F+"|"+r("[\\/\\?]",c))+"*"),{NOT_SCHEME:new RegExp(r("[^]",a,o,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",u,n),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",u,n),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",u,n),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",u,n),"g"),NOT_QUERY:new RegExp(r("[^\\%]",u,n,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",u,n,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",u,n),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",u,l),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+E+")"+t(t("\\%25|\\%(?!"+i+"{2})")+"("+x+")")+"?\\]?$")}}var s=i(!1),n=i(!0),l=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],a=!0,o=!1,i=void 0;try{for(var s,n=e[Symbol.iterator]();!(a=(s=n.next()).done)&&(t.push(s.value),!r||t.length!==r);a=!0);}catch(e){o=!0,i=e}finally{try{!a&&n.return&&n.return()}finally{if(o)throw i}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,u=36,d=/^xn--/,h=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,v=String.fromCharCode;function g(e){throw new RangeError(f[e])}function y(e,r){var t=e.split("@"),a="";return t.length>1&&(a=t[0]+"@",e=t[1]),a+function(e,r){for(var t=[],a=e.length;a--;)t[a]=r(e[a]);return t}((e=e.replace(p,".")).split("."),r).join(".")}function b(e){for(var r=[],t=0,a=e.length;t<a;){var o=e.charCodeAt(t++);if(o>=55296&&o<=56319&&t<a){var i=e.charCodeAt(t++);56320==(64512&i)?r.push(((1023&o)<<10)+(1023&i)+65536):(r.push(o),t--)}else r.push(o)}return r}var w=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:u},P=function(e,r){return e+22+75*(e<26)-((0!=r)<<5)},_=function(e,r,t){var a=0;for(e=t?m(e/700):e>>1,e+=m(e/r);e>455;a+=u)e=m(e/35);return m(a+36*e/(e+38))},S=function(e){var r=[],t=e.length,a=0,o=128,i=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var n=0;n<s;++n)e.charCodeAt(n)>=128&&g("not-basic"),r.push(e.charCodeAt(n));for(var l=s>0?s+1:0;l<t;){for(var d=a,h=1,p=u;;p+=u){l>=t&&g("invalid-input");var f=w(e.charCodeAt(l++));(f>=u||f>m((c-a)/h))&&g("overflow"),a+=f*h;var v=p<=i?1:p>=i+26?26:p-i;if(f<v)break;var y=u-v;h>m(c/y)&&g("overflow"),h*=y}var b=r.length+1;i=_(a-d,b,0==d),m(a/b)>c-o&&g("overflow"),o+=m(a/b),a%=b,r.splice(a++,0,o)}return String.fromCodePoint.apply(String,r)},E=function(e){var r=[],t=(e=b(e)).length,a=128,o=0,i=72,s=!0,n=!1,l=void 0;try{for(var d,h=e[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;p<128&&r.push(v(p))}}catch(e){n=!0,l=e}finally{try{!s&&h.return&&h.return()}finally{if(n)throw l}}var f=r.length,y=f;for(f&&r.push("-");y<t;){var w=c,S=!0,E=!1,x=void 0;try{for(var F,j=e[Symbol.iterator]();!(S=(F=j.next()).done);S=!0){var C=F.value;C>=a&&C<w&&(w=C)}}catch(e){E=!0,x=e}finally{try{!S&&j.return&&j.return()}finally{if(E)throw x}}var k=y+1;w-a>m((c-o)/k)&&g("overflow"),o+=(w-a)*k,a=w;var A=!0,$=!1,O=void 0;try{for(var R,D=e[Symbol.iterator]();!(A=(R=D.next()).done);A=!0){var I=R.value;if(I<a&&++o>c&&g("overflow"),I==a){for(var L=o,T=u;;T+=u){var N=T<=i?1:T>=i+26?26:T-i;if(L<N)break;var q=L-N,B=u-N;r.push(v(P(N+q%B,0))),L=m(q/B)}r.push(v(P(L,0))),i=_(o,k,y==f),o=0,++y}}}catch(e){$=!0,O=e}finally{try{!A&&D.return&&D.return()}finally{if($)throw O}}++o,++a}return r.join("")},x={version:"2.1.0",ucs2:{decode:b,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}(e))}},decode:S,encode:E,toASCII:function(e){return y(e,(function(e){return h.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return y(e,(function(e){return d.test(e)?S(e.slice(4).toLowerCase()):e}))}},F={};function j(e){var r=e.charCodeAt(0);return r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()}function C(e){for(var r="",t=0,a=e.length;t<a;){var o=parseInt(e.substr(t+1,2),16);if(o<128)r+=String.fromCharCode(o),t+=3;else if(o>=194&&o<224){if(a-t>=6){var i=parseInt(e.substr(t+4,2),16);r+=String.fromCharCode((31&o)<<6|63&i)}else r+=e.substr(t,6);t+=6}else if(o>=224){if(a-t>=9){var s=parseInt(e.substr(t+4,2),16),n=parseInt(e.substr(t+7,2),16);r+=String.fromCharCode((15&o)<<12|(63&s)<<6|63&n)}else r+=e.substr(t,9);t+=9}else r+=e.substr(t,3),t+=3}return r}function k(e,r){function t(e){var t=C(e);return t.match(r.UNRESERVED)?t:e}return e.scheme&&(e.scheme=String(e.scheme).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(r.PCT_ENCODED,t).replace(r.NOT_USERINFO,j).replace(r.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_HOST,j).replace(r.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(r.PCT_ENCODED,t).replace(e.scheme?r.NOT_PATH:r.NOT_PATH_NOSCHEME,j).replace(r.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(r.PCT_ENCODED,t).replace(r.NOT_QUERY,j).replace(r.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(r.PCT_ENCODED,t).replace(r.NOT_FRAGMENT,j).replace(r.PCT_ENCODED,o)),e}function A(e){return e.replace(/^0*(.*)/,"$1")||"0"}function $(e,r){var t=e.match(r.IPV4ADDRESS)||[],a=l(t,2)[1];return a?a.split(".").map(A).join("."):e}function O(e,r){var t=e.match(r.IPV6ADDRESS)||[],a=l(t,3),o=a[1],i=a[2];if(o){for(var s=o.toLowerCase().split("::").reverse(),n=l(s,2),c=n[0],u=n[1],d=u?u.split(":").map(A):[],h=c.split(":").map(A),p=r.IPV4ADDRESS.test(h[h.length-1]),f=p?7:8,m=h.length-f,v=Array(f),g=0;g<f;++g)v[g]=d[g]||h[m+g]||"";p&&(v[f-1]=$(v[f-1],r));var y=v.reduce((function(e,r,t){if(!r||"0"===r){var a=e[e.length-1];a&&a.index+a.length===t?a.length++:e.push({index:t,length:1})}return e}),[]).sort((function(e,r){return r.length-e.length}))[0],b=void 0;if(y&&y.length>1){var w=v.slice(0,y.index),P=v.slice(y.index+y.length);b=w.join(":")+"::"+P.join(":")}else b=v.join(":");return i&&(b+="%"+i),b}return e}var R=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,D=void 0==="".match(/(){0}/)[1];function I(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={},a=!1!==r.iri?n:s;"suffix"===r.reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e);var o=e.match(R);if(o){D?(t.scheme=o[1],t.userinfo=o[3],t.host=o[4],t.port=parseInt(o[5],10),t.path=o[6]||"",t.query=o[7],t.fragment=o[8],isNaN(t.port)&&(t.port=o[5])):(t.scheme=o[1]||void 0,t.userinfo=-1!==e.indexOf("@")?o[3]:void 0,t.host=-1!==e.indexOf("//")?o[4]:void 0,t.port=parseInt(o[5],10),t.path=o[6]||"",t.query=-1!==e.indexOf("?")?o[7]:void 0,t.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(t.port)&&(t.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),t.host&&(t.host=O($(t.host,a),a)),void 0!==t.scheme||void 0!==t.userinfo||void 0!==t.host||void 0!==t.port||t.path||void 0!==t.query?void 0===t.scheme?t.reference="relative":void 0===t.fragment?t.reference="absolute":t.reference="uri":t.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==t.reference&&(t.error=t.error||"URI is not a "+r.reference+" reference.");var i=F[(r.scheme||t.scheme||"").toLowerCase()];if(r.unicodeSupport||i&&i.unicodeSupport)k(t,a);else{if(t.host&&(r.domainHost||i&&i.domainHost))try{t.host=x.toASCII(t.host.replace(a.PCT_ENCODED,C).toLowerCase())}catch(e){t.error=t.error||"Host's domain name can not be converted to ASCII via punycode: "+e}k(t,s)}i&&i.parse&&i.parse(t,r)}else t.error=t.error||"URI can not be parsed.";return t}var L=/^\.\.?\//,T=/^\/\.(\/|$)/,N=/^\/\.\.(\/|$)/,q=/^\/?(?:.|\n)*?(?=\/|$)/;function B(e){for(var r=[];e.length;)if(e.match(L))e=e.replace(L,"");else if(e.match(T))e=e.replace(T,"/");else if(e.match(N))e=e.replace(N,"/"),r.pop();else if("."===e||".."===e)e="";else{var t=e.match(q);if(!t)throw new Error("Unexpected dot segment condition");var a=t[0];e=e.slice(a.length),r.push(a)}return r.join("")}function z(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.iri?n:s,a=[],o=F[(r.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,r),e.host)if(t.IPV6ADDRESS.test(e.host));else if(r.domainHost||o&&o.domainHost)try{e.host=r.iri?x.toUnicode(e.host):x.toASCII(e.host.replace(t.PCT_ENCODED,C).toLowerCase())}catch(t){e.error=e.error||"Host's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+t}k(e,t),"suffix"!==r.reference&&e.scheme&&(a.push(e.scheme),a.push(":"));var i=function(e,r){var t=!1!==r.iri?n:s,a=[];return void 0!==e.userinfo&&(a.push(e.userinfo),a.push("@")),void 0!==e.host&&a.push(O($(String(e.host),t),t).replace(t.IPV6ADDRESS,(function(e,r,t){return"["+r+(t?"%25"+t:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(a.push(":"),a.push(String(e.port))),a.length?a.join(""):void 0}(e,r);if(void 0!==i&&("suffix"!==r.reference&&a.push("//"),a.push(i),e.path&&"/"!==e.path.charAt(0)&&a.push("/")),void 0!==e.path){var l=e.path;r.absolutePath||o&&o.absolutePath||(l=B(l)),void 0===i&&(l=l.replace(/^\/\//,"/%2F")),a.push(l)}return void 0!==e.query&&(a.push("?"),a.push(e.query)),void 0!==e.fragment&&(a.push("#"),a.push(e.fragment)),a.join("")}function V(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={};return arguments[3]||(e=I(z(e,t),t),r=I(z(r,t),t)),!(t=t||{}).tolerant&&r.scheme?(a.scheme=r.scheme,a.userinfo=r.userinfo,a.host=r.host,a.port=r.port,a.path=B(r.path||""),a.query=r.query):(void 0!==r.userinfo||void 0!==r.host||void 0!==r.port?(a.userinfo=r.userinfo,a.host=r.host,a.port=r.port,a.path=B(r.path||""),a.query=r.query):(r.path?("/"===r.path.charAt(0)?a.path=B(r.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?a.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:a.path=r.path:a.path="/"+r.path,a.path=B(a.path)),a.query=r.query):(a.path=e.path,void 0!==r.query?a.query=r.query:a.query=e.query),a.userinfo=e.userinfo,a.host=e.host,a.port=e.port),a.scheme=e.scheme),a.fragment=r.fragment,a}function M(e,r){return e&&e.toString().replace(r&&r.iri?n.PCT_ENCODED:s.PCT_ENCODED,C)}var U={scheme:"http",domainHost:!0,parse:function(e,r){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,r){var t="https"===String(e.scheme).toLowerCase();return e.port!==(t?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},Q={scheme:"https",domainHost:U.domainHost,parse:U.parse,serialize:U.serialize};function H(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var K={scheme:"ws",domainHost:!0,parse:function(e,r){var t=e;return t.secure=H(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t},serialize:function(e,r){if(e.port!==(H(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var t=e.resourceName.split("?"),a=l(t,2),o=a[0],i=a[1];e.path=o&&"/"!==o?o:void 0,e.query=i,e.resourceName=void 0}return e.fragment=void 0,e}},G={scheme:"wss",domainHost:K.domainHost,parse:K.parse,serialize:K.serialize},J={},W="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Z="[0-9A-Fa-f]",X=t(t("%[EFef]"+Z+"%"+Z+Z+"%"+Z+Z)+"|"+t("%[89A-Fa-f]"+Z+"%"+Z+Z)+"|"+t("%"+Z+Z)),Y=r("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ee=new RegExp(W,"g"),re=new RegExp(X,"g"),te=new RegExp(r("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Y),"g"),ae=new RegExp(r("[^]",W,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),oe=ae;function ie(e){var r=C(e);return r.match(ee)?r:e}var se={scheme:"mailto",parse:function(e,r){var t=e,a=t.to=t.path?t.path.split(","):[];if(t.path=void 0,t.query){for(var o=!1,i={},s=t.query.split("&"),n=0,l=s.length;n<l;++n){var c=s[n].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),d=0,h=u.length;d<h;++d)a.push(u[d]);break;case"subject":t.subject=M(c[1],r);break;case"body":t.body=M(c[1],r);break;default:o=!0,i[M(c[0],r)]=M(c[1],r)}}o&&(t.headers=i)}t.query=void 0;for(var p=0,f=a.length;p<f;++p){var m=a[p].split("@");if(m[0]=M(m[0]),r.unicodeSupport)m[1]=M(m[1],r).toLowerCase();else try{m[1]=x.toASCII(M(m[1],r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}a[p]=m.join("@")}return t},serialize:function(e,r){var t=e,a=function(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}(e.to);if(a){for(var i=0,s=a.length;i<s;++i){var n=String(a[i]),l=n.lastIndexOf("@"),c=n.slice(0,l).replace(re,ie).replace(re,o).replace(te,j),u=n.slice(l+1);try{u=r.iri?x.toUnicode(u):x.toASCII(M(u,r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+e}a[i]=c+"@"+u}t.path=a.join(",")}var d=e.headers=e.headers||{};e.subject&&(d.subject=e.subject),e.body&&(d.body=e.body);var h=[];for(var p in d)d[p]!==J[p]&&h.push(p.replace(re,ie).replace(re,o).replace(ae,j)+"="+d[p].replace(re,ie).replace(re,o).replace(oe,j));return h.length&&(t.query=h.join("&")),t}},ne=/^([^\:]+)\:(.*)/,le={scheme:"urn",parse:function(e,r){var t=e.path&&e.path.match(ne),a=e;if(t){var o=r.scheme||a.scheme||"urn",i=t[1].toLowerCase(),s=t[2],n=o+":"+(r.nid||i),l=F[n];a.nid=i,a.nss=s,a.path=void 0,l&&(a=l.parse(a,r))}else a.error=a.error||"URN can not be parsed.";return a},serialize:function(e,r){var t=r.scheme||e.scheme||"urn",a=e.nid,o=t+":"+(r.nid||a),i=F[o];i&&(e=i.serialize(e,r));var s=e,n=e.nss;return s.path=(a||r.nid)+":"+n,s}},ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ue={scheme:"urn:uuid",parse:function(e,r){var t=e;return t.uuid=t.nss,t.nss=void 0,r.tolerant||t.uuid&&t.uuid.match(ce)||(t.error=t.error||"UUID is not valid."),t},serialize:function(e,r){var t=e;return t.nss=(e.uuid||"").toLowerCase(),t}};F[U.scheme]=U,F[Q.scheme]=Q,F[K.scheme]=K,F[G.scheme]=G,F[se.scheme]=se,F[le.scheme]=le,F[ue.scheme]=ue,e.SCHEMES=F,e.pctEncChar=j,e.pctDecChars=C,e.parse=I,e.removeDotSegments=B,e.serialize=z,e.resolveComponents=V,e.resolve=function(e,r,t){var a=function(e,r){var t=e;if(r)for(var a in r)t[a]=r[a];return t}({scheme:"null"},t);return z(V(I(e,a),I(r,a),a,!0),a)},e.normalize=function(e,r){return"string"==typeof e?e=z(I(e,r),r):"object"===a(e)&&(e=I(z(e,r),r)),e},e.equal=function(e,r,t){return"string"==typeof e?e=z(I(e,t),t):"object"===a(e)&&(e=z(e,t)),"string"==typeof r?r=z(I(r,t),t):"object"===a(r)&&(r=z(r,t)),e===r},e.escapeComponent=function(e,r){return e&&e.toString().replace(r&&r.iri?n.ESCAPE:s.ESCAPE,j)},e.unescapeComponent=M,Object.defineProperty(e,"__esModule",{value:!0})}(Ua);var Qa=Ua,Ha=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var a,o,i;if(Array.isArray(r)){if((a=r.length)!=t.length)return!1;for(o=a;0!=o--;)if(!e(r[o],t[o]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((a=(i=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(o=a;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,i[o]))return!1;for(o=a;0!=o--;){var s=i[o];if(!e(r[s],t[s]))return!1}return!0}return r!=r&&t!=t},Ka={copy:function(e,r){for(var t in r=r||{},e)r[t]=e[t];return r},checkDataType:Ga,checkDataTypes:function(e,r,t){if(1===e.length)return Ga(e[0],r,t,!0);var a="",o=Wa(e);for(var i in o.array&&o.object&&(a=o.null?"(":"(!"+r+" || ",a+="typeof "+r+' !== "object")',delete o.null,delete o.array,delete o.object),o.number&&delete o.integer,o)a+=(a?" && ":"")+Ga(i,r,t,!0);return a},coerceToTypes:function(e,r){if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++){var o=r[a];(Ja[o]||"array"===e&&"array"===o)&&(t[t.length]=o)}if(t.length)return t}else{if(Ja[r])return[r];if("array"===e&&"array"===r)return["array"]}},toHash:Wa,getProperty:Ya,escapeQuotes:eo,equal:Ha,ucs2length:function(e){for(var r,t=0,a=e.length,o=0;o<a;)t++,(r=e.charCodeAt(o++))>=55296&&r<=56319&&o<a&&56320==(64512&(r=e.charCodeAt(o)))&&o++;return t},varOccurences:function(e,r){r+="[^0-9]";var t=e.match(new RegExp(r,"g"));return t?t.length:0},varReplace:function(e,r,t){return r+="([^0-9])",t=t.replace(/\$/g,"$$$$"),e.replace(new RegExp(r,"g"),t+"$1")},schemaHasRules:function(e,r){if("boolean"==typeof e)return!e;for(var t in e)if(r[t])return!0},schemaHasRulesExcept:function(e,r,t){if("boolean"==typeof e)return!e&&"not"!=t;for(var a in e)if(a!=t&&r[a])return!0},schemaUnknownRules:function(e,r){if("boolean"!=typeof e)for(var t in e)if(!r[t])return t},toQuotedString:ro,getPathExpr:function(e,r,t,a){return oo(e,t?"'/' + "+r+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+r+" + ']'":"'[\\'' + "+r+" + '\\']'")},getPath:function(e,r,t){return oo(e,ro(t?"/"+io(r):Ya(r)))},getData:function(e,r,t){var a,o,i,s;if(""===e)return"rootData";if("/"==e[0]){if(!to.test(e))throw new Error("Invalid JSON-pointer: "+e);o=e,i="rootData"}else{if(!(s=e.match(ao)))throw new Error("Invalid JSON-pointer: "+e);if(a=+s[1],"#"==(o=s[2])){if(a>=r)throw new Error("Cannot access property/index "+a+" levels up, current level is "+r);return t[r-a]}if(a>r)throw new Error("Cannot access data "+a+" levels up, current level is "+r);if(i="data"+(r-a||""),!o)return i}for(var n=i,l=o.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(n+=" && "+(i+=Ya(so(u))))}return n},unescapeFragment:function(e){return so(decodeURIComponent(e))},unescapeJsonPointer:so,escapeFragment:function(e){return encodeURIComponent(io(e))},escapeJsonPointer:io};function Ga(e,r,t,a){var o=a?" !== ":" === ",i=a?" || ":" && ",s=a?"!":"",n=a?"":"!";switch(e){case"null":return r+o+"null";case"array":return s+"Array.isArray("+r+")";case"object":return"("+s+r+i+"typeof "+r+o+'"object"'+i+n+"Array.isArray("+r+"))";case"integer":return"(typeof "+r+o+'"number"'+i+n+"("+r+" % 1)"+i+r+o+r+(t?i+s+"isFinite("+r+")":"")+")";case"number":return"(typeof "+r+o+'"'+e+'"'+(t?i+s+"isFinite("+r+")":"")+")";default:return"typeof "+r+o+'"'+e+'"'}}var Ja=Wa(["string","number","integer","boolean","null"]);function Wa(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!0;return r}var Za=/^[a-z$_][a-z$_0-9]*$/i,Xa=/'|\\/g;function Ya(e){return"number"==typeof e?"["+e+"]":Za.test(e)?"."+e:"['"+eo(e)+"']"}function eo(e){return e.replace(Xa,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function ro(e){return"'"+eo(e)+"'"}var to=/^\/(?:[^~]|~0|~1)*$/,ao=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function oo(e,r){return'""'==e?r:(e+" + "+r).replace(/([^\\])' \+ '/g,"$1")}function io(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function so(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var no=Ka,lo=function(e){no.copy(e,this)},co={exports:{}},uo=co.exports=function(e,r,t){"function"==typeof r&&(t=r,r={}),ho(r,"function"==typeof(t=r.cb||t)?t:t.pre||function(){},t.post||function(){},e,"",e)};function ho(e,r,t,a,o,i,s,n,l,c){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var u in r(a,o,i,s,n,l,c),a){var d=a[u];if(Array.isArray(d)){if(u in uo.arrayKeywords)for(var h=0;h<d.length;h++)ho(e,r,t,d[h],o+"/"+u+"/"+h,i,o,u,a,h)}else if(u in uo.propsKeywords){if(d&&"object"==typeof d)for(var p in d)ho(e,r,t,d[p],o+"/"+u+"/"+p.replace(/~/g,"~0").replace(/\//g,"~1"),i,o,u,a,p)}else(u in uo.keywords||e.allKeys&&!(u in uo.skipKeywords))&&ho(e,r,t,d,o+"/"+u,i,o,u,a)}t(a,o,i,s,n,l,c)}}uo.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},uo.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},uo.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},uo.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};var po=co.exports,fo=Qa,mo=Ha,vo=Ka,go=lo,yo=po,bo=wo;function wo(e,r,t){var a=this._refs[t];if("string"==typeof a){if(!this._refs[a])return wo.call(this,e,r,a);a=this._refs[a]}if((a=a||this._schemas[t])instanceof go)return Fo(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var o,i,s,n=Po.call(this,r,t);return n&&(o=n.schema,r=n.root,s=n.baseId),o instanceof go?i=o.validate||e.call(this,o.schema,r,void 0,s):void 0!==o&&(i=Fo(o,this._opts.inlineRefs)?o:e.call(this,o,r,void 0,s)),i}function Po(e,r){var t=fo.parse(r),a=Ao(t),o=ko(this._getId(e.schema));if(0===Object.keys(e.schema).length||a!==o){var i=Oo(a),s=this._refs[i];if("string"==typeof s)return _o.call(this,e,s,t);if(s instanceof go)s.validate||this._compile(s),e=s;else{if(!((s=this._schemas[i])instanceof go))return;if(s.validate||this._compile(s),i==Oo(r))return{schema:s,root:e,baseId:o};e=s}if(!e.schema)return;o=ko(this._getId(e.schema))}return Eo.call(this,t,o,e.schema,e)}function _o(e,r,t){var a=Po.call(this,e,r);if(a){var o=a.schema,i=a.baseId;e=a.root;var s=this._getId(o);return s&&(i=Ro(i,s)),Eo.call(this,t,i,o,e)}}wo.normalizeId=Oo,wo.fullPath=ko,wo.url=Ro,wo.ids=function(e){var r=Oo(this._getId(e)),t={"":r},a={"":ko(r,!1)},o={},i=this;return yo(e,{allKeys:!0},(function(e,r,s,n,l,c,u){if(""!==r){var d=i._getId(e),h=t[n],p=a[n]+"/"+l;if(void 0!==u&&(p+="/"+("number"==typeof u?u:vo.escapeFragment(u))),"string"==typeof d){d=h=Oo(h?fo.resolve(h,d):d);var f=i._refs[d];if("string"==typeof f&&(f=i._refs[f]),f&&f.schema){if(!mo(e,f.schema))throw new Error('id "'+d+'" resolves to more than one schema')}else if(d!=Oo(p))if("#"==d[0]){if(o[d]&&!mo(e,o[d]))throw new Error('id "'+d+'" resolves to more than one schema');o[d]=e}else i._refs[d]=p}t[r]=h,a[r]=p}})),o},wo.inlineRef=Fo,wo.schema=Po;var So=vo.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function Eo(e,r,t,a){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var o=e.fragment.split("/"),i=1;i<o.length;i++){var s=o[i];if(s){if(void 0===(t=t[s=vo.unescapeFragment(s)]))break;var n;if(!So[s]&&((n=this._getId(t))&&(r=Ro(r,n)),t.$ref)){var l=Ro(r,t.$ref),c=Po.call(this,a,l);c&&(t=c.schema,a=c.root,r=c.baseId)}}}return void 0!==t&&t!==a.schema?{schema:t,root:a,baseId:r}:void 0}}var xo=vo.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Fo(e,r){return!1!==r&&(void 0===r||!0===r?jo(e):r?Co(e)<=r:void 0)}function jo(e){var r;if(Array.isArray(e)){for(var t=0;t<e.length;t++)if("object"==typeof(r=e[t])&&!jo(r))return!1}else for(var a in e){if("$ref"==a)return!1;if("object"==typeof(r=e[a])&&!jo(r))return!1}return!0}function Co(e){var r,t=0;if(Array.isArray(e)){for(var a=0;a<e.length;a++)if("object"==typeof(r=e[a])&&(t+=Co(r)),t==1/0)return 1/0}else for(var o in e){if("$ref"==o)return 1/0;if(xo[o])t++;else if("object"==typeof(r=e[o])&&(t+=Co(r)+1),t==1/0)return 1/0}return t}function ko(e,r){return!1!==r&&(e=Oo(e)),Ao(fo.parse(e))}function Ao(e){return fo.serialize(e).split("#")[0]+"#"}var $o=/#\/?$/;function Oo(e){return e?e.replace($o,""):""}function Ro(e,r){return r=Oo(r),fo.resolve(e,r)}var Do=bo,Io={Validation:To((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:To(Lo)};function Lo(e,r,t){this.message=t||Lo.message(e,r),this.missingRef=Do.url(e,r),this.missingSchema=Do.normalizeId(Do.fullPath(this.missingRef))}function To(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Lo.message=function(e,r){return"can't resolve reference "+r+" from id "+e};var No=function(e,r){r||(r={}),"function"==typeof r&&(r={cmp:r});var t,a="boolean"==typeof r.cycles&&r.cycles,o=r.cmp&&(t=r.cmp,function(e){return function(r,a){var o={key:r,value:e[r]},i={key:a,value:e[a]};return t(o,i)}}),i=[];return function e(r){if(r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),void 0!==r){if("number"==typeof r)return isFinite(r)?""+r:"null";if("object"!=typeof r)return JSON.stringify(r);var t,s;if(Array.isArray(r)){for(s="[",t=0;t<r.length;t++)t&&(s+=","),s+=e(r[t])||"null";return s+"]"}if(null===r)return"null";if(-1!==i.indexOf(r)){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var n=i.push(r)-1,l=Object.keys(r).sort(o&&o(r));for(s="",t=0;t<l.length;t++){var c=l[t],u=e(r[c]);u&&(s&&(s+=","),s+=JSON.stringify(c)+":"+u)}return i.splice(n,1),"{"+s+"}"}}(e)},qo=function(e,r,t){var a="",o=!0===e.schema.$async,i=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),s=e.self._getId(e.schema);if(e.opts.strictKeywords){var n=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(n){var l="unknown keyword: "+n;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(a+=" var validate = ",o&&(e.async=!0,a+="async "),a+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(e.opts.sourceCode||e.opts.processCode)&&(a+=" /*# sourceURL="+s+" */ ")),"boolean"==typeof e.schema||!i&&!e.schema.$ref){r="false schema";var c=e.level,u=e.dataLevel,d=e.schema[r],h=e.schemaPath+e.util.getProperty(r),p=e.errSchemaPath+"/"+r,f=!e.opts.allErrors,m="data"+(u||""),v="valid"+c;if(!1===e.schema){e.isTop?f=!0:a+=" var "+v+" = false; ",(Q=Q||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'boolean schema is false' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),a+=" } "):a+=" {} ";var g=a;a=Q.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?a+=o?" return data; ":" validate.errors = null; return true; ":a+=" var "+v+" = true; ";return e.isTop&&(a+=" }; return validate; "),a}if(e.isTop){var y=e.isTop;if(c=e.level=0,u=e.dataLevel=0,m="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}a+=" var vErrors = null; ",a+=" var errors = 0;     ",a+=" if (rootData === undefined) rootData = data; "}else{if(c=e.level,m="data"+((u=e.dataLevel)||""),s&&(e.baseId=e.resolve.url(e.baseId,s)),o&&!e.async)throw new Error("async schema in sync schema");a+=" var errs_"+c+" = errors;"}v="valid"+c,f=!e.opts.allErrors;var w="",P="",_=e.schema.type,S=Array.isArray(_);if(_&&e.opts.nullable&&!0===e.schema.nullable&&(S?-1==_.indexOf("null")&&(_=_.concat("null")):"null"!=_&&(_=[_,"null"],S=!0)),S&&1==_.length&&(_=_[0],S=!1),e.schema.$ref&&i){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(i=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(a+=" "+e.RULES.all.$comment.code(e,"$comment")),_){if(e.opts.coerceTypes)var E=e.util.coerceToTypes(e.opts.coerceTypes,_);var x=e.RULES.types[_];if(E||S||!0===x||x&&!Z(x)){h=e.schemaPath+".type",p=e.errSchemaPath+"/type",h=e.schemaPath+".type",p=e.errSchemaPath+"/type";var F=S?"checkDataTypes":"checkDataType";if(a+=" if ("+e.util[F](_,m,e.opts.strictNumbers,!0)+") { ",E){var j="dataType"+c,C="coerced"+c;a+=" var "+j+" = typeof "+m+"; var "+C+" = undefined; ","array"==e.opts.coerceTypes&&(a+=" if ("+j+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+j+" = typeof "+m+"; if ("+e.util.checkDataType(e.schema.type,m,e.opts.strictNumbers)+") "+C+" = "+m+"; } "),a+=" if ("+C+" !== undefined) ; ";var k=E;if(k)for(var A,$=-1,O=k.length-1;$<O;)"string"==(A=k[$+=1])?a+=" else if ("+j+" == 'number' || "+j+" == 'boolean') "+C+" = '' + "+m+"; else if ("+m+" === null) "+C+" = ''; ":"number"==A||"integer"==A?(a+=" else if ("+j+" == 'boolean' || "+m+" === null || ("+j+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==A&&(a+=" && !("+m+" % 1)"),a+=")) "+C+" = +"+m+"; "):"boolean"==A?a+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+C+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+C+" = true; ":"null"==A?a+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+C+" = null; ":"array"==e.opts.coerceTypes&&"array"==A&&(a+=" else if ("+j+" == 'string' || "+j+" == 'number' || "+j+" == 'boolean' || "+m+" == null) "+C+" = ["+m+"]; ");a+=" else {   ",(Q=Q||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",a+=S?""+_.join(","):""+_,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=S?""+_.join(","):""+_,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),a+=" } "):a+=" {} ",g=a,a=Q.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } if ("+C+" !== undefined) {  ";var R=u?"data"+(u-1||""):"parentData";a+=" "+m+" = "+C+"; ",u||(a+="if ("+R+" !== undefined)"),a+=" "+R+"["+(u?e.dataPathArr[u]:"parentDataProperty")+"] = "+C+"; } "}else(Q=Q||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",a+=S?""+_.join(","):""+_,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=S?""+_.join(","):""+_,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),a+=" } "):a+=" {} ",g=a,a=Q.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";a+=" } "}}if(e.schema.$ref&&!i)a+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",f&&(a+=" } if (errors === ",a+=y?"0":"errs_"+c,a+=") { ",P+="}");else{var D=e.RULES;if(D)for(var I=-1,L=D.length-1;I<L;)if(Z(x=D[I+=1])){if(x.type&&(a+=" if ("+e.util.checkDataType(x.type,m,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==x.type&&e.schema.properties){d=e.schema.properties;var T=Object.keys(d);if(T)for(var N,q=-1,B=T.length-1;q<B;)if(void 0!==(M=d[N=T[q+=1]]).default){var z=m+e.util.getProperty(N);if(e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+z,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else a+=" if ("+z+" === undefined ","empty"==e.opts.useDefaults&&(a+=" || "+z+" === null || "+z+" === '' "),a+=" ) "+z+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(M.default)+" ":a+=" "+JSON.stringify(M.default)+" ",a+="; "}}else if("array"==x.type&&Array.isArray(e.schema.items)){var V=e.schema.items;if(V){$=-1;for(var M,U=V.length-1;$<U;)if(void 0!==(M=V[$+=1]).default)if(z=m+"["+$+"]",e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+z,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else a+=" if ("+z+" === undefined ","empty"==e.opts.useDefaults&&(a+=" || "+z+" === null || "+z+" === '' "),a+=" ) "+z+" = ","shared"==e.opts.useDefaults?a+=" "+e.useDefault(M.default)+" ":a+=" "+JSON.stringify(M.default)+" ",a+="; "}}var Q,H=x.rules;if(H)for(var K,G=-1,J=H.length-1;G<J;)if(X(K=H[G+=1])){var W=K.code(e,K.keyword,x.type);W&&(a+=" "+W+" ",f&&(w+="}"))}if(f&&(a+=" "+w+" ",w=""),x.type&&(a+=" } ",_&&_===x.type&&!E))a+=" else { ",h=e.schemaPath+".type",p=e.errSchemaPath+"/type",(Q=Q||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",a+=S?""+_.join(","):""+_,a+="' } ",!1!==e.opts.messages&&(a+=" , message: 'should be ",a+=S?""+_.join(","):""+_,a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),a+=" } "):a+=" {} ",g=a,a=Q.pop(),!e.compositeRule&&f?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ";f&&(a+=" if (errors === ",a+=y?"0":"errs_"+c,a+=") { ",P+="}")}}function Z(e){for(var r=e.rules,t=0;t<r.length;t++)if(X(r[t]))return!0}function X(r){return void 0!==e.schema[r.keyword]||r.implements&&function(r){for(var t=r.implements,a=0;a<t.length;a++)if(void 0!==e.schema[t[a]])return!0}(r)}return f&&(a+=" "+P+" "),y?(o?(a+=" if (errors === 0) return data;           ",a+=" else throw new ValidationError(vErrors); "):(a+=" validate.errors = vErrors; ",a+=" return errors === 0;       "),a+=" }; return validate;"):a+=" var "+v+" = errors === errs_"+c+";",a},Bo=bo,zo=Ka,Vo=Io,Mo=No,Uo=qo,Qo=zo.ucs2length,Ho=Ha,Ko=Vo.Validation;function Go(e,r,t){var a=Wo.call(this,e,r,t);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:e,root:r,baseId:t},{index:a,compiling:!1})}function Jo(e,r,t){var a=Wo.call(this,e,r,t);a>=0&&this._compilations.splice(a,1)}function Wo(e,r,t){for(var a=0;a<this._compilations.length;a++){var o=this._compilations[a];if(o.schema==e&&o.root==r&&o.baseId==t)return a}return-1}function Zo(e,r){return"var pattern"+e+" = new RegExp("+zo.toQuotedString(r[e])+");"}function Xo(e){return"var default"+e+" = defaults["+e+"];"}function Yo(e,r){return void 0===r[e]?"":"var refVal"+e+" = refVal["+e+"];"}function ei(e){return"var customRule"+e+" = customRules["+e+"];"}function ri(e,r){if(!e.length)return"";for(var t="",a=0;a<e.length;a++)t+=r(a,e);return t}var ti={exports:{}},ai=ti.exports=function(){this._cache={}};ai.prototype.put=function(e,r){this._cache[e]=r},ai.prototype.get=function(e){return this._cache[e]},ai.prototype.del=function(e){delete this._cache[e]},ai.prototype.clear=function(){this._cache={}};var oi=ti.exports,ii=Ka,si=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,ni=[0,31,28,31,30,31,30,31,31,30,31,30,31],li=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,ci=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ui=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,di=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,hi=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,pi=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,fi=/^(?:\/(?:[^~/]|~0|~1)*)*$/,mi=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,vi=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,gi=yi;function yi(e){return e="full"==e?"full":"fast",ii.copy(yi[e])}function bi(e){var r=e.match(si);if(!r)return!1;var t=+r[1],a=+r[2],o=+r[3];return a>=1&&a<=12&&o>=1&&o<=(2==a&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(t)?29:ni[a])}function wi(e,r){var t=e.match(li);if(!t)return!1;var a=t[1],o=t[2],i=t[3],s=t[5];return(a<=23&&o<=59&&i<=59||23==a&&59==o&&60==i)&&(!r||s)}yi.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":di,url:hi,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:ci,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Ei,uuid:pi,"json-pointer":fi,"json-pointer-uri-fragment":mi,"relative-json-pointer":vi},yi.full={date:bi,time:wi,"date-time":function(e){var r=e.split(Pi);return 2==r.length&&bi(r[0])&&wi(r[1],!0)},uri:function(e){return _i.test(e)&&ui.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":di,url:hi,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:ci,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:Ei,uuid:pi,"json-pointer":fi,"json-pointer-uri-fragment":mi,"relative-json-pointer":vi};var Pi=/t|\s/i,_i=/\/|:/,Si=/[^\\]\\Z/;function Ei(e){if(Si.test(e))return!1;try{return!0}catch(e){return!1}}var xi=function(e,r,t){var a,o=" ",i=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&n&&n.$data;h?(o+=" var schema"+i+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+i):a=n;var p="maximum"==r,f=p?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[f],v=e.opts.$data&&m&&m.$data,g=p?"<":">",y=p?">":"<",b=void 0;if(!h&&"number"!=typeof n&&void 0!==n)throw new Error(r+" must be number");if(!v&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(f+" must be number or boolean");if(v){var w,P=e.util.getData(m.$data,s,e.dataPathArr),_="exclusive"+i,S="exclType"+i,E="exclIsNumber"+i,x="' + "+(j="op"+i)+" + '";o+=" var schemaExcl"+i+" = "+P+"; ",o+=" var "+_+"; var "+S+" = typeof "+(P="schemaExcl"+i)+"; if ("+S+" != 'boolean' && "+S+" != 'undefined' && "+S+" != 'number') { ",b=f,(w=w||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(o+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(o+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var F=o;o=w.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+F+"]); ":o+=" validate.errors = ["+F+"]; return false; ":o+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } else if ( ",h&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),o+=" "+S+" == 'number' ? ( ("+_+" = "+a+" === undefined || "+P+" "+g+"= "+a+") ? "+d+" "+y+"= "+P+" : "+d+" "+y+" "+a+" ) : ( ("+_+" = "+P+" === true) ? "+d+" "+y+"= "+a+" : "+d+" "+y+" "+a+" ) || "+d+" !== "+d+") { var op"+i+" = "+_+" ? '"+g+"' : '"+g+"='; ",void 0===n&&(b=f,c=e.errSchemaPath+"/"+f,a=P,h=v)}else if(x=g,(E="number"==typeof m)&&h){var j="'"+x+"'";o+=" if ( ",h&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),o+=" ( "+a+" === undefined || "+m+" "+g+"= "+a+" ? "+d+" "+y+"= "+m+" : "+d+" "+y+" "+a+" ) || "+d+" !== "+d+") { "}else E&&void 0===n?(_=!0,b=f,c=e.errSchemaPath+"/"+f,a=m,y+="="):(E&&(a=Math[p?"min":"max"](m,n)),m===(!E||a)?(_=!0,b=f,c=e.errSchemaPath+"/"+f,y+="="):(_=!1,x+="=")),j="'"+x+"'",o+=" if ( ",h&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),o+=" "+d+" "+y+" "+a+" || "+d+" !== "+d+") { ";return b=b||r,(w=w||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+j+", limit: "+a+", exclusive: "+_+" } ",!1!==e.opts.messages&&(o+=" , message: 'should be "+x+" ",o+=h?"' + "+a:a+"'"),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+l:""+n,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ",F=o,o=w.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+F+"]); ":o+=" validate.errors = ["+F+"]; return false; ":o+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } ",u&&(o+=" else { "),o},Fi=function(e,r,t){var a,o=" ",i=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&n&&n.$data;if(h?(o+=" var schema"+i+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+i):a=n,!h&&"number"!=typeof n)throw new Error(r+" must be number");o+="if ( ",h&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),o+=" "+d+".length "+("maxItems"==r?">":"<")+" "+a+") { ";var p=r,f=f||[];f.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have ",o+="maxItems"==r?"more":"fewer",o+=" than ",o+=h?"' + "+a+" + '":""+n,o+=" items' "),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+l:""+n,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var m=o;return o=f.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",u&&(o+=" else { "),o},ji=function(e,r,t){var a,o=" ",i=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&n&&n.$data;if(h?(o+=" var schema"+i+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+i):a=n,!h&&"number"!=typeof n)throw new Error(r+" must be number");var p="maxLength"==r?">":"<";o+="if ( ",h&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),!1===e.opts.unicode?o+=" "+d+".length ":o+=" ucs2length("+d+") ",o+=" "+p+" "+a+") { ";var f=r,m=m||[];m.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT be ",o+="maxLength"==r?"longer":"shorter",o+=" than ",o+=h?"' + "+a+" + '":""+n,o+=" characters' "),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+l:""+n,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var v=o;return o=m.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+v+"]); ":o+=" validate.errors = ["+v+"]; return false; ":o+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",u&&(o+=" else { "),o},Ci=function(e,r,t){var a,o=" ",i=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&n&&n.$data;if(h?(o+=" var schema"+i+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+i):a=n,!h&&"number"!=typeof n)throw new Error(r+" must be number");o+="if ( ",h&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'number') || "),o+=" Object.keys("+d+").length "+("maxProperties"==r?">":"<")+" "+a+") { ";var p=r,f=f||[];f.push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+a+" } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have ",o+="maxProperties"==r?"more":"fewer",o+=" than ",o+=h?"' + "+a+" + '":""+n,o+=" properties' "),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+l:""+n,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var m=o;return o=f.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",u&&(o+=" else { "),o},ki={$ref:function(e,r,t){var a,o,i=" ",s=e.level,n=e.dataLevel,l=e.schema[r],c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+s;if("#"==l||"#/"==l)e.isRoot?(a=e.async,o="validate"):(a=!0===e.root.schema.$async,o="root.refVal[0]");else{var p=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===p){var f=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(f),(y=y||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(i+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(i+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var m=i;i=y.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(i+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,f);e.logger.warn(f),u&&(i+=" if (true) { ")}}else if(p.inline){var v=e.util.copy(e);v.level++;var g="valid"+v.level;v.schema=p.schema,v.schemaPath="",v.errSchemaPath=l,i+=" "+e.validate(v).replace(/validate\.schema/g,p.code)+" ",u&&(i+=" if ("+g+") { ")}else a=!0===p.$async||e.async&&!1!==p.$async,o=p.code}if(o){var y;(y=y||[]).push(i),i="",e.opts.passContext?i+=" "+o+".call(this, ":i+=" "+o+"( ",i+=" "+d+", (dataPath || '')",'""'!=e.errorPath&&(i+=" + "+e.errorPath);var b=i+=" , "+(n?"data"+(n-1||""):"parentData")+" , "+(n?e.dataPathArr[n]:"parentDataProperty")+", rootData)  ";if(i=y.pop(),a){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(i+=" var "+h+"; "),i+=" try { await "+b+"; ",u&&(i+=" "+h+" = true; "),i+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(i+=" "+h+" = false; "),i+=" } ",u&&(i+=" if ("+h+") { ")}else i+=" if (!"+b+") { if (vErrors === null) vErrors = "+o+".errors; else vErrors = vErrors.concat("+o+".errors); errors = vErrors.length; } ",u&&(i+=" else { ")}return i},allOf:function(e,r,t){var a=" ",o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),s=e.errSchemaPath+"/"+r,n=!e.opts.allErrors,l=e.util.copy(e),c="";l.level++;var u="valid"+l.level,d=l.baseId,h=!0,p=o;if(p)for(var f,m=-1,v=p.length-1;m<v;)f=p[m+=1],(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0||!1===f:e.util.schemaHasRules(f,e.RULES.all))&&(h=!1,l.schema=f,l.schemaPath=i+"["+m+"]",l.errSchemaPath=s+"/"+m,a+="  "+e.validate(l)+" ",l.baseId=d,n&&(a+=" if ("+u+") { ",c+="}"));return n&&(a+=h?" if (true) { ":" "+c.slice(0,-1)+" "),a},anyOf:function(e,r,t){var a=" ",o=e.level,i=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||""),d="valid"+o,h="errs__"+o,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,v=s.every((function(r){return e.opts.strictKeywords?"object"==typeof r&&Object.keys(r).length>0||!1===r:e.util.schemaHasRules(r,e.RULES.all)}));if(v){var g=p.baseId;a+=" var "+h+" = errors; var "+d+" = false;  ";var y=e.compositeRule;e.compositeRule=p.compositeRule=!0;var b=s;if(b)for(var w,P=-1,_=b.length-1;P<_;)w=b[P+=1],p.schema=w,p.schemaPath=n+"["+P+"]",p.errSchemaPath=l+"/"+P,a+="  "+e.validate(p)+" ",p.baseId=g,a+=" "+d+" = "+d+" || "+m+"; if (!"+d+") { ",f+="}";e.compositeRule=p.compositeRule=y,a+=" "+f+" if (!"+d+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else c&&(a+=" if (true) { ");return a},$comment:function(e,r,t){var a=" ",o=e.schema[r],i=e.errSchemaPath+"/"+r,s=e.util.toQuotedString(o);return!0===e.opts.$comment?a+=" console.log("+s+");":"function"==typeof e.opts.$comment&&(a+=" self._opts.$comment("+s+", "+e.util.toQuotedString(i)+", validate.root.schema);"),a},const:function(e,r,t){var a=" ",o=e.level,i=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||""),d="valid"+o,h=e.opts.$data&&s&&s.$data;h&&(a+=" var schema"+o+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; "),h||(a+=" var schema"+o+" = validate.schema"+n+";"),a+="var "+d+" = equal("+u+", schema"+o+"); if (!"+d+") {   ";var p=p||[];p.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+o+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to constant' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var f=a;return a=p.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+f+"]); ":a+=" validate.errors = ["+f+"]; return false; ":a+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",c&&(a+=" else { "),a},contains:function(e,r,t){var a=" ",o=e.level,i=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||""),d="valid"+o,h="errs__"+o,p=e.util.copy(e);p.level++;var f="valid"+p.level,m="i"+o,v=p.dataLevel=e.dataLevel+1,g="data"+v,y=e.baseId,b=e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all);if(a+="var "+h+" = errors;var "+d+";",b){var w=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=s,p.schemaPath=n,p.errSchemaPath=l,a+=" var "+f+" = false; for (var "+m+" = 0; "+m+" < "+u+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var P=u+"["+m+"]";p.dataPathArr[v]=m;var _=e.validate(p);p.baseId=y,e.util.varOccurences(_,g)<2?a+=" "+e.util.varReplace(_,g,P)+" ":a+=" var "+g+" = "+P+"; "+_+" ",a+=" if ("+f+") break; }  ",e.compositeRule=p.compositeRule=w,a+="  if (!"+f+") {"}else a+=" if ("+u+".length == 0) {";var S=S||[];S.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should contain a valid item' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var E=a;return a=S.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+E+"]); ":a+=" validate.errors = ["+E+"]; return false; ":a+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { ",b&&(a+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(a+=" } "),a},dependencies:function(e,r,t){var a=" ",o=e.level,i=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||""),d="errs__"+o,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m={},v={},g=e.opts.ownProperties;for(P in s)if("__proto__"!=P){var y=s[P],b=Array.isArray(y)?v:m;b[P]=y}a+="var "+d+" = errors;";var w=e.errorPath;for(var P in a+="var missing"+o+";",v)if((b=v[P]).length){if(a+=" if ( "+u+e.util.getProperty(P)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(P)+"') "),c){a+=" && ( ";var _=b;if(_)for(var S=-1,E=_.length-1;S<E;)A=_[S+=1],S&&(a+=" || "),a+=" ( ( "+(D=u+(R=e.util.getProperty(A)))+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(A)+"') "),a+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?A:R)+") ) ";a+=")) {  ";var x="missing"+o,F="' + "+x+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,x,!0):w+" + "+x);var j=j||[];j.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(P)+"', missingProperty: '"+F+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==b.length?a+="property "+e.util.escapeQuotes(b[0]):a+="properties "+e.util.escapeQuotes(b.join(", ")),a+=" when property "+e.util.escapeQuotes(P)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var C=a;a=j.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+C+"]); ":a+=" validate.errors = ["+C+"]; return false; ":a+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var k=b;if(k)for(var A,$=-1,O=k.length-1;$<O;){A=k[$+=1];var R=e.util.getProperty(A),D=(F=e.util.escapeQuotes(A),u+R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,A,e.opts.jsonPointers)),a+=" if ( "+D+" === undefined ",g&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(A)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(P)+"', missingProperty: '"+F+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==b.length?a+="property "+e.util.escapeQuotes(b[0]):a+="properties "+e.util.escapeQuotes(b.join(", ")),a+=" when property "+e.util.escapeQuotes(P)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",c&&(p+="}",a+=" else { ")}e.errorPath=w;var I=h.baseId;for(var P in m)y=m[P],(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all))&&(a+=" "+f+" = true; if ( "+u+e.util.getProperty(P)+" !== undefined ",g&&(a+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(P)+"') "),a+=") { ",h.schema=y,h.schemaPath=n+e.util.getProperty(P),h.errSchemaPath=l+"/"+e.util.escapeFragment(P),a+="  "+e.validate(h)+" ",h.baseId=I,a+=" }  ",c&&(a+=" if ("+f+") { ",p+="}"));return c&&(a+="   "+p+" if ("+d+" == errors) {"),a},enum:function(e,r,t){var a=" ",o=e.level,i=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||""),d="valid"+o,h=e.opts.$data&&s&&s.$data;h&&(a+=" var schema"+o+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ");var p="i"+o,f="schema"+o;h||(a+=" var "+f+" = validate.schema"+n+";"),a+="var "+d+";",h&&(a+=" if (schema"+o+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+o+")) "+d+" = false; else {"),a+=d+" = false;for (var "+p+"=0; "+p+"<"+f+".length; "+p+"++) if (equal("+u+", "+f+"["+p+"])) { "+d+" = true; break; }",h&&(a+="  }  "),a+=" if (!"+d+") {   ";var m=m||[];m.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+o+" } ",!1!==e.opts.messages&&(a+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var v=a;return a=m.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+v+"]); ":a+=" validate.errors = ["+v+"]; return false; ":a+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" }",c&&(a+=" else { "),a},format:function(e,r,t){var a=" ",o=e.level,i=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||"");if(!1===e.opts.format)return c&&(a+=" if (true) { "),a;var d,h=e.opts.$data&&s&&s.$data;h?(a+=" var schema"+o+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ",d="schema"+o):d=s;var p=e.opts.unknownFormats,f=Array.isArray(p);if(h)a+=" var "+(m="format"+o)+" = formats["+d+"]; var "+(v="isObject"+o)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(g="formatType"+o)+" = "+v+" && "+m+".type || 'string'; if ("+v+") { ",e.async&&(a+=" var async"+o+" = "+m+".async; "),a+=" "+m+" = "+m+".validate; } if (  ",h&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),a+=" (","ignore"!=p&&(a+=" ("+d+" && !"+m+" ",f&&(a+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),a+=") || "),a+=" ("+m+" && "+g+" == '"+t+"' && !(typeof "+m+" == 'function' ? ",e.async?a+=" (async"+o+" ? await "+m+"("+u+") : "+m+"("+u+")) ":a+=" "+m+"("+u+") ",a+=" : "+m+".test("+u+"))))) {";else{var m;if(!(m=e.formats[s])){if("ignore"==p)return e.logger.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(a+=" if (true) { "),a;if(f&&p.indexOf(s)>=0)return c&&(a+=" if (true) { "),a;throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}var v,g=(v="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(v){var y=!0===m.async;m=m.validate}if(g!=t)return c&&(a+=" if (true) { "),a;if(y){if(!e.async)throw new Error("async format in sync schema");a+=" if (!(await "+(b="formats"+e.util.getProperty(s)+".validate")+"("+u+"))) { "}else{a+=" if (! ";var b="formats"+e.util.getProperty(s);v&&(b+=".validate"),a+="function"==typeof m?" "+b+"("+u+") ":" "+b+".test("+u+") ",a+=") { "}}var w=w||[];w.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",a+=h?""+d:""+e.util.toQuotedString(s),a+="  } ",!1!==e.opts.messages&&(a+=" , message: 'should match format \"",a+=h?"' + "+d+" + '":""+e.util.escapeQuotes(s),a+="\"' "),e.opts.verbose&&(a+=" , schema:  ",a+=h?"validate.schema"+n:""+e.util.toQuotedString(s),a+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var P=a;return a=w.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+P+"]); ":a+=" validate.errors = ["+P+"]; return false; ":a+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",c&&(a+=" else { "),a},if:function(e,r,t){var a=" ",o=e.level,i=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||""),d="valid"+o,h="errs__"+o,p=e.util.copy(e);p.level++;var f="valid"+p.level,m=e.schema.then,v=e.schema.else,g=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),y=void 0!==v&&(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all)),b=p.baseId;if(g||y){var w;p.createErrors=!1,p.schema=s,p.schemaPath=n,p.errSchemaPath=l,a+=" var "+h+" = errors; var "+d+" = true;  ";var P=e.compositeRule;e.compositeRule=p.compositeRule=!0,a+="  "+e.validate(p)+" ",p.baseId=b,p.createErrors=!0,a+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=P,g?(a+=" if ("+f+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",a+="  "+e.validate(p)+" ",p.baseId=b,a+=" "+d+" = "+f+"; ",g&&y?a+=" var "+(w="ifClause"+o)+" = 'then'; ":w="'then'",a+=" } ",y&&(a+=" else { ")):a+=" if (!"+f+") { ",y&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",a+="  "+e.validate(p)+" ",p.baseId=b,a+=" "+d+" = "+f+"; ",g&&y?a+=" var "+(w="ifClause"+o)+" = 'else'; ":w="'else'",a+=" } "),a+=" if (!"+d+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+w+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match \"' + "+w+" + '\" schema' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+=" }   ",c&&(a+=" else { ")}else c&&(a+=" if (true) { ");return a},items:function(e,r,t){var a=" ",o=e.level,i=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||""),d="valid"+o,h="errs__"+o,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,v="i"+o,g=p.dataLevel=e.dataLevel+1,y="data"+g,b=e.baseId;if(a+="var "+h+" = errors;var "+d+";",Array.isArray(s)){var w=e.schema.additionalItems;if(!1===w){a+=" "+d+" = "+u+".length <= "+s.length+"; ";var P=l;l=e.errSchemaPath+"/additionalItems",a+="  if (!"+d+") {   ";var _=_||[];_.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+s.length+" } ",!1!==e.opts.messages&&(a+=" , message: 'should NOT have more than "+s.length+" items' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var S=a;a=_.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+S+"]); ":a+=" validate.errors = ["+S+"]; return false; ":a+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",l=P,c&&(f+="}",a+=" else { ")}var E=s;if(E)for(var x,F=-1,j=E.length-1;F<j;)if(x=E[F+=1],e.opts.strictKeywords?"object"==typeof x&&Object.keys(x).length>0||!1===x:e.util.schemaHasRules(x,e.RULES.all)){a+=" "+m+" = true; if ("+u+".length > "+F+") { ";var C=u+"["+F+"]";p.schema=x,p.schemaPath=n+"["+F+"]",p.errSchemaPath=l+"/"+F,p.errorPath=e.util.getPathExpr(e.errorPath,F,e.opts.jsonPointers,!0),p.dataPathArr[g]=F;var k=e.validate(p);p.baseId=b,e.util.varOccurences(k,y)<2?a+=" "+e.util.varReplace(k,y,C)+" ":a+=" var "+y+" = "+C+"; "+k+" ",a+=" }  ",c&&(a+=" if ("+m+") { ",f+="}")}"object"==typeof w&&(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))&&(p.schema=w,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",a+=" "+m+" = true; if ("+u+".length > "+s.length+") {  for (var "+v+" = "+s.length+"; "+v+" < "+u+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),C=u+"["+v+"]",p.dataPathArr[g]=v,k=e.validate(p),p.baseId=b,e.util.varOccurences(k,y)<2?a+=" "+e.util.varReplace(k,y,C)+" ":a+=" var "+y+" = "+C+"; "+k+" ",c&&(a+=" if (!"+m+") break; "),a+=" } }  ",c&&(a+=" if ("+m+") { ",f+="}"))}else(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all))&&(p.schema=s,p.schemaPath=n,p.errSchemaPath=l,a+="  for (var "+v+" = 0; "+v+" < "+u+".length; "+v+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),C=u+"["+v+"]",p.dataPathArr[g]=v,k=e.validate(p),p.baseId=b,e.util.varOccurences(k,y)<2?a+=" "+e.util.varReplace(k,y,C)+" ":a+=" var "+y+" = "+C+"; "+k+" ",c&&(a+=" if (!"+m+") break; "),a+=" }");return c&&(a+=" "+f+" if ("+h+" == errors) {"),a},maximum:xi,minimum:xi,maxItems:Fi,minItems:Fi,maxLength:ji,minLength:ji,maxProperties:Ci,minProperties:Ci,multipleOf:function(e,r,t){var a,o=" ",i=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&n&&n.$data;if(h?(o+=" var schema"+i+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+i):a=n,!h&&"number"!=typeof n)throw new Error(r+" must be number");o+="var division"+i+";if (",h&&(o+=" "+a+" !== undefined && ( typeof "+a+" != 'number' || "),o+=" (division"+i+" = "+d+" / "+a+", ",e.opts.multipleOfPrecision?o+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":o+=" division"+i+" !== parseInt(division"+i+") ",o+=" ) ",h&&(o+="  )  "),o+=" ) {   ";var p=p||[];p.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+a+" } ",!1!==e.opts.messages&&(o+=" , message: 'should be multiple of ",o+=h?"' + "+a:a+"'"),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+l:""+n,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var f=o;return o=p.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+f+"]); ":o+=" validate.errors = ["+f+"]; return false; ":o+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",u&&(o+=" else { "),o},not:function(e,r,t){var a=" ",o=e.level,i=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||""),d="errs__"+o,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=n,h.errSchemaPath=l,a+=" var "+d+" = errors;  ";var f,m=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(f=h.opts.allErrors,h.opts.allErrors=!1),a+=" "+e.validate(h)+" ",h.createErrors=!0,f&&(h.opts.allErrors=f),e.compositeRule=h.compositeRule=m,a+=" if ("+p+") {   ";var v=v||[];v.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var g=a;a=v.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+g+"]); ":a+=" validate.errors = ["+g+"]; return false; ":a+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(a+=" } ")}else a+="  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(a+=" , message: 'should NOT be valid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(a+=" if (false) { ");return a},oneOf:function(e,r,t){var a=" ",o=e.level,i=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||""),d="valid"+o,h="errs__"+o,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,v=p.baseId,g="prevValid"+o,y="passingSchemas"+o;a+="var "+h+" = errors , "+g+" = false , "+d+" = false , "+y+" = null; ";var b=e.compositeRule;e.compositeRule=p.compositeRule=!0;var w=s;if(w)for(var P,_=-1,S=w.length-1;_<S;)P=w[_+=1],(e.opts.strictKeywords?"object"==typeof P&&Object.keys(P).length>0||!1===P:e.util.schemaHasRules(P,e.RULES.all))?(p.schema=P,p.schemaPath=n+"["+_+"]",p.errSchemaPath=l+"/"+_,a+="  "+e.validate(p)+" ",p.baseId=v):a+=" var "+m+" = true; ",_&&(a+=" if ("+m+" && "+g+") { "+d+" = false; "+y+" = ["+y+", "+_+"]; } else { ",f+="}"),a+=" if ("+m+") { "+d+" = "+g+" = true; "+y+" = "+_+"; }";return e.compositeRule=p.compositeRule=b,a+=f+"if (!"+d+") {   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+y+" } ",!1!==e.opts.messages&&(a+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),a+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(a+=" } "),a},pattern:function(e,r,t){var a,o=" ",i=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&n&&n.$data;h?(o+=" var schema"+i+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+i):a=n,o+="if ( ",h&&(o+=" ("+a+" !== undefined && typeof "+a+" != 'string') || "),o+=" !"+(h?"(new RegExp("+a+"))":e.usePattern(n))+".test("+d+") ) {   ";var p=p||[];p.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",o+=h?""+a:""+e.util.toQuotedString(n),o+="  } ",!1!==e.opts.messages&&(o+=" , message: 'should match pattern \"",o+=h?"' + "+a+" + '":""+e.util.escapeQuotes(n),o+="\"' "),e.opts.verbose&&(o+=" , schema:  ",o+=h?"validate.schema"+l:""+e.util.toQuotedString(n),o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var f=o;return o=p.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+f+"]); ":o+=" validate.errors = ["+f+"]; return false; ":o+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+="} ",u&&(o+=" else { "),o},properties:function(e,r,t){var a=" ",o=e.level,i=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||""),d="errs__"+o,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m="key"+o,v="idx"+o,g=h.dataLevel=e.dataLevel+1,y="data"+g,b="dataProperties"+o,w=Object.keys(s||{}).filter(R),P=e.schema.patternProperties||{},_=Object.keys(P).filter(R),S=e.schema.additionalProperties,E=w.length||_.length,x=!1===S,F="object"==typeof S&&Object.keys(S).length,j=e.opts.removeAdditional,C=x||F||j,k=e.opts.ownProperties,A=e.baseId,$=e.schema.required;if($&&(!e.opts.$data||!$.$data)&&$.length<e.opts.loopRequired)var O=e.util.toHash($);function R(e){return"__proto__"!==e}if(a+="var "+d+" = errors;var "+f+" = true;",k&&(a+=" var "+b+" = undefined;"),C){if(a+=k?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+u+") { ",E){if(a+=" var isAdditional"+o+" = !(false ",w.length)if(w.length>8)a+=" || validate.schema"+n+".hasOwnProperty("+m+") ";else{var D=w;if(D)for(var I=-1,L=D.length-1;I<L;)J=D[I+=1],a+=" || "+m+" == "+e.util.toQuotedString(J)+" "}if(_.length){var T=_;if(T)for(var N=-1,q=T.length-1;N<q;)ie=T[N+=1],a+=" || "+e.usePattern(ie)+".test("+m+") "}a+=" ); if (isAdditional"+o+") { "}if("all"==j)a+=" delete "+u+"["+m+"]; ";else{var B=e.errorPath,z="' + "+m+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers)),x)if(j)a+=" delete "+u+"["+m+"]; ";else{a+=" "+f+" = false; ";var V=l;l=e.errSchemaPath+"/additionalProperties",(te=te||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+z+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var M=a;a=te.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=V,c&&(a+=" break; ")}else if(F)if("failing"==j){a+=" var "+d+" = errors;  ";var U=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=S,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers);var Q=u+"["+m+"]";h.dataPathArr[g]=m;var H=e.validate(h);h.baseId=A,e.util.varOccurences(H,y)<2?a+=" "+e.util.varReplace(H,y,Q)+" ":a+=" var "+y+" = "+Q+"; "+H+" ",a+=" if (!"+f+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"["+m+"]; }  ",e.compositeRule=h.compositeRule=U}else h.schema=S,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),Q=u+"["+m+"]",h.dataPathArr[g]=m,H=e.validate(h),h.baseId=A,e.util.varOccurences(H,y)<2?a+=" "+e.util.varReplace(H,y,Q)+" ":a+=" var "+y+" = "+Q+"; "+H+" ",c&&(a+=" if (!"+f+") break; ");e.errorPath=B}E&&(a+=" } "),a+=" }  ",c&&(a+=" if ("+f+") { ",p+="}")}var K=e.opts.useDefaults&&!e.compositeRule;if(w.length){var G=w;if(G)for(var J,W=-1,Z=G.length-1;W<Z;){var X=s[J=G[W+=1]];if(e.opts.strictKeywords?"object"==typeof X&&Object.keys(X).length>0||!1===X:e.util.schemaHasRules(X,e.RULES.all)){var Y=e.util.getProperty(J),ee=(Q=u+Y,K&&void 0!==X.default);if(h.schema=X,h.schemaPath=n+Y,h.errSchemaPath=l+"/"+e.util.escapeFragment(J),h.errorPath=e.util.getPath(e.errorPath,J,e.opts.jsonPointers),h.dataPathArr[g]=e.util.toQuotedString(J),H=e.validate(h),h.baseId=A,e.util.varOccurences(H,y)<2){H=e.util.varReplace(H,y,Q);var re=Q}else re=y,a+=" var "+y+" = "+Q+"; ";if(ee)a+=" "+H+" ";else{if(O&&O[J]){a+=" if ( "+re+" === undefined ",k&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(J)+"') "),a+=") { "+f+" = false; ",B=e.errorPath,V=l;var te,ae=e.util.escapeQuotes(J);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(B,J,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(te=te||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+ae+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+ae+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",M=a,a=te.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+M+"]); ":a+=" validate.errors = ["+M+"]; return false; ":a+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=V,e.errorPath=B,a+=" } else { "}else c?(a+=" if ( "+re+" === undefined ",k&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(J)+"') "),a+=") { "+f+" = true; } else { "):(a+=" if ("+re+" !== undefined ",k&&(a+=" &&   Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(J)+"') "),a+=" ) { ");a+=" "+H+" } "}}c&&(a+=" if ("+f+") { ",p+="}")}}if(_.length){var oe=_;if(oe)for(var ie,se=-1,ne=oe.length-1;se<ne;)X=P[ie=oe[se+=1]],(e.opts.strictKeywords?"object"==typeof X&&Object.keys(X).length>0||!1===X:e.util.schemaHasRules(X,e.RULES.all))&&(h.schema=X,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ie),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ie),a+=k?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+v+"=0; "+v+"<"+b+".length; "+v+"++) { var "+m+" = "+b+"["+v+"]; ":" for (var "+m+" in "+u+") { ",a+=" if ("+e.usePattern(ie)+".test("+m+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers),Q=u+"["+m+"]",h.dataPathArr[g]=m,H=e.validate(h),h.baseId=A,e.util.varOccurences(H,y)<2?a+=" "+e.util.varReplace(H,y,Q)+" ":a+=" var "+y+" = "+Q+"; "+H+" ",c&&(a+=" if (!"+f+") break; "),a+=" } ",c&&(a+=" else "+f+" = true; "),a+=" }  ",c&&(a+=" if ("+f+") { ",p+="}"))}return c&&(a+=" "+p+" if ("+d+" == errors) {"),a},propertyNames:function(e,r,t){var a=" ",o=e.level,i=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||""),d="errs__"+o,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(a+="var "+d+" = errors;",e.opts.strictKeywords?"object"==typeof s&&Object.keys(s).length>0||!1===s:e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=n,h.errSchemaPath=l;var f="key"+o,m="idx"+o,v="i"+o,g="' + "+f+" + '",y="data"+(h.dataLevel=e.dataLevel+1),b="dataProperties"+o,w=e.opts.ownProperties,P=e.baseId;w&&(a+=" var "+b+" = undefined; "),a+=w?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+f+" = "+b+"["+m+"]; ":" for (var "+f+" in "+u+") { ",a+=" var startErrs"+o+" = errors; ";var _=f,S=e.compositeRule;e.compositeRule=h.compositeRule=!0;var E=e.validate(h);h.baseId=P,e.util.varOccurences(E,y)<2?a+=" "+e.util.varReplace(E,y,_)+" ":a+=" var "+y+" = "+_+"; "+E+" ",e.compositeRule=h.compositeRule=S,a+=" if (!"+p+") { for (var "+v+"=startErrs"+o+"; "+v+"<errors; "+v+"++) { vErrors["+v+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(a+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+g+"' } ",!1!==e.opts.messages&&(a+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; "),c&&(a+=" break; "),a+=" } }"}return c&&(a+="  if ("+d+" == errors) {"),a},required:function(e,r,t){var a=" ",o=e.level,i=e.dataLevel,s=e.schema[r],n=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(i||""),d="valid"+o,h=e.opts.$data&&s&&s.$data;h&&(a+=" var schema"+o+" = "+e.util.getData(s.$data,i,e.dataPathArr)+"; ");var p="schema"+o;if(!h)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],m=s;if(m)for(var v,g=-1,y=m.length-1;g<y;){v=m[g+=1];var b=e.schema.properties[v];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))||(f[f.length]=v)}}else f=s;if(h||f.length){var w=e.errorPath,P=h||f.length>=e.opts.loopRequired,_=e.opts.ownProperties;if(c)if(a+=" var missing"+o+"; ",P){h||(a+=" var "+p+" = validate.schema"+n+"; ");var S="' + "+(k="schema"+o+"["+(j="i"+o)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,k,e.opts.jsonPointers)),a+=" var "+d+" = true; ",h&&(a+=" if (schema"+o+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+o+")) "+d+" = false; else {"),a+=" for (var "+j+" = 0; "+j+" < "+p+".length; "+j+"++) { "+d+" = "+u+"["+p+"["+j+"]] !== undefined ",_&&(a+=" &&   Object.prototype.hasOwnProperty.call("+u+", "+p+"["+j+"]) "),a+="; if (!"+d+") break; } ",h&&(a+="  }  "),a+="  if (!"+d+") {   ",(x=x||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ";var E=a;a=x.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+E+"]); ":a+=" validate.errors = ["+E+"]; return false; ":a+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else{a+=" if ( ";var x,F=f;if(F)for(var j=-1,C=F.length-1;j<C;)$=F[j+=1],j&&(a+=" || "),a+=" ( ( "+(I=u+(D=e.util.getProperty($)))+" === undefined ",_&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes($)+"') "),a+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?$:D)+") ) ";a+=") {  ",S="' + "+(k="missing"+o)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,k,!0):w+" + "+k),(x=x||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",E=a,a=x.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+E+"]); ":a+=" validate.errors = ["+E+"]; return false; ":a+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else { "}else if(P){var k;h||(a+=" var "+p+" = validate.schema"+n+"; "),S="' + "+(k="schema"+o+"["+(j="i"+o)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,k,e.opts.jsonPointers)),h&&(a+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),a+=" for (var "+j+" = 0; "+j+" < "+p+".length; "+j+"++) { if ("+u+"["+p+"["+j+"]] === undefined ",_&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", "+p+"["+j+"]) "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(a+="  }  ")}else{var A=f;if(A)for(var $,O=-1,R=A.length-1;O<R;){$=A[O+=1];var D=e.util.getProperty($),I=(S=e.util.escapeQuotes($),u+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,$,e.opts.jsonPointers)),a+=" if ( "+I+" === undefined ",_&&(a+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes($)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+S+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+S+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=w}else c&&(a+=" if (true) {");return a},uniqueItems:function(e,r,t){var a,o=" ",i=e.level,s=e.dataLevel,n=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(s||""),h="valid"+i,p=e.opts.$data&&n&&n.$data;if(p?(o+=" var schema"+i+" = "+e.util.getData(n.$data,s,e.dataPathArr)+"; ",a="schema"+i):a=n,(n||p)&&!1!==e.opts.uniqueItems){p&&(o+=" var "+h+"; if ("+a+" === false || "+a+" === undefined) "+h+" = true; else if (typeof "+a+" != 'boolean') "+h+" = false; else { "),o+=" var i = "+d+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,m=Array.isArray(f);if(!f||"object"==f||"array"==f||m&&(f.indexOf("object")>=0||f.indexOf("array")>=0))o+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+h+" = false; break outer; } } } ";else{o+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var v="checkDataType"+(m?"s":"");o+=" if ("+e.util[v](f,"item",e.opts.strictNumbers,!0)+") continue; ",m&&(o+=" if (typeof item == 'string') item = '\"' + item; "),o+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}o+=" } ",p&&(o+="  }  "),o+=" if (!"+h+") {   ";var g=g||[];g.push(o),o="",!1!==e.createErrors?(o+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(o+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(o+=" , schema:  ",o+=p?"validate.schema"+l:""+n,o+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var y=o;o=g.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+y+"]); ":o+=" validate.errors = ["+y+"]; return false; ":o+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",o+=" } ",u&&(o+=" else { ")}else u&&(o+=" if (true) { ");return o},validate:qo},Ai=ki,$i=Ka.toHash,Oi=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],Ri=Io.MissingRef,Di={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},Ii=Di,Li={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Ii.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Ii.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},Ti=/^[a-z_$][a-z0-9_$-]*$/i,Ni=function(e,r,t){var a,o,i=" ",s=e.level,n=e.dataLevel,l=e.schema[r],c=e.schemaPath+e.util.getProperty(r),u=e.errSchemaPath+"/"+r,d=!e.opts.allErrors,h="data"+(n||""),p="valid"+s,f="errs__"+s,m=e.opts.$data&&l&&l.$data;m?(i+=" var schema"+s+" = "+e.util.getData(l.$data,n,e.dataPathArr)+"; ",o="schema"+s):o=l;var v,g,y,b,w,P=this,_="definition"+s,S=P.definition,E="";if(m&&S.$data){w="keywordValidate"+s;var x=S.validateSchema;i+=" var "+_+" = RULES.custom['"+r+"'].definition; var "+w+" = "+_+".validate;"}else{if(!(b=e.useCustomRule(P,l,e.schema,e)))return;o="validate.schema"+c,w=b.code,v=S.compile,g=S.inline,y=S.macro}var F=w+".errors",j="i"+s,C="ruleErr"+s,k=S.async;if(k&&!e.async)throw new Error("async keyword in sync schema");if(g||y||(i+=F+" = null;"),i+="var "+f+" = errors;var "+p+";",m&&S.$data&&(E+="}",i+=" if ("+o+" === undefined) { "+p+" = true; } else { ",x&&(E+="}",i+=" "+p+" = "+_+".validateSchema("+o+"); if ("+p+") { ")),g)S.statements?i+=" "+b.validate+" ":i+=" "+p+" = "+b.validate+"; ";else if(y){var A=e.util.copy(e);E="",A.level++;var $="valid"+A.level;A.schema=b.validate,A.schemaPath="";var O=e.compositeRule;e.compositeRule=A.compositeRule=!0;var R=e.validate(A).replace(/validate\.schema/g,w);e.compositeRule=A.compositeRule=O,i+=" "+R}else{(T=T||[]).push(i),i="",i+="  "+w+".call( ",e.opts.passContext?i+="this":i+="self",v||!1===S.schema?i+=" , "+h+" ":i+=" , "+o+" , "+h+" , validate.schema"+e.schemaPath+" ",i+=" , (dataPath || '')",'""'!=e.errorPath&&(i+=" + "+e.errorPath);var D=n?"data"+(n-1||""):"parentData",I=n?e.dataPathArr[n]:"parentDataProperty",L=i+=" , "+D+" , "+I+" , rootData )  ";i=T.pop(),!1===S.errors?(i+=" "+p+" = ",k&&(i+="await "),i+=L+"; "):i+=k?" var "+(F="customErrors"+s)+" = null; try { "+p+" = await "+L+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+F+" = e.errors; else throw e; } ":" "+F+" = null; "+p+" = "+L+"; "}if(S.modifying&&(i+=" if ("+D+") "+h+" = "+D+"["+I+"];"),i+=""+E,S.valid)d&&(i+=" if (true) { ");else{var T;i+=" if ( ",void 0===S.valid?(i+=" !",i+=y?""+$:""+p):i+=" "+!S.valid+" ",i+=") { ",a=P.keyword,(T=T||[]).push(i),i="",(T=T||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+P.keyword+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \""+P.keyword+"\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var N=i;i=T.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+N+"]); ":i+=" validate.errors = ["+N+"]; return false; ":i+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var q=i;i=T.pop(),g?S.errors?"full"!=S.errors&&(i+="  for (var "+j+"="+f+"; "+j+"<errors; "+j+"++) { var "+C+" = vErrors["+j+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(i+=" "+C+".schema = "+o+"; "+C+".data = "+h+"; "),i+=" } "):!1===S.errors?i+=" "+q+" ":(i+=" if ("+f+" == errors) { "+q+" } else {  for (var "+j+"="+f+"; "+j+"<errors; "+j+"++) { var "+C+" = vErrors["+j+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(i+=" "+C+".schema = "+o+"; "+C+".data = "+h+"; "),i+=" } } "):y?(i+="   var err =   ",!1!==e.createErrors?(i+=" { keyword: '"+(a||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+P.keyword+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should pass \""+P.keyword+"\" keyword validation' "),e.opts.verbose&&(i+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; ")):!1===S.errors?i+=" "+q+" ":(i+=" if (Array.isArray("+F+")) { if (vErrors === null) vErrors = "+F+"; else vErrors = vErrors.concat("+F+"); errors = vErrors.length;  for (var "+j+"="+f+"; "+j+"<errors; "+j+"++) { var "+C+" = vErrors["+j+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+";  "+C+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(i+=" "+C+".schema = "+o+"; "+C+".data = "+h+"; "),i+=" } } else { "+q+" } "),i+=" } ",d&&(i+=" else { ")}return i},qi=Li,Bi={add:function(e,r){var t=this.RULES;if(t.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!Ti.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(r){this.validateKeyword(r,!0);var a=r.type;if(Array.isArray(a))for(var o=0;o<a.length;o++)s(e,a[o],r);else s(e,a,r);var i=r.metaSchema;i&&(r.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),r.validateSchema=this.compile(i,!0))}function s(e,r,a){for(var o,i=0;i<t.length;i++){var s=t[i];if(s.type==r){o=s;break}}o||(o={type:r,rules:[]},t.push(o));var n={keyword:e,definition:a,custom:!0,code:Ni,implements:a.implements};o.rules.push(n),t.custom[e]=n}return t.keywords[e]=t.all[e]=!0,this},get:function(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1},remove:function(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var a=r[t].rules,o=0;o<a.length;o++)if(a[o].keyword==e){a.splice(o,1);break}return this},validate:function e(r,t){e.errors=null;var a=this._validateKeyword=this._validateKeyword||this.compile(qi,!0);if(a(r))return!0;if(e.errors=a.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(a.errors));return!1}},zi={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},Vi=function e(r,t,a,o){var i=this,s=this._opts,n=[void 0],l={},c=[],u={},d=[],h={},p=[];t=t||{schema:r,refVal:n,refs:l};var f=Go.call(this,r,t,o),m=this._compilations[f.index];if(f.compiling)return m.callValidate=function e(){var r=m.validate,t=r.apply(this,arguments);return e.errors=r.errors,t};var v=this._formats,g=this.RULES;try{var y=w(r,t,a,o);m.validate=y;var b=m.callValidate;return b&&(b.schema=y.schema,b.errors=null,b.refs=y.refs,b.refVal=y.refVal,b.root=y.root,b.$async=y.$async,s.sourceCode&&(b.source=y.source)),y}finally{Jo.call(this,r,t,o)}function w(r,a,o,u){var h=!a||a&&a.schema==r;if(a.schema!=t.schema)return e.call(i,r,a,o,u);var f,m=!0===r.$async,y=Uo({isTop:!0,schema:r,isRoot:h,baseId:u,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Vo.MissingRef,RULES:g,validate:Uo,util:zo,resolve:Bo,resolveRef:P,usePattern:E,useDefault:x,useCustomRule:F,opts:s,formats:v,logger:i.logger,self:i});y=ri(n,Yo)+ri(c,Zo)+ri(d,Xo)+ri(p,ei)+y,s.processCode&&(y=s.processCode(y,r));try{f=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",y)(i,g,v,t,n,d,p,Ho,Qo,Ko),n[0]=f}catch(e){throw i.logger.error("Error compiling schema, function code:",y),e}return f.schema=r,f.errors=null,f.refs=l,f.refVal=n,f.root=h?f:a,m&&(f.$async=!0),!0===s.sourceCode&&(f.source={code:y,patterns:c,defaults:d}),f}function P(r,o,c){o=Bo.url(r,o);var u,d,h=l[o];if(void 0!==h)return S(u=n[h],d="refVal["+h+"]");if(!c&&t.refs){var p=t.refs[o];if(void 0!==p)return S(u=t.refVal[p],d=_(o,u))}d=_(o);var f=Bo.call(i,w,t,o);if(void 0===f){var m=a&&a[o];m&&(f=Bo.inlineRef(m,s.inlineRefs)?m:e.call(i,m,t,a,r))}if(void 0!==f)return function(e,r){var t=l[e];n[t]=r}(o,f),S(f,d);!function(e){delete l[e]}(o)}function _(e,r){var t=n.length;return n[t]=r,l[e]=t,"refVal"+t}function S(e,r){return"object"==typeof e||"boolean"==typeof e?{code:r,schema:e,inline:!0}:{code:r,$async:e&&!!e.$async}}function E(e){var r=u[e];return void 0===r&&(r=u[e]=c.length,c[r]=e),"pattern"+r}function x(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return zo.toQuotedString(e);case"object":if(null===e)return"null";var r=Mo(e),t=h[r];return void 0===t&&(t=h[r]=d.length,d[t]=e),"default"+t}}function F(e,r,t,a){if(!1!==i._opts.validateSchema){var o=e.definition.dependencies;if(o&&!o.every((function(e){return Object.prototype.hasOwnProperty.call(t,e)})))throw new Error("parent schema must have all required keywords: "+o.join(","));var n=e.definition.validateSchema;if(n&&!n(r)){var l="keyword schema is invalid: "+i.errorsText(n.errors);if("log"!=i._opts.validateSchema)throw new Error(l);i.logger.error(l)}}var c,u=e.definition.compile,d=e.definition.inline,h=e.definition.macro;if(u)c=u.call(i,r,t,a);else if(h)c=h.call(i,r,t,a),!1!==s.validateSchema&&i.validateSchema(c,!0);else if(d)c=d.call(i,a,e.keyword,r,t);else if(!(c=e.definition.validate))return;if(void 0===c)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var f=p.length;return p[f]=c,{code:"customRule"+f,validate:c}}},Mi=bo,Ui=oi,Qi=lo,Hi=No,Ki=gi,Gi=function(e,r){for(var t=0;t<r.length;t++){e=JSON.parse(JSON.stringify(e));var a,o=r[t].split("/"),i=e;for(a=1;a<o.length;a++)i=i[o[a]];for(a=0;a<Oi.length;a++){var s=Oi[a],n=i[s];n&&(i[s]={anyOf:[n,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},Ji=Ka,Wi=ts;ts.prototype.validate=function(e,r){var t;if("string"==typeof e){if(!(t=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var a=this._addSchema(e);t=a.validate||this._compile(a)}var o=t(r);return!0!==t.$async&&(this.errors=t.errors),o},ts.prototype.compile=function(e,r){var t=this._addSchema(e,void 0,r);return t.validate||this._compile(t)},ts.prototype.addSchema=function(e,r,t,a){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,t,a);return this}var i=this._getId(e);if(void 0!==i&&"string"!=typeof i)throw new Error("schema id must be string");return ls(this,r=Mi.normalizeId(r||i)),this._schemas[r]=this._addSchema(e,t,a,!0),this},ts.prototype.addMetaSchema=function(e,r,t){return this.addSchema(e,r,t,!0),this},ts.prototype.validateSchema=function(e,r){var t=e.$schema;if(void 0!==t&&"string"!=typeof t)throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||function(e){var r=e._opts.meta;return e._opts.defaultMeta="object"==typeof r?e._getId(r)||r:e.getSchema(Yi)?Yi:void 0,e._opts.defaultMeta}(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(t,e);if(!a&&r){var o="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(o);this.logger.error(o)}return a},ts.prototype.getSchema=function(e){var r=as(this,e);switch(typeof r){case"object":return r.validate||this._compile(r);case"string":return this.getSchema(r);case"undefined":return function(e,r){var t=Mi.schema.call(e,{schema:{}},r);if(t){var a=t.schema,o=t.root,i=t.baseId,s=Vi.call(e,a,o,void 0,i);return e._fragments[r]=new Qi({ref:r,fragment:!0,schema:a,root:o,baseId:i,validate:s}),s}}(this,e)}},ts.prototype.removeSchema=function(e){if(e instanceof RegExp)return os(this,this._schemas,e),os(this,this._refs,e),this;switch(typeof e){case"undefined":return os(this,this._schemas),os(this,this._refs),this._cache.clear(),this;case"string":var r=as(this,e);return r&&this._cache.del(r.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var t=this._opts.serialize,a=t?t(e):e;this._cache.del(a);var o=this._getId(e);o&&(o=Mi.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},ts.prototype.addFormat=function(e,r){return"string"==typeof r&&(r=new RegExp(r)),this._formats[e]=r,this},ts.prototype.errorsText=function(e,r){if(!(e=e||this.errors))return"No errors";for(var t=void 0===(r=r||{}).separator?", ":r.separator,a=void 0===r.dataVar?"data":r.dataVar,o="",i=0;i<e.length;i++){var s=e[i];s&&(o+=a+s.dataPath+" "+s.message+t)}return o.slice(0,-t.length)},ts.prototype._addSchema=function(e,r,t,a){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,i=o?o(e):e,s=this._cache.get(i);if(s)return s;a=a||!1!==this._opts.addUsedSchema;var n=Mi.normalizeId(this._getId(e));n&&a&&ls(this,n);var l,c=!1!==this._opts.validateSchema&&!r;c&&!(l=n&&n==Mi.normalizeId(e.$schema))&&this.validateSchema(e,!0);var u=Mi.ids.call(this,e),d=new Qi({id:n,schema:e,localRefs:u,cacheKey:i,meta:t});return"#"!=n[0]&&a&&(this._refs[n]=d),this._cache.put(i,d),c&&l&&this.validateSchema(e,!0),d},ts.prototype._compile=function(e,r){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=r||o,!0===e.schema.$async&&(o.$async=!0),o;var t,a;e.compiling=!0,e.meta&&(t=this._opts,this._opts=this._metaOpts);try{a=Vi.call(this,e.schema,r,e.localRefs)}catch(r){throw delete e.validate,r}finally{e.compiling=!1,e.meta&&(this._opts=t)}return e.validate=a,e.refs=a.refs,e.refVal=a.refVal,e.root=a.root,a;function o(){var r=e.validate,t=r.apply(this,arguments);return o.errors=r.errors,t}},ts.prototype.compileAsync=function e(r,t,a){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(a=t,t=void 0);var i=s(r).then((function(){var e=o._addSchema(r,void 0,t);return e.validate||n(e)}));return a&&i.then((function(e){a(null,e)}),a),i;function s(r){var t=r.$schema;return t&&!o.getSchema(t)?e.call(o,{$ref:t},!0):Promise.resolve()}function n(e){try{return o._compile(e)}catch(r){if(r instanceof Ri)return function(r){var a=r.missingSchema;if(c(a))throw new Error("Schema "+a+" is loaded but "+r.missingRef+" cannot be resolved");var i=o._loadingSchemas[a];return i||(i=o._loadingSchemas[a]=o._opts.loadSchema(a)).then(l,l),i.then((function(e){if(!c(a))return s(e).then((function(){c(a)||o.addSchema(e,a,void 0,t)}))})).then((function(){return n(e)}));function l(){delete o._loadingSchemas[a]}function c(e){return o._refs[e]||o._schemas[e]}}(r);throw r}}};var Zi=Bi;ts.prototype.addKeyword=Zi.add,ts.prototype.getKeyword=Zi.get,ts.prototype.removeKeyword=Zi.remove,ts.prototype.validateKeyword=Zi.validate;var Xi=Io;ts.ValidationError=Xi.Validation,ts.MissingRefError=Xi.MissingRef,ts.$dataMetaSchema=Gi;var Yi="http://json-schema.org/draft-07/schema",es=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],rs=["/properties"];function ts(e){if(!(this instanceof ts))return new ts(e);e=this._opts=Ji.copy(e)||{},function(e){var r=e._opts.logger;if(!1===r)e.logger={log:cs,warn:cs,error:cs};else{if(void 0===r&&(r=console),!("object"==typeof r&&r.log&&r.warn&&r.error))throw new Error("logger must implement log, warn and error methods");e.logger=r}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=Ki(e.format),this._cache=e.cache||new Ui,this._loadingSchemas={},this._compilations=[],this.RULES=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"];return e.all=$i(r),e.types=$i(["number","integer","string","array","object","boolean","null"]),e.forEach((function(t){t.rules=t.rules.map((function(t){var a;if("object"==typeof t){var o=Object.keys(t)[0];a=t[o],t=o,a.forEach((function(t){r.push(t),e.all[t]=!0}))}return r.push(t),e.all[t]={keyword:t,code:Ai[t],implements:a}})),e.all.$comment={keyword:"$comment",code:Ai.$comment},t.type&&(e.types[t.type]=t)})),e.keywords=$i(r.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}(),this._getId=function(e){switch(e.schemaId){case"auto":return ns;case"id":return is;default:return ss}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=Hi),this._metaOpts=function(e){for(var r=Ji.copy(e._opts),t=0;t<es.length;t++)delete r[es[t]];return r}(this),e.formats&&function(e){for(var r in e._opts.formats){var t=e._opts.formats[r];e.addFormat(r,t)}}(this),e.keywords&&function(e){for(var r in e._opts.keywords){var t=e._opts.keywords[r];e.addKeyword(r,t)}}(this),function(e){var r;if(e._opts.$data&&(r=zi,e.addMetaSchema(r,r.$id,!0)),!1!==e._opts.meta){var t=Di;e._opts.$data&&(t=Gi(t,rs)),e.addMetaSchema(t,Yi,!0),e._refs["http://json-schema.org/schema"]=Yi}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var r=e._opts.schemas;if(r)if(Array.isArray(r))e.addSchema(r);else for(var t in r)e.addSchema(r[t],t)}(this)}function as(e,r){return r=Mi.normalizeId(r),e._schemas[r]||e._refs[r]||e._fragments[r]}function os(e,r,t){for(var a in r){var o=r[a];o.meta||t&&!t.test(a)||(e._cache.del(o.cacheKey),delete r[a])}}function is(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function ss(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function ns(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function ls(e,r){if(e._schemas[r]||e._refs[r])throw new Error('schema with key or id "'+r+'" already exists')}function cs(){}var us=tt(Wi);function ds(e,r){let t=0;if(e!==r){const a=e.split("."),o=r.split(".");for(let e=0;e<a.length;e+=1){const r=Number.parseInt(a[e],10),i=Number.parseInt(o[e],10);if(r>i||Number.isNaN(i)){t=1;break}if(r<i){t=-1;break}}}return t}function hs(e){let r=n.Same,t=[];var a;if(void 0!==(a=e)&&/^([1-9]\d*|0)(\.(([1-9]\d*)|0)){2}$/u.test(a)&&void 0!==e){za.sort(ds);const a=ds(e,za[za.length-1]);if(1===a?r=n.Newer:-1===a&&(r=n.Older),r===n.Newer||r===n.Same)t.push(e);else{for(let r=za.length-2;r>=0;r-=1)if(ds(e,za[r])>=0){t=za.slice(r,za.length);break}0===t.length&&t.push(Va)}}else r=n.Unrecognized,t.push(Ma);return{versionStatus:r,versions:t}}async function ps(e,r){if(void 0!==r?.series)for(let t=0;t<r.series.length;t+=1){const a=r.series[t].type;if(!e.includes(a)){const r=await La(),o=Mr(r.invalidSeriesType,{receivedType:a,seriesIndex:`${t}`,expectedType:e.join(` ${r.or} `)});console.error(o)}}}function fs(e){return e&&"iLayer"in e&&e.iLayer}var ms;!function(){const e=new us({allErrors:!0})}(),function(e){e.NONE="none",e.ROTATE="rotate",e.STAGGER="stagger",e.WRAP="wrap"}(ms||(ms={}));const vs={MonoSelection:"monoSelection",MultiSelection:"multiSelection",MultiSelectionWithCtrlKey:"multiSelectionWithCtrlKey",Zoom:"zoom",None:"none"},gs={FilterBySelection:"filterBySelection",FilterByExtent:"filterByExtent",Legend:"legend",RotateChart:"rotateChart",Selection:"selection",ClearSelection:"clearSelection",SwitchSelection:"switchSelection",Zoom:"zoom",FullExtent:"fullExtent",Configure:"configure"},ys={Active:"active",Inactive:"inactive"},bs={Enabled:"enabled",Disabled:"disabled"},ws={Ignore:"ignore",Throw:"throw"},Ps={Ignore:"ignore",Refresh:"refresh"},_s=Ps,Ss=Ps,Es={actionBar:"action-bar",customActionTop:"custom-action-top",customActionBelow:"custom-action-below",expandTooltip:"expand-tooltip"},xs={Chart:"chart",Text:"chartText",Overlay:"chartOverlay",Overlays:"chartOverlays",Legend:"chartLegend",CursorCrosshair:"cursorCrosshair",Axis:"chartAxis",GaugeAxisTick:"gaugeAxisTick",GaugeNeedle:"gaugeNeedle",CategoryAxisFormat:"category",NumberAxisFormat:"number",DateAxisFormat:"date",Guide:"chartGuide",ScatterSeries:"scatterSeries",PieSeries:"pieSeries",PieTick:"pieTick",GaugeSeries:"gaugeSeries",LineSeries:"lineSeries",BarSeries:"barSeries",HistogramSeries:"histogramSeries",BoxPlotSeries:"boxPlotSeries",RadarSeries:"radarSeries",ProbabilityPlotSeries:"probabilityPlotSeries",ProfileGraphSeries:"profileGraphSeries",ComboLineAndBarSeries:"comboLineAndBarSeries",Buffer:"buffer",SizePolicy:"sizeScale"},Fs={Same:"same",Newer:"newer",Older:"older",Unrecognized:"unrecognized"};function js(e,r){const t=document.createElement("calcite-tooltip");return t.innerHTML=e,t.style.setProperty("opacity","1"),void 0!==r&&(t.referenceElement=r),document.body.appendChild(t),t}function Cs(e){return e?.remove(),null}const ks=e=>{const r=e.detail,t=e.target,a=t.parentElement;if(null!==a)switch(r.actionId){case gs.FullExtent:a.resetZoom();break;case gs.RotateChart:a.rotation=r.actionActive;break;case gs.ClearSelection:a.clearSelection();break;case gs.Legend:a.legendVisibility=r.actionActive;break;case gs.Selection:a.actionMode=t.actionBarSelectionMode;break;case gs.Zoom:a.actionMode=vs.Zoom;break;case gs.SwitchSelection:a.switchSelection();break;case gs.FilterBySelection:a.filterBySelection=r.actionActive}},As=(e,r,t)=>{const a=e.target;a.removeEventListener("arcgisDefaultActionSelect",ks),a.addEventListener("arcgisDefaultActionSelect",ks);const o=a.assignedNodes().find((e=>"actionBarHideActionsProps"in e));if(void 0!==o){const e=[xs.HistogramSeries,xs.ScatterSeries,xs.PieSeries,xs.GaugeSeries],a=[xs.PieSeries,xs.GaugeSeries],i=[xs.PieSeries,xs.GaugeSeries];o.actionBarHideActionsProps={hideRotateChart:e.includes(r),hideZoom:a.includes(r),hideFullExtent:i.includes(r),hideLegend:r===xs.GaugeSeries,hideFilterBySelection:r===xs.GaugeSeries,hideClearSelection:r===xs.GaugeSeries,hideSwitchSelection:r===xs.GaugeSeries,hideSelection:r===xs.GaugeSeries,...o.actionBarHideActionsProps};const s=o.parentElement,n=!!t?.legend&&(t.legend.visible??!0);o.legendToggle=s.legendVisibility??n?ys.Active:ys.Inactive,o.filterBySelectionToggle=!0===s.filterBySelection?ys.Active:ys.Inactive,"rotation"in s&&(o.rotateChartToggle=!0===(s.rotation??t?.rotated)?ys.Active:ys.Inactive)}}}}]);